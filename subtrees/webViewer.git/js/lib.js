function range(){return function(e){var t,n;if(!e)return null;switch(e.length){case 1:t=0,n=parseInt(e[0],10)-1;break;case 2:t=parseInt(e[0],10),n=parseInt(e[1],10);break;default:return e}var i=[];if(n>t)for(var r=t;n>=r;r++)i.push(r);else for(var o=t;o>=n;o--)i.push(o);return i}}function loadURLasArrayBuffer(e,t){if(0===e.indexOf("data:")){for(var n=e.indexOf("base64,")+7,i=atob(e.substring(n)),r=new Uint8Array(i.length),o=i.length-1;o>=0;o--)r[o]=i.charCodeAt(o);return void t(r.buffer)}var a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType="arraybuffer",a.onload=function(){t(a.response)},a.send(null)}!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=!!e&&"length"in e&&e.length,n=oe.type(e);return"function"===n||oe.isWindow(e)?!1:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function i(e,t,n){if(oe.isFunction(t))return oe.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return oe.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(me.test(t))return oe.filter(t,e,n);t=oe.filter(t,e)}return oe.grep(e,function(e){return Z.call(t,e)>-1!==n})}function r(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t={};return oe.each(e.match(xe)||[],function(e,n){t[n]=!0}),t}function a(){K.removeEventListener("DOMContentLoaded",a),e.removeEventListener("load",a),oe.ready()}function s(){this.expando=oe.expando+s.uid++}function l(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(Me,"-$&").toLowerCase(),n=e.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Se.test(n)?oe.parseJSON(n):n}catch(r){}ke.set(e,t,n)}else n=void 0;return n}function u(e,t,n,i){var r,o=1,a=20,s=i?function(){return i.cur()}:function(){return oe.css(e,t,"")},l=s(),u=n&&n[3]||(oe.cssNumber[t]?"":"px"),c=(oe.cssNumber[t]||"px"!==u&&+l)&&Ie.exec(oe.css(e,t));if(c&&c[3]!==u){u=u||c[3],n=n||[],c=+l||1;do o=o||".5",c/=o,oe.style(e,t,c+u);while(o!==(o=s()/l)&&1!==o&&--a)}return n&&(c=+c||+l||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=r)),r}function c(e,t){var n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&oe.nodeName(e,t)?oe.merge([e],n):n}function h(e,t){for(var n=0,i=e.length;i>n;n++)_e.set(e[n],"globalEval",!t||_e.get(t[n],"globalEval"))}function d(e,t,n,i,r){for(var o,a,s,l,u,d,f=t.createDocumentFragment(),p=[],m=0,g=e.length;g>m;m++)if(o=e[m],o||0===o)if("object"===oe.type(o))oe.merge(p,o.nodeType?[o]:o);else if(He.test(o)){for(a=a||f.appendChild(t.createElement("div")),s=(Oe.exec(o)||["",""])[1].toLowerCase(),l=Re[s]||Re._default,a.innerHTML=l[1]+oe.htmlPrefilter(o)+l[2],d=l[0];d--;)a=a.lastChild;oe.merge(p,a.childNodes),a=f.firstChild,a.textContent=""}else p.push(t.createTextNode(o));for(f.textContent="",m=0;o=p[m++];)if(i&&oe.inArray(o,i)>-1)r&&r.push(o);else if(u=oe.contains(o.ownerDocument,o),a=c(f.appendChild(o),"script"),u&&h(a),n)for(d=0;o=a[d++];)Ne.test(o.type||"")&&n.push(o);return f}function f(){return!0}function p(){return!1}function m(){try{return K.activeElement}catch(e){}}function g(e,t,n,i,r,o){var a,s;if("object"==typeof t){"string"!=typeof n&&(i=i||n,n=void 0);for(s in t)g(e,s,n,i,t[s],o);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),r===!1)r=p;else if(!r)return e;return 1===o&&(a=r,r=function(e){return oe().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=oe.guid++)),e.each(function(){oe.event.add(this,t,r,i,n)})}function v(e,t){return oe.nodeName(e,"table")&&oe.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function y(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function b(e){var t=qe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function w(e,t){var n,i,r,o,a,s,l,u;if(1===t.nodeType){if(_e.hasData(e)&&(o=_e.access(e),a=_e.set(t,o),u=o.events)){delete a.handle,a.events={};for(r in u)for(n=0,i=u[r].length;i>n;n++)oe.event.add(t,r,u[r][n])}ke.hasData(e)&&(s=ke.access(e),l=oe.extend({},s),ke.set(t,l))}}function x(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Ae.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function $(e,t,n,i){t=J.apply([],t);var r,o,a,s,l,u,h=0,f=e.length,p=f-1,m=t[0],g=oe.isFunction(m);if(g||f>1&&"string"==typeof m&&!ie.checkClone&&We.test(m))return e.each(function(r){var o=e.eq(r);g&&(t[0]=m.call(this,r,o.html())),$(o,t,n,i)});if(f&&(r=d(t,e[0].ownerDocument,!1,e,i),o=r.firstChild,1===r.childNodes.length&&(r=o),o||i)){for(a=oe.map(c(r,"script"),y),s=a.length;f>h;h++)l=r,h!==p&&(l=oe.clone(l,!0,!0),s&&oe.merge(a,c(l,"script"))),n.call(e[h],l,h);if(s)for(u=a[a.length-1].ownerDocument,oe.map(a,b),h=0;s>h;h++)l=a[h],Ne.test(l.type||"")&&!_e.access(l,"globalEval")&&oe.contains(u,l)&&(l.src?oe._evalUrl&&oe._evalUrl(l.src):oe.globalEval(l.textContent.replace(Be,"")))}return e}function C(e,t,n){for(var i,r=t?oe.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||oe.cleanData(c(i)),i.parentNode&&(n&&oe.contains(i.ownerDocument,i)&&h(c(i,"script")),i.parentNode.removeChild(i));return e}function T(e,t){var n=oe(t.createElement(e)).appendTo(t.body),i=oe.css(n[0],"display");return n.detach(),i}function _(e){var t=K,n=Ye[e];return n||(n=T(e,t),"none"!==n&&n||(Ue=(Ue||oe("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Ue[0].contentDocument,t.write(),t.close(),n=T(e,t),Ue.detach()),Ye[e]=n),n}function k(e,t,n){var i,r,o,a,s=e.style;return n=n||Ge(e),a=n?n.getPropertyValue(t)||n[t]:void 0,""!==a&&void 0!==a||oe.contains(e.ownerDocument,e)||(a=oe.style(e,t)),n&&!ie.pixelMarginRight()&&Ke.test(a)&&Xe.test(t)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o),void 0!==a?a+"":a}function S(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function M(e){if(e in it)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=nt.length;n--;)if(e=nt[n]+t,e in it)return e}function D(e,t,n){var i=Ie.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function I(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=oe.css(e,n+Ee[o],!0,r)),i?("content"===n&&(a-=oe.css(e,"padding"+Ee[o],!0,r)),"margin"!==n&&(a-=oe.css(e,"border"+Ee[o]+"Width",!0,r))):(a+=oe.css(e,"padding"+Ee[o],!0,r),"padding"!==n&&(a+=oe.css(e,"border"+Ee[o]+"Width",!0,r)));return a}function E(t,n,i){var r=!0,o="width"===n?t.offsetWidth:t.offsetHeight,a=Ge(t),s="border-box"===oe.css(t,"boxSizing",!1,a);if(K.msFullscreenElement&&e.top!==e&&t.getClientRects().length&&(o=Math.round(100*t.getBoundingClientRect()[n])),0>=o||null==o){if(o=k(t,n,a),(0>o||null==o)&&(o=t.style[n]),Ke.test(o))return o;r=s&&(ie.boxSizingReliable()||o===t.style[n]),o=parseFloat(o)||0}return o+I(t,n,i||(s?"border":"content"),r,a)+"px"}function P(e,t){for(var n,i,r,o=[],a=0,s=e.length;s>a;a++)i=e[a],i.style&&(o[a]=_e.get(i,"olddisplay"),n=i.style.display,t?(o[a]||"none"!==n||(i.style.display=""),""===i.style.display&&Pe(i)&&(o[a]=_e.access(i,"olddisplay",_(i.nodeName)))):(r=Pe(i),"none"===n&&r||_e.set(i,"olddisplay",r?n:oe.css(i,"display"))));for(a=0;s>a;a++)i=e[a],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[a]||"":"none"));return e}function A(e,t,n,i,r){return new A.prototype.init(e,t,n,i,r)}function O(){return e.setTimeout(function(){rt=void 0}),rt=oe.now()}function N(e,t){var n,i=0,r={height:e};for(t=t?1:0;4>i;i+=2-t)n=Ee[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function R(e,t,n){for(var i,r=(F.tweeners[t]||[]).concat(F.tweeners["*"]),o=0,a=r.length;a>o;o++)if(i=r[o].call(n,t,e))return i}function H(e,t,n){var i,r,o,a,s,l,u,c,h=this,d={},f=e.style,p=e.nodeType&&Pe(e),m=_e.get(e,"fxshow");n.queue||(s=oe._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,h.always(function(){h.always(function(){s.unqueued--,oe.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],u=oe.css(e,"display"),c="none"===u?_e.get(e,"olddisplay")||_(e.nodeName):u,"inline"===c&&"none"===oe.css(e,"float")&&(f.display="inline-block")),n.overflow&&(f.overflow="hidden",h.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(i in t)if(r=t[i],at.exec(r)){if(delete t[i],o=o||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;p=!0}d[i]=m&&m[i]||oe.style(e,i)}else u=void 0;if(oe.isEmptyObject(d))"inline"===("none"===u?_(e.nodeName):u)&&(f.display=u);else{m?"hidden"in m&&(p=m.hidden):m=_e.access(e,"fxshow",{}),o&&(m.hidden=!p),p?oe(e).show():h.done(function(){oe(e).hide()}),h.done(function(){var t;_e.remove(e,"fxshow");for(t in d)oe.style(e,t,d[t])});for(i in d)a=R(p?m[i]:0,i,h),i in m||(m[i]=a.start,p&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}}function z(e,t){var n,i,r,o,a;for(n in e)if(i=oe.camelCase(n),r=t[i],o=e[n],oe.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),a=oe.cssHooks[i],a&&"expand"in a){o=a.expand(o),delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=r)}else t[i]=r}function F(e,t,n){var i,r,o=0,a=F.prefilters.length,s=oe.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=rt||O(),n=Math.max(0,u.startTime+u.duration-t),i=n/u.duration||0,o=1-i,a=0,l=u.tweens.length;l>a;a++)u.tweens[a].run(o);return s.notifyWith(e,[u,o,n]),1>o&&l?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:oe.extend({},t),opts:oe.extend(!0,{specialEasing:{},easing:oe.easing._default},n),originalProperties:t,originalOptions:n,startTime:rt||O(),duration:n.duration,tweens:[],createTween:function(t,n){var i=oe.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(i),i},stop:function(t){var n=0,i=t?u.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)u.tweens[n].run(1);return t?(s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u,t])):s.rejectWith(e,[u,t]),this}}),c=u.props;for(z(c,u.opts.specialEasing);a>o;o++)if(i=F.prefilters[o].call(u,e,c,u.opts))return oe.isFunction(i.stop)&&(oe._queueHooks(u.elem,u.opts.queue).stop=oe.proxy(i.stop,i)),i;return oe.map(c,R,u),oe.isFunction(u.opts.start)&&u.opts.start.call(e,u),oe.fx.timer(oe.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function L(e){return e.getAttribute&&e.getAttribute("class")||""}function j(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(xe)||[];if(oe.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function V(e,t,n,i){function r(s){var l;return o[s]=!0,oe.each(e[s]||[],function(e,s){var u=s(t,n,i);return"string"!=typeof u||a||o[u]?a?!(l=u):void 0:(t.dataTypes.unshift(u),r(u),!1)}),l}var o={},a=e===kt;return r(t.dataTypes[0])||!o["*"]&&r("*")}function W(e,t){var n,i,r=oe.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&oe.extend(!0,e,i),e}function q(e,t,n){for(var i,r,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}a||(a=r)}o=o||a}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function B(e,t,n,i){var r,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=u[l+" "+o]||u["* "+o],!a)for(r in u)if(s=r.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){a===!0?a=u[r]:u[r]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(h){return{state:"parsererror",error:a?h:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function U(e,t,n,i){var r;if(oe.isArray(t))oe.each(t,function(t,r){n||It.test(e)?i(e,r):U(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)});else if(n||"object"!==oe.type(t))i(e,t);else for(r in t)U(e+"["+r+"]",t[r],n,i)}function Y(e){return oe.isWindow(e)?e:9===e.nodeType&&e.defaultView}var X=[],K=e.document,G=X.slice,J=X.concat,Q=X.push,Z=X.indexOf,ee={},te=ee.toString,ne=ee.hasOwnProperty,ie={},re="2.2.3",oe=function(e,t){return new oe.fn.init(e,t)},ae=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,se=/^-ms-/,le=/-([\da-z])/gi,ue=function(e,t){return t.toUpperCase()};oe.fn=oe.prototype={jquery:re,constructor:oe,selector:"",length:0,toArray:function(){return G.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:G.call(this)},pushStack:function(e){var t=oe.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return oe.each(this,e)},map:function(e){return this.pushStack(oe.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(G.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:Q,sort:X.sort,splice:X.splice},oe.extend=oe.fn.extend=function(){var e,t,n,i,r,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||oe.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],i=e[t],a!==i&&(u&&i&&(oe.isPlainObject(i)||(r=oe.isArray(i)))?(r?(r=!1,o=n&&oe.isArray(n)?n:[]):o=n&&oe.isPlainObject(n)?n:{},a[t]=oe.extend(u,o,i)):void 0!==i&&(a[t]=i));return a},oe.extend({expando:"jQuery"+(re+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===oe.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=e&&e.toString();return!oe.isArray(e)&&t-parseFloat(t)+1>=0},isPlainObject:function(e){var t;if("object"!==oe.type(e)||e.nodeType||oe.isWindow(e))return!1;if(e.constructor&&!ne.call(e,"constructor")&&!ne.call(e.constructor.prototype||{},"isPrototypeOf"))return!1;for(t in e);return void 0===t||ne.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ee[te.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=oe.trim(e),e&&(1===e.indexOf("use strict")?(t=K.createElement("script"),t.text=e,K.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(se,"ms-").replace(le,ue)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var i,r=0;if(n(e))for(i=e.length;i>r&&t.call(e[r],r,e[r])!==!1;r++);else for(r in e)if(t.call(e[r],r,e[r])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ae,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?oe.merge(i,"string"==typeof e?[e]:e):Q.call(i,e)),i},inArray:function(e,t,n){return null==t?-1:Z.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;n>i;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i,r=[],o=0,a=e.length,s=!n;a>o;o++)i=!t(e[o],o),i!==s&&r.push(e[o]);return r},map:function(e,t,i){var r,o,a=0,s=[];if(n(e))for(r=e.length;r>a;a++)o=t(e[a],a,i),null!=o&&s.push(o);else for(a in e)o=t(e[a],a,i),null!=o&&s.push(o);return J.apply([],s)},guid:1,proxy:function(e,t){var n,i,r;return"string"==typeof t&&(n=e[t],t=e,e=n),oe.isFunction(e)?(i=G.call(arguments,2),r=function(){return e.apply(t||this,i.concat(G.call(arguments)))},r.guid=e.guid=e.guid||oe.guid++,r):void 0},now:Date.now,support:ie}),"function"==typeof Symbol&&(oe.fn[Symbol.iterator]=X[Symbol.iterator]),oe.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ee["[object "+t+"]"]=t.toLowerCase()});var ce=function(e){function t(e,t,n,i){var r,o,a,s,l,u,h,f,p=t&&t.ownerDocument,m=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==m&&9!==m&&11!==m)return n;if(!i&&((t?t.ownerDocument||t:L)!==P&&E(t),t=t||P,O)){if(11!==m&&(u=ve.exec(e)))if(r=u[1]){if(9===m){if(!(a=t.getElementById(r)))return n;if(a.id===r)return n.push(a),n}else if(p&&(a=p.getElementById(r))&&z(t,a)&&a.id===r)return n.push(a),n}else{if(u[2])return Q.apply(n,t.getElementsByTagName(e)),n;if((r=u[3])&&x.getElementsByClassName&&t.getElementsByClassName)return Q.apply(n,t.getElementsByClassName(r)),n}if(x.qsa&&!B[e+" "]&&(!N||!N.test(e))){if(1!==m)p=t,f=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(be,"\\$&"):t.setAttribute("id",s=F),h=_(e),o=h.length,l=de.test(s)?"#"+s:"[id='"+s+"']";o--;)h[o]=l+" "+d(h[o]);f=h.join(","),p=ye.test(e)&&c(t.parentNode)||t}if(f)try{return Q.apply(n,p.querySelectorAll(f)),n}catch(g){}finally{s===F&&t.removeAttribute("id")}}}return S(e.replace(se,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>$.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[F]=!0,e}function r(e){var t=P.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),i=n.length;i--;)$.attrHandle[n[i]]=t}function a(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Y)-(~e.sourceIndex||Y);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return i(function(t){return t=+t,i(function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function h(){}function d(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function f(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=V++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,a){var s,l,u,c=[j,o];if(a){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,a))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if(u=t[F]||(t[F]={}),l=u[t.uniqueID]||(u[t.uniqueID]={}),(s=l[i])&&s[0]===j&&s[1]===o)return c[2]=s[2];if(l[i]=c,c[2]=e(t,n,a))return!0}}}function p(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function m(e,n,i){for(var r=0,o=n.length;o>r;r++)t(e,n[r],i);return i}function g(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,u=null!=t;l>s;s++)(o=e[s])&&(n&&!n(o,i,r)||(a.push(o),u&&t.push(s)));return a}function v(e,t,n,r,o,a){return r&&!r[F]&&(r=v(r)),o&&!o[F]&&(o=v(o,a)),i(function(i,a,s,l){var u,c,h,d=[],f=[],p=a.length,v=i||m(t||"*",s.nodeType?[s]:s,[]),y=!e||!i&&t?v:g(v,d,e,s,l),b=n?o||(i?e:p||r)?[]:a:y;if(n&&n(y,b,s,l),r)for(u=g(b,f),r(u,[],s,l),c=u.length;c--;)(h=u[c])&&(b[f[c]]=!(y[f[c]]=h));if(i){if(o||e){if(o){for(u=[],c=b.length;c--;)(h=b[c])&&u.push(y[c]=h);o(null,b=[],u,l)}for(c=b.length;c--;)(h=b[c])&&(u=o?ee(i,h):d[c])>-1&&(i[u]=!(a[u]=h))}}else b=g(b===a?b.splice(p,b.length):b),o?o(null,a,b,l):Q.apply(a,b)})}function y(e){for(var t,n,i,r=e.length,o=$.relative[e[0].type],a=o||$.relative[" "],s=o?1:0,l=f(function(e){return e===t},a,!0),u=f(function(e){return ee(t,e)>-1},a,!0),c=[function(e,n,i){var r=!o&&(i||n!==M)||((t=n).nodeType?l(e,n,i):u(e,n,i));return t=null,r}];r>s;s++)if(n=$.relative[e[s].type])c=[f(p(c),n)];else{if(n=$.filter[e[s].type].apply(null,e[s].matches),n[F]){for(i=++s;r>i&&!$.relative[e[i].type];i++);return v(s>1&&p(c),s>1&&d(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(se,"$1"),n,i>s&&y(e.slice(s,i)),r>i&&y(e=e.slice(i)),r>i&&d(e))}c.push(n)}return p(c)}function b(e,n){var r=n.length>0,o=e.length>0,a=function(i,a,s,l,u){var c,h,d,f=0,p="0",m=i&&[],v=[],y=M,b=i||o&&$.find.TAG("*",u),w=j+=null==y?1:Math.random()||.1,x=b.length;for(u&&(M=a===P||a||u);p!==x&&null!=(c=b[p]);p++){if(o&&c){for(h=0,a||c.ownerDocument===P||(E(c),s=!O);d=e[h++];)if(d(c,a||P,s)){l.push(c);break}u&&(j=w)}r&&((c=!d&&c)&&f--,i&&m.push(c))}if(f+=p,r&&p!==f){for(h=0;d=n[h++];)d(m,v,a,s);if(i){if(f>0)for(;p--;)m[p]||v[p]||(v[p]=G.call(l));v=g(v)}Q.apply(l,v),u&&!i&&v.length>0&&f+n.length>1&&t.uniqueSort(l)}return u&&(j=w,M=y),m};return r?i(a):a}var w,x,$,C,T,_,k,S,M,D,I,E,P,A,O,N,R,H,z,F="sizzle"+1*new Date,L=e.document,j=0,V=0,W=n(),q=n(),B=n(),U=function(e,t){return e===t&&(I=!0),0},Y=1<<31,X={}.hasOwnProperty,K=[],G=K.pop,J=K.push,Q=K.push,Z=K.slice,ee=function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re="\\["+ne+"*("+ie+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",oe=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),se=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),ue=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ce=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),he=new RegExp(oe),de=new RegExp("^"+ie+"$"),fe={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie+"|[*])"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},pe=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,be=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),xe=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},$e=function(){E()};try{Q.apply(K=Z.call(L.childNodes),L.childNodes),K[L.childNodes.length].nodeType}catch(Ce){Q={apply:K.length?function(e,t){J.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}x=t.support={},T=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},E=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:L;return i!==P&&9===i.nodeType&&i.documentElement?(P=i,A=P.documentElement,O=!T(P),(n=P.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",$e,!1):n.attachEvent&&n.attachEvent("onunload",$e)),x.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),x.getElementsByTagName=r(function(e){return e.appendChild(P.createComment("")),!e.getElementsByTagName("*").length}),x.getElementsByClassName=ge.test(P.getElementsByClassName),x.getById=r(function(e){return A.appendChild(e).id=F,!P.getElementsByName||!P.getElementsByName(F).length}),x.getById?($.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&O){var n=t.getElementById(e);return n?[n]:[]}},$.filter.ID=function(e){var t=e.replace(we,xe);return function(e){return e.getAttribute("id")===t}}):(delete $.find.ID,$.filter.ID=function(e){var t=e.replace(we,xe);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),$.find.TAG=x.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):x.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},$.find.CLASS=x.getElementsByClassName&&function(e,t){return"undefined"!=typeof t.getElementsByClassName&&O?t.getElementsByClassName(e):void 0},R=[],N=[],(x.qsa=ge.test(P.querySelectorAll))&&(r(function(e){A.appendChild(e).innerHTML="<a id='"+F+"'></a><select id='"+F+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&N.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||N.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+F+"-]").length||N.push("~="),e.querySelectorAll(":checked").length||N.push(":checked"),e.querySelectorAll("a#"+F+"+*").length||N.push(".#.+[+~]")}),r(function(e){var t=P.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&N.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||N.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),N.push(",.*:")})),(x.matchesSelector=ge.test(H=A.matches||A.webkitMatchesSelector||A.mozMatchesSelector||A.oMatchesSelector||A.msMatchesSelector))&&r(function(e){x.disconnectedMatch=H.call(e,"div"),H.call(e,"[s!='']:x"),R.push("!=",oe)}),N=N.length&&new RegExp(N.join("|")),R=R.length&&new RegExp(R.join("|")),t=ge.test(A.compareDocumentPosition),z=t||ge.test(A.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return I=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!x.sortDetached&&t.compareDocumentPosition(e)===n?e===P||e.ownerDocument===L&&z(L,e)?-1:t===P||t.ownerDocument===L&&z(L,t)?1:D?ee(D,e)-ee(D,t):0:4&n?-1:1)}:function(e,t){if(e===t)return I=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,s=[e],l=[t];if(!r||!o)return e===P?-1:t===P?1:r?-1:o?1:D?ee(D,e)-ee(D,t):0;if(r===o)return a(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;s[i]===l[i];)i++;return i?a(s[i],l[i]):s[i]===L?-1:l[i]===L?1:0},P):P},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==P&&E(e),n=n.replace(ce,"='$1']"),x.matchesSelector&&O&&!B[n+" "]&&(!R||!R.test(n))&&(!N||!N.test(n)))try{var i=H.call(e,n);if(i||x.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(r){}return t(n,P,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==P&&E(e),z(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==P&&E(e);var n=$.attrHandle[t.toLowerCase()],i=n&&X.call($.attrHandle,t.toLowerCase())?n(e,t,!O):void 0;return void 0!==i?i:x.attributes||!O?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,r=0;if(I=!x.detectDuplicates,D=!x.sortStable&&e.slice(0),e.sort(U),I){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return D=null,e},C=t.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=C(t);return n},$=t.selectors={cacheLength:50,createPseudo:i,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,xe),e[3]=(e[3]||e[4]||e[5]||"").replace(we,xe),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&he.test(n)&&(t=_(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,xe).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=W[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&W(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var o=t.attr(r,e);return null==o?"!="===n:n?(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(ae," ")+" ").indexOf(i)>-1:"|="===n?o===i||o.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var u,c,h,d,f,p,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s,b=!1;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&y){for(d=g,h=d[F]||(d[F]={}),c=h[d.uniqueID]||(h[d.uniqueID]={}),u=c[e]||[],f=u[0]===j&&u[1],b=f&&u[2],d=f&&g.childNodes[f];d=++f&&d&&d[m]||(b=f=0)||p.pop();)if(1===d.nodeType&&++b&&d===t){c[e]=[j,f,b];break}}else if(y&&(d=t,h=d[F]||(d[F]={}),c=h[d.uniqueID]||(h[d.uniqueID]={}),u=c[e]||[],f=u[0]===j&&u[1],b=f),b===!1)for(;(d=++f&&d&&d[m]||(b=f=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++b||(y&&(h=d[F]||(d[F]={}),c=h[d.uniqueID]||(h[d.uniqueID]={}),c[e]=[j,b]),d!==t)););return b-=r,b===i||b%i===0&&b/i>=0}}},PSEUDO:function(e,n){var r,o=$.pseudos[e]||$.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[F]?o(n):o.length>1?(r=[e,e,"",n],$.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,r=o(e,n),a=r.length;a--;)i=ee(e,r[a]),e[i]=!(t[i]=r[a])}):function(e){return o(e,0,r)}):o}},pseudos:{not:i(function(e){var t=[],n=[],r=k(e.replace(se,"$1"));return r[F]?i(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(we,xe),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:i(function(e){return de.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,xe).toLowerCase(),function(t){var n;do if(n=O?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===A},focus:function(e){return e===P.activeElement&&(!P.hasFocus||P.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){
return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!$.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return pe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:u(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},$.pseudos.nth=$.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})$.pseudos[w]=s(w);for(w in{submit:!0,reset:!0})$.pseudos[w]=l(w);return h.prototype=$.filters=$.pseudos,$.setFilters=new h,_=t.tokenize=function(e,n){var i,r,o,a,s,l,u,c=q[e+" "];if(c)return n?0:c.slice(0);for(s=e,l=[],u=$.preFilter;s;){i&&!(r=le.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),i=!1,(r=ue.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(se," ")}),s=s.slice(i.length));for(a in $.filter)!(r=fe[a].exec(s))||u[a]&&!(r=u[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?t.error(e):q(e,l).slice(0)},k=t.compile=function(e,t){var n,i=[],r=[],o=B[e+" "];if(!o){for(t||(t=_(e)),n=t.length;n--;)o=y(t[n]),o[F]?i.push(o):r.push(o);o=B(e,b(r,i)),o.selector=e}return o},S=t.select=function(e,t,n,i){var r,o,a,s,l,u="function"==typeof e&&e,h=!i&&_(e=u.selector||e);if(n=n||[],1===h.length){if(o=h[0]=h[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&x.getById&&9===t.nodeType&&O&&$.relative[o[1].type]){if(t=($.find.ID(a.matches[0].replace(we,xe),t)||[])[0],!t)return n;u&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=fe.needsContext.test(e)?0:o.length;r--&&(a=o[r],!$.relative[s=a.type]);)if((l=$.find[s])&&(i=l(a.matches[0].replace(we,xe),ye.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(r,1),e=i.length&&d(o),!e)return Q.apply(n,i),n;break}}return(u||k(e,h))(i,t,!O,n,!t||ye.test(e)&&c(t.parentNode)||t),n},x.sortStable=F.split("").sort(U).join("")===F,x.detectDuplicates=!!I,E(),x.sortDetached=r(function(e){return 1&e.compareDocumentPosition(P.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),x.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var i;return n?void 0:e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);oe.find=ce,oe.expr=ce.selectors,oe.expr[":"]=oe.expr.pseudos,oe.uniqueSort=oe.unique=ce.uniqueSort,oe.text=ce.getText,oe.isXMLDoc=ce.isXML,oe.contains=ce.contains;var he=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&oe(e).is(n))break;i.push(e)}return i},de=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},fe=oe.expr.match.needsContext,pe=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,me=/^.[^:#\[\.,]*$/;oe.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?oe.find.matchesSelector(i,e)?[i]:[]:oe.find.matches(e,oe.grep(t,function(e){return 1===e.nodeType}))},oe.fn.extend({find:function(e){var t,n=this.length,i=[],r=this;if("string"!=typeof e)return this.pushStack(oe(e).filter(function(){for(t=0;n>t;t++)if(oe.contains(r[t],this))return!0}));for(t=0;n>t;t++)oe.find(e,r[t],i);return i=this.pushStack(n>1?oe.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&fe.test(e)?oe(e):e||[],!1).length}});var ge,ve=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ye=oe.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||ge,"string"==typeof e){if(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ve.exec(e),!i||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof oe?t[0]:t,oe.merge(this,oe.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:K,!0)),pe.test(i[1])&&oe.isPlainObject(t))for(i in t)oe.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return r=K.getElementById(i[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=K,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):oe.isFunction(e)?void 0!==n.ready?n.ready(e):e(oe):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),oe.makeArray(e,this))};ye.prototype=oe.fn,ge=oe(K);var be=/^(?:parents|prev(?:Until|All))/,we={children:!0,contents:!0,next:!0,prev:!0};oe.fn.extend({has:function(e){var t=oe(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(oe.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,i=0,r=this.length,o=[],a=fe.test(e)||"string"!=typeof e?oe(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&oe.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?oe.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?Z.call(oe(e),this[0]):Z.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(oe.uniqueSort(oe.merge(this.get(),oe(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),oe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return he(e,"parentNode")},parentsUntil:function(e,t,n){return he(e,"parentNode",n)},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling")},nextAll:function(e){return he(e,"nextSibling")},prevAll:function(e){return he(e,"previousSibling")},nextUntil:function(e,t,n){return he(e,"nextSibling",n)},prevUntil:function(e,t,n){return he(e,"previousSibling",n)},siblings:function(e){return de((e.parentNode||{}).firstChild,e)},children:function(e){return de(e.firstChild)},contents:function(e){return e.contentDocument||oe.merge([],e.childNodes)}},function(e,t){oe.fn[e]=function(n,i){var r=oe.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=oe.filter(i,r)),this.length>1&&(we[e]||oe.uniqueSort(r),be.test(e)&&r.reverse()),this.pushStack(r)}});var xe=/\S+/g;oe.Callbacks=function(e){e="string"==typeof e?o(e):oe.extend({},e);var t,n,i,r,a=[],s=[],l=-1,u=function(){for(r=e.once,i=t=!0;s.length;l=-1)for(n=s.shift();++l<a.length;)a[l].apply(n[0],n[1])===!1&&e.stopOnFalse&&(l=a.length,n=!1);e.memory||(n=!1),t=!1,r&&(a=n?[]:"")},c={add:function(){return a&&(n&&!t&&(l=a.length-1,s.push(n)),function i(t){oe.each(t,function(t,n){oe.isFunction(n)?e.unique&&c.has(n)||a.push(n):n&&n.length&&"string"!==oe.type(n)&&i(n)})}(arguments),n&&!t&&u()),this},remove:function(){return oe.each(arguments,function(e,t){for(var n;(n=oe.inArray(t,a,n))>-1;)a.splice(n,1),l>=n&&l--}),this},has:function(e){return e?oe.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return r=s=[],a=n="",this},disabled:function(){return!a},lock:function(){return r=s=[],n||(a=n=""),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=n||[],n=[e,n.slice?n.slice():n],s.push(n),t||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},oe.extend({Deferred:function(e){var t=[["resolve","done",oe.Callbacks("once memory"),"resolved"],["reject","fail",oe.Callbacks("once memory"),"rejected"],["notify","progress",oe.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return oe.Deferred(function(n){oe.each(t,function(t,o){var a=oe.isFunction(e[t])&&e[t];r[o[1]](function(){var e=a&&a.apply(this,arguments);e&&oe.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===i?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?oe.extend(e,i):i}},r={};return i.pipe=i.then,oe.each(t,function(e,o){var a=o[2],s=o[3];i[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=a.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,o=G.call(arguments),a=o.length,s=1!==a||e&&oe.isFunction(e.promise)?a:0,l=1===s?e:oe.Deferred(),u=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?G.call(arguments):r,i===t?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(a>1)for(t=new Array(a),n=new Array(a),i=new Array(a);a>r;r++)o[r]&&oe.isFunction(o[r].promise)?o[r].promise().progress(u(r,n,t)).done(u(r,i,o)).fail(l.reject):--s;return s||l.resolveWith(i,o),l.promise()}});var $e;oe.fn.ready=function(e){return oe.ready.promise().done(e),this},oe.extend({isReady:!1,readyWait:1,holdReady:function(e){e?oe.readyWait++:oe.ready(!0)},ready:function(e){(e===!0?--oe.readyWait:oe.isReady)||(oe.isReady=!0,e!==!0&&--oe.readyWait>0||($e.resolveWith(K,[oe]),oe.fn.triggerHandler&&(oe(K).triggerHandler("ready"),oe(K).off("ready"))))}}),oe.ready.promise=function(t){return $e||($e=oe.Deferred(),"complete"===K.readyState||"loading"!==K.readyState&&!K.documentElement.doScroll?e.setTimeout(oe.ready):(K.addEventListener("DOMContentLoaded",a),e.addEventListener("load",a))),$e.promise(t)},oe.ready.promise();var Ce=function(e,t,n,i,r,o,a){var s=0,l=e.length,u=null==n;if("object"===oe.type(n)){r=!0;for(s in n)Ce(e,t,s,n[s],!0,o,a)}else if(void 0!==i&&(r=!0,oe.isFunction(i)||(a=!0),u&&(a?(t.call(e,i),t=null):(u=t,t=function(e,t,n){return u.call(oe(e),n)})),t))for(;l>s;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return r?e:u?t.call(e):l?t(e[0],n):o},Te=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};s.uid=1,s.prototype={register:function(e,t){var n=t||{};return e.nodeType?e[this.expando]=n:Object.defineProperty(e,this.expando,{value:n,writable:!0,configurable:!0}),e[this.expando]},cache:function(e){if(!Te(e))return{};var t=e[this.expando];return t||(t={},Te(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[t]=n;else for(i in t)r[i]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][t]},access:function(e,t,n){var i;return void 0===t||t&&"string"==typeof t&&void 0===n?(i=this.get(e,t),void 0!==i?i:this.get(e,oe.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i,r,o=e[this.expando];if(void 0!==o){if(void 0===t)this.register(e);else{oe.isArray(t)?i=t.concat(t.map(oe.camelCase)):(r=oe.camelCase(t),t in o?i=[t,r]:(i=r,i=i in o?[i]:i.match(xe)||[])),n=i.length;for(;n--;)delete o[i[n]]}(void 0===t||oe.isEmptyObject(o))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!oe.isEmptyObject(t)}};var _e=new s,ke=new s,Se=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Me=/[A-Z]/g;oe.extend({hasData:function(e){return ke.hasData(e)||_e.hasData(e)},data:function(e,t,n){return ke.access(e,t,n)},removeData:function(e,t){ke.remove(e,t)},_data:function(e,t,n){return _e.access(e,t,n)},_removeData:function(e,t){_e.remove(e,t)}}),oe.fn.extend({data:function(e,t){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(r=ke.get(o),1===o.nodeType&&!_e.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(i=a[n].name,0===i.indexOf("data-")&&(i=oe.camelCase(i.slice(5)),l(o,i,r[i])));_e.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){ke.set(this,e)}):Ce(this,function(t){var n,i;if(o&&void 0===t){if(n=ke.get(o,e)||ke.get(o,e.replace(Me,"-$&").toLowerCase()),void 0!==n)return n;if(i=oe.camelCase(e),n=ke.get(o,i),void 0!==n)return n;if(n=l(o,i,void 0),void 0!==n)return n}else i=oe.camelCase(e),this.each(function(){var n=ke.get(this,i);ke.set(this,i,t),e.indexOf("-")>-1&&void 0!==n&&ke.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){ke.remove(this,e)})}}),oe.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=_e.get(e,t),n&&(!i||oe.isArray(n)?i=_e.access(e,t,oe.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=oe.queue(e,t),i=n.length,r=n.shift(),o=oe._queueHooks(e,t),a=function(){oe.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return _e.get(e,n)||_e.access(e,n,{empty:oe.Callbacks("once memory").add(function(){_e.remove(e,[t+"queue",n])})})}}),oe.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?oe.queue(this[0],e):void 0===t?this:this.each(function(){var n=oe.queue(this,e,t);oe._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&oe.dequeue(this,e)})},dequeue:function(e){return this.each(function(){oe.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=oe.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=_e.get(o[a],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(t)}});var De=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ie=new RegExp("^(?:([+-])=|)("+De+")([a-z%]*)$","i"),Ee=["Top","Right","Bottom","Left"],Pe=function(e,t){return e=t||e,"none"===oe.css(e,"display")||!oe.contains(e.ownerDocument,e)},Ae=/^(?:checkbox|radio)$/i,Oe=/<([\w:-]+)/,Ne=/^$|\/(?:java|ecma)script/i,Re={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Re.optgroup=Re.option,Re.tbody=Re.tfoot=Re.colgroup=Re.caption=Re.thead,Re.th=Re.td;var He=/<|&#?\w+;/;!function(){var e=K.createDocumentFragment(),t=e.appendChild(K.createElement("div")),n=K.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),ie.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",ie.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var ze=/^key/,Fe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Le=/^([^.]*)(?:\.(.+)|)/;oe.event={global:{},add:function(e,t,n,i,r){var o,a,s,l,u,c,h,d,f,p,m,g=_e.get(e);if(g)for(n.handler&&(o=n,n=o.handler,r=o.selector),n.guid||(n.guid=oe.guid++),(l=g.events)||(l=g.events={}),(a=g.handle)||(a=g.handle=function(t){return"undefined"!=typeof oe&&oe.event.triggered!==t.type?oe.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(xe)||[""],u=t.length;u--;)s=Le.exec(t[u])||[],f=m=s[1],p=(s[2]||"").split(".").sort(),f&&(h=oe.event.special[f]||{},f=(r?h.delegateType:h.bindType)||f,h=oe.event.special[f]||{},c=oe.extend({type:f,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&oe.expr.match.needsContext.test(r),namespace:p.join(".")},o),(d=l[f])||(d=l[f]=[],d.delegateCount=0,h.setup&&h.setup.call(e,i,p,a)!==!1||e.addEventListener&&e.addEventListener(f,a)),h.add&&(h.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,c):d.push(c),oe.event.global[f]=!0)},remove:function(e,t,n,i,r){var o,a,s,l,u,c,h,d,f,p,m,g=_e.hasData(e)&&_e.get(e);if(g&&(l=g.events)){for(t=(t||"").match(xe)||[""],u=t.length;u--;)if(s=Le.exec(t[u])||[],f=m=s[1],p=(s[2]||"").split(".").sort(),f){for(h=oe.event.special[f]||{},f=(i?h.delegateType:h.bindType)||f,d=l[f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=d.length;o--;)c=d[o],!r&&m!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(d.splice(o,1),c.selector&&d.delegateCount--,h.remove&&h.remove.call(e,c));a&&!d.length&&(h.teardown&&h.teardown.call(e,p,g.handle)!==!1||oe.removeEvent(e,f,g.handle),delete l[f])}else for(f in l)oe.event.remove(e,f+t[u],n,i,!0);oe.isEmptyObject(l)&&_e.remove(e,"handle events")}},dispatch:function(e){e=oe.event.fix(e);var t,n,i,r,o,a=[],s=G.call(arguments),l=(_e.get(this,"events")||{})[e.type]||[],u=oe.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(a=oe.event.handlers.call(this,e,l),t=0;(r=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(o.namespace)||(e.handleObj=o,e.data=o.data,i=((oe.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s),void 0!==i&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,o,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(i=[],n=0;s>n;n++)o=t[n],r=o.selector+" ",void 0===i[r]&&(i[r]=o.needsContext?oe(r,this).index(l)>-1:oe.find(r,this,null,[l]).length),i[r]&&i.push(o);i.length&&a.push({elem:l,handlers:i})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,o=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||K,i=n.documentElement,r=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[oe.expando])return e;var t,n,i,r=e.type,o=e,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=Fe.test(r)?this.mouseHooks:ze.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,e=new oe.Event(o),t=i.length;t--;)n=i[t],e[n]=o[n];return e.target||(e.target=K),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==m()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===m()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&oe.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return oe.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},oe.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},oe.Event=function(e,t){return this instanceof oe.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?f:p):this.type=e,t&&oe.extend(this,t),this.timeStamp=e&&e.timeStamp||oe.now(),void(this[oe.expando]=!0)):new oe.Event(e,t)},oe.Event.prototype={constructor:oe.Event,isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=f,e&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=f,e&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=f,e&&e.stopImmediatePropagation(),this.stopPropagation()}},oe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){oe.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return r&&(r===i||oe.contains(i,r))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),oe.fn.extend({on:function(e,t,n,i){return g(this,e,t,n,i)},one:function(e,t,n,i){return g(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,oe(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return t!==!1&&"function"!=typeof t||(n=t,t=void 0),n===!1&&(n=p),this.each(function(){oe.event.remove(this,e,n,t)})}});var je=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Ve=/<script|<style|<link/i,We=/checked\s*(?:[^=]|=\s*.checked.)/i,qe=/^true\/(.*)/,Be=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;oe.extend({htmlPrefilter:function(e){return e.replace(je,"<$1></$2>")},clone:function(e,t,n){var i,r,o,a,s=e.cloneNode(!0),l=oe.contains(e.ownerDocument,e);if(!(ie.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||oe.isXMLDoc(e)))for(a=c(s),o=c(e),i=0,r=o.length;r>i;i++)x(o[i],a[i]);if(t)if(n)for(o=o||c(e),a=a||c(s),i=0,r=o.length;r>i;i++)w(o[i],a[i]);else w(e,s);return a=c(s,"script"),a.length>0&&h(a,!l&&c(e,"script")),s},cleanData:function(e){for(var t,n,i,r=oe.event.special,o=0;void 0!==(n=e[o]);o++)if(Te(n)){if(t=n[_e.expando]){if(t.events)for(i in t.events)r[i]?oe.event.remove(n,i):oe.removeEvent(n,i,t.handle);n[_e.expando]=void 0}n[ke.expando]&&(n[ke.expando]=void 0)}}}),oe.fn.extend({domManip:$,detach:function(e){return C(this,e,!0)},remove:function(e){return C(this,e)},text:function(e){return Ce(this,function(e){return void 0===e?oe.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return $(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.appendChild(e)}})},prepend:function(){return $(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return $(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return $(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(oe.cleanData(c(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return oe.clone(this,e,t)})},html:function(e){return Ce(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ve.test(e)&&!Re[(Oe.exec(e)||["",""])[1].toLowerCase()]){e=oe.htmlPrefilter(e);try{for(;i>n;n++)t=this[n]||{},1===t.nodeType&&(oe.cleanData(c(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return $(this,arguments,function(t){var n=this.parentNode;oe.inArray(this,e)<0&&(oe.cleanData(c(this)),n&&n.replaceChild(t,this))},e)}}),oe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){oe.fn[e]=function(e){for(var n,i=[],r=oe(e),o=r.length-1,a=0;o>=a;a++)n=a===o?this:this.clone(!0),oe(r[a])[t](n),Q.apply(i,n.get());return this.pushStack(i)}});var Ue,Ye={HTML:"block",BODY:"block"},Xe=/^margin/,Ke=new RegExp("^("+De+")(?!px)[a-z%]+$","i"),Ge=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Je=function(e,t,n,i){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];r=n.apply(e,i||[]);for(o in t)e.style[o]=a[o];return r},Qe=K.documentElement;!function(){function t(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Qe.appendChild(a);var t=e.getComputedStyle(s);n="1%"!==t.top,o="2px"===t.marginLeft,i="4px"===t.width,s.style.marginRight="50%",r="4px"===t.marginRight,Qe.removeChild(a)}var n,i,r,o,a=K.createElement("div"),s=K.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",ie.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),oe.extend(ie,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==i&&t(),i},pixelMarginRight:function(){return null==i&&t(),r},reliableMarginLeft:function(){return null==i&&t(),o},reliableMarginRight:function(){var t,n=s.appendChild(K.createElement("div"));return n.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",s.style.width="1px",Qe.appendChild(a),t=!parseFloat(e.getComputedStyle(n).marginRight),Qe.removeChild(a),s.removeChild(n),t}}))}();var Ze=/^(none|table(?!-c[ea]).+)/,et={position:"absolute",visibility:"hidden",display:"block"},tt={letterSpacing:"0",fontWeight:"400"},nt=["Webkit","O","Moz","ms"],it=K.createElement("div").style;oe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=k(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=oe.camelCase(t),l=e.style;return t=oe.cssProps[s]||(oe.cssProps[s]=M(s)||s),a=oe.cssHooks[t]||oe.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(r=a.get(e,!1,i))?r:l[t]:(o=typeof n,"string"===o&&(r=Ie.exec(n))&&r[1]&&(n=u(e,t,r),o="number"),null!=n&&n===n&&("number"===o&&(n+=r&&r[3]||(oe.cssNumber[s]?"":"px")),ie.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i))||(l[t]=n)),void 0)}},css:function(e,t,n,i){var r,o,a,s=oe.camelCase(t);return t=oe.cssProps[s]||(oe.cssProps[s]=M(s)||s),a=oe.cssHooks[t]||oe.cssHooks[s],a&&"get"in a&&(r=a.get(e,!0,n)),void 0===r&&(r=k(e,t,i)),"normal"===r&&t in tt&&(r=tt[t]),""===n||n?(o=parseFloat(r),n===!0||isFinite(o)?o||0:r):r}}),oe.each(["height","width"],function(e,t){oe.cssHooks[t]={get:function(e,n,i){return n?Ze.test(oe.css(e,"display"))&&0===e.offsetWidth?Je(e,et,function(){return E(e,t,i)}):E(e,t,i):void 0},set:function(e,n,i){var r,o=i&&Ge(e),a=i&&I(e,t,i,"border-box"===oe.css(e,"boxSizing",!1,o),o);return a&&(r=Ie.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=oe.css(e,t)),D(e,n,a)}}}),oe.cssHooks.marginLeft=S(ie.reliableMarginLeft,function(e,t){return t?(parseFloat(k(e,"marginLeft"))||e.getBoundingClientRect().left-Je(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px":void 0}),oe.cssHooks.marginRight=S(ie.reliableMarginRight,function(e,t){return t?Je(e,{display:"inline-block"},k,[e,"marginRight"]):void 0}),oe.each({margin:"",padding:"",border:"Width"},function(e,t){oe.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+Ee[i]+t]=o[i]||o[i-2]||o[0];return r}},Xe.test(e)||(oe.cssHooks[e+t].set=D)}),oe.fn.extend({css:function(e,t){return Ce(this,function(e,t,n){var i,r,o={},a=0;if(oe.isArray(t)){for(i=Ge(e),r=t.length;r>a;a++)o[t[a]]=oe.css(e,t[a],!1,i);return o}return void 0!==n?oe.style(e,t,n):oe.css(e,t)},e,t,arguments.length>1)},show:function(){return P(this,!0)},hide:function(){return P(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Pe(this)?oe(this).show():oe(this).hide()})}}),oe.Tween=A,A.prototype={constructor:A,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||oe.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(oe.cssNumber[n]?"":"px")},cur:function(){var e=A.propHooks[this.prop];return e&&e.get?e.get(this):A.propHooks._default.get(this)},run:function(e){var t,n=A.propHooks[this.prop];return this.options.duration?this.pos=t=oe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):A.propHooks._default.set(this),this}},A.prototype.init.prototype=A.prototype,A.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=oe.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){oe.fx.step[e.prop]?oe.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[oe.cssProps[e.prop]]&&!oe.cssHooks[e.prop]?e.elem[e.prop]=e.now:oe.style(e.elem,e.prop,e.now+e.unit)}}},A.propHooks.scrollTop=A.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},oe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},oe.fx=A.prototype.init,oe.fx.step={};var rt,ot,at=/^(?:toggle|show|hide)$/,st=/queueHooks$/;oe.Animation=oe.extend(F,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return u(n.elem,e,Ie.exec(t),n),n}]},tweener:function(e,t){oe.isFunction(e)?(t=e,e=["*"]):e=e.match(xe);for(var n,i=0,r=e.length;r>i;i++)n=e[i],F.tweeners[n]=F.tweeners[n]||[],F.tweeners[n].unshift(t)},prefilters:[H],prefilter:function(e,t){t?F.prefilters.unshift(e):F.prefilters.push(e)}}),oe.speed=function(e,t,n){var i=e&&"object"==typeof e?oe.extend({},e):{complete:n||!n&&t||oe.isFunction(e)&&e,duration:e,easing:n&&t||t&&!oe.isFunction(t)&&t};return i.duration=oe.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in oe.fx.speeds?oe.fx.speeds[i.duration]:oe.fx.speeds._default,null!=i.queue&&i.queue!==!0||(i.queue="fx"),i.old=i.complete,i.complete=function(){oe.isFunction(i.old)&&i.old.call(this),i.queue&&oe.dequeue(this,i.queue)},i},oe.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Pe).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=oe.isEmptyObject(e),o=oe.speed(t,n,i),a=function(){var t=F(this,oe.extend({},e),o);(r||_e.get(this,"finish"))&&t.stop(!0)};return a.finish=a,r||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=oe.timers,a=_e.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&st.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));!t&&n||oe.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=_e.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=oe.timers,a=i?i.length:0;for(n.finish=!0,oe.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),
o.splice(t,1));for(t=0;a>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),oe.each(["toggle","show","hide"],function(e,t){var n=oe.fn[t];oe.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(N(t,!0),e,i,r)}}),oe.each({slideDown:N("show"),slideUp:N("hide"),slideToggle:N("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){oe.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),oe.timers=[],oe.fx.tick=function(){var e,t=0,n=oe.timers;for(rt=oe.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||oe.fx.stop(),rt=void 0},oe.fx.timer=function(e){oe.timers.push(e),e()?oe.fx.start():oe.timers.pop()},oe.fx.interval=13,oe.fx.start=function(){ot||(ot=e.setInterval(oe.fx.tick,oe.fx.interval))},oe.fx.stop=function(){e.clearInterval(ot),ot=null},oe.fx.speeds={slow:600,fast:200,_default:400},oe.fn.delay=function(t,n){return t=oe.fx?oe.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,i){var r=e.setTimeout(n,t);i.stop=function(){e.clearTimeout(r)}})},function(){var e=K.createElement("input"),t=K.createElement("select"),n=t.appendChild(K.createElement("option"));e.type="checkbox",ie.checkOn=""!==e.value,ie.optSelected=n.selected,t.disabled=!0,ie.optDisabled=!n.disabled,e=K.createElement("input"),e.value="t",e.type="radio",ie.radioValue="t"===e.value}();var lt,ut=oe.expr.attrHandle;oe.fn.extend({attr:function(e,t){return Ce(this,oe.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){oe.removeAttr(this,e)})}}),oe.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?oe.prop(e,t,n):(1===o&&oe.isXMLDoc(e)||(t=t.toLowerCase(),r=oe.attrHooks[t]||(oe.expr.match.bool.test(t)?lt:void 0)),void 0!==n?null===n?void oe.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=oe.find.attr(e,t),null==i?void 0:i))},attrHooks:{type:{set:function(e,t){if(!ie.radioValue&&"radio"===t&&oe.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match(xe);if(o&&1===e.nodeType)for(;n=o[r++];)i=oe.propFix[n]||n,oe.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n)}}),lt={set:function(e,t,n){return t===!1?oe.removeAttr(e,n):e.setAttribute(n,n),n}},oe.each(oe.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ut[t]||oe.find.attr;ut[t]=function(e,t,i){var r,o;return i||(o=ut[t],ut[t]=r,r=null!=n(e,t,i)?t.toLowerCase():null,ut[t]=o),r}});var ct=/^(?:input|select|textarea|button)$/i,ht=/^(?:a|area)$/i;oe.fn.extend({prop:function(e,t){return Ce(this,oe.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[oe.propFix[e]||e]})}}),oe.extend({prop:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&oe.isXMLDoc(e)||(t=oe.propFix[t]||t,r=oe.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=oe.find.attr(e,"tabindex");return t?parseInt(t,10):ct.test(e.nodeName)||ht.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),ie.optSelected||(oe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),oe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){oe.propFix[this.toLowerCase()]=this});var dt=/[\t\r\n\f]/g;oe.fn.extend({addClass:function(e){var t,n,i,r,o,a,s,l=0;if(oe.isFunction(e))return this.each(function(t){oe(this).addClass(e.call(this,t,L(this)))});if("string"==typeof e&&e)for(t=e.match(xe)||[];n=this[l++];)if(r=L(n),i=1===n.nodeType&&(" "+r+" ").replace(dt," ")){for(a=0;o=t[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");s=oe.trim(i),r!==s&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,i,r,o,a,s,l=0;if(oe.isFunction(e))return this.each(function(t){oe(this).removeClass(e.call(this,t,L(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(xe)||[];n=this[l++];)if(r=L(n),i=1===n.nodeType&&(" "+r+" ").replace(dt," ")){for(a=0;o=t[a++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");s=oe.trim(i),r!==s&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):oe.isFunction(e)?this.each(function(n){oe(this).toggleClass(e.call(this,n,L(this),t),t)}):this.each(function(){var t,i,r,o;if("string"===n)for(i=0,r=oe(this),o=e.match(xe)||[];t=o[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else void 0!==e&&"boolean"!==n||(t=L(this),t&&_e.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||e===!1?"":_e.get(this,"__className__")||""))})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+L(n)+" ").replace(dt," ").indexOf(t)>-1)return!0;return!1}});var ft=/\r/g,pt=/[\x20\t\r\n\f]+/g;oe.fn.extend({val:function(e){var t,n,i,r=this[0];{if(arguments.length)return i=oe.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(r=i?e.call(this,n,oe(this).val()):e,null==r?r="":"number"==typeof r?r+="":oe.isArray(r)&&(r=oe.map(r,function(e){return null==e?"":e+""})),t=oe.valHooks[this.type]||oe.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))});if(r)return t=oe.valHooks[r.type]||oe.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(ft,""):null==n?"":n)}}}),oe.extend({valHooks:{option:{get:function(e){var t=oe.find.attr(e,"value");return null!=t?t:oe.trim(oe.text(e)).replace(pt," ")}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||0>r,a=o?null:[],s=o?r+1:i.length,l=0>r?s:o?r:0;s>l;l++)if(n=i[l],(n.selected||l===r)&&(ie.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!oe.nodeName(n.parentNode,"optgroup"))){if(t=oe(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,i,r=e.options,o=oe.makeArray(t),a=r.length;a--;)i=r[a],(i.selected=oe.inArray(oe.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),oe.each(["radio","checkbox"],function(){oe.valHooks[this]={set:function(e,t){return oe.isArray(t)?e.checked=oe.inArray(oe(e).val(),t)>-1:void 0}},ie.checkOn||(oe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var mt=/^(?:focusinfocus|focusoutblur)$/;oe.extend(oe.event,{trigger:function(t,n,i,r){var o,a,s,l,u,c,h,d=[i||K],f=ne.call(t,"type")?t.type:t,p=ne.call(t,"namespace")?t.namespace.split("."):[];if(a=s=i=i||K,3!==i.nodeType&&8!==i.nodeType&&!mt.test(f+oe.event.triggered)&&(f.indexOf(".")>-1&&(p=f.split("."),f=p.shift(),p.sort()),u=f.indexOf(":")<0&&"on"+f,t=t[oe.expando]?t:new oe.Event(f,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=p.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:oe.makeArray(n,[t]),h=oe.event.special[f]||{},r||!h.trigger||h.trigger.apply(i,n)!==!1)){if(!r&&!h.noBubble&&!oe.isWindow(i)){for(l=h.delegateType||f,mt.test(l+f)||(a=a.parentNode);a;a=a.parentNode)d.push(a),s=a;s===(i.ownerDocument||K)&&d.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=d[o++])&&!t.isPropagationStopped();)t.type=o>1?l:h.bindType||f,c=(_e.get(a,"events")||{})[t.type]&&_e.get(a,"handle"),c&&c.apply(a,n),c=u&&a[u],c&&c.apply&&Te(a)&&(t.result=c.apply(a,n),t.result===!1&&t.preventDefault());return t.type=f,r||t.isDefaultPrevented()||h._default&&h._default.apply(d.pop(),n)!==!1||!Te(i)||u&&oe.isFunction(i[f])&&!oe.isWindow(i)&&(s=i[u],s&&(i[u]=null),oe.event.triggered=f,i[f](),oe.event.triggered=void 0,s&&(i[u]=s)),t.result}},simulate:function(e,t,n){var i=oe.extend(new oe.Event,n,{type:e,isSimulated:!0});oe.event.trigger(i,null,t),i.isDefaultPrevented()&&n.preventDefault()}}),oe.fn.extend({trigger:function(e,t){return this.each(function(){oe.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?oe.event.trigger(e,t,n,!0):void 0}}),oe.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){oe.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),oe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),ie.focusin="onfocusin"in e,ie.focusin||oe.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){oe.event.simulate(t,e.target,oe.event.fix(e))};oe.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=_e.access(i,t);r||i.addEventListener(e,n,!0),_e.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=_e.access(i,t)-1;r?_e.access(i,t,r):(i.removeEventListener(e,n,!0),_e.remove(i,t))}}});var gt=e.location,vt=oe.now(),yt=/\?/;oe.parseJSON=function(e){return JSON.parse(e+"")},oe.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(i){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||oe.error("Invalid XML: "+t),n};var bt=/#.*$/,wt=/([?&])_=[^&]*/,xt=/^(.*?):[ \t]*([^\r\n]*)$/gm,$t=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ct=/^(?:GET|HEAD)$/,Tt=/^\/\//,_t={},kt={},St="*/".concat("*"),Mt=K.createElement("a");Mt.href=gt.href,oe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:gt.href,type:"GET",isLocal:$t.test(gt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":St,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":oe.parseJSON,"text xml":oe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?W(W(e,oe.ajaxSettings),t):W(oe.ajaxSettings,e)},ajaxPrefilter:j(_t),ajaxTransport:j(kt),ajax:function(t,n){function i(t,n,i,s){var u,h,y,b,x,C=n;2!==w&&(w=2,l&&e.clearTimeout(l),r=void 0,a=s||"",$.readyState=t>0?4:0,u=t>=200&&300>t||304===t,i&&(b=q(d,$,i)),b=B(d,b,$,u),u?(d.ifModified&&(x=$.getResponseHeader("Last-Modified"),x&&(oe.lastModified[o]=x),x=$.getResponseHeader("etag"),x&&(oe.etag[o]=x)),204===t||"HEAD"===d.type?C="nocontent":304===t?C="notmodified":(C=b.state,h=b.data,y=b.error,u=!y)):(y=C,!t&&C||(C="error",0>t&&(t=0))),$.status=t,$.statusText=(n||C)+"",u?m.resolveWith(f,[h,C,$]):m.rejectWith(f,[$,C,y]),$.statusCode(v),v=void 0,c&&p.trigger(u?"ajaxSuccess":"ajaxError",[$,d,u?h:y]),g.fireWith(f,[$,C]),c&&(p.trigger("ajaxComplete",[$,d]),--oe.active||oe.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var r,o,a,s,l,u,c,h,d=oe.ajaxSetup({},n),f=d.context||d,p=d.context&&(f.nodeType||f.jquery)?oe(f):oe.event,m=oe.Deferred(),g=oe.Callbacks("once memory"),v=d.statusCode||{},y={},b={},w=0,x="canceled",$={readyState:0,getResponseHeader:function(e){var t;if(2===w){if(!s)for(s={};t=xt.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return w||(e=b[n]=b[n]||e,y[e]=t),this},overrideMimeType:function(e){return w||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>w)for(t in e)v[t]=[v[t],e[t]];else $.always(e[$.status]);return this},abort:function(e){var t=e||x;return r&&r.abort(t),i(0,t),this}};if(m.promise($).complete=g.add,$.success=$.done,$.error=$.fail,d.url=((t||d.url||gt.href)+"").replace(bt,"").replace(Tt,gt.protocol+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=oe.trim(d.dataType||"*").toLowerCase().match(xe)||[""],null==d.crossDomain){u=K.createElement("a");try{u.href=d.url,u.href=u.href,d.crossDomain=Mt.protocol+"//"+Mt.host!=u.protocol+"//"+u.host}catch(C){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=oe.param(d.data,d.traditional)),V(_t,d,n,$),2===w)return $;c=oe.event&&d.global,c&&0===oe.active++&&oe.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Ct.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(yt.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=wt.test(o)?o.replace(wt,"$1_="+vt++):o+(yt.test(o)?"&":"?")+"_="+vt++)),d.ifModified&&(oe.lastModified[o]&&$.setRequestHeader("If-Modified-Since",oe.lastModified[o]),oe.etag[o]&&$.setRequestHeader("If-None-Match",oe.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||n.contentType)&&$.setRequestHeader("Content-Type",d.contentType),$.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+St+"; q=0.01":""):d.accepts["*"]);for(h in d.headers)$.setRequestHeader(h,d.headers[h]);if(d.beforeSend&&(d.beforeSend.call(f,$,d)===!1||2===w))return $.abort();x="abort";for(h in{success:1,error:1,complete:1})$[h](d[h]);if(r=V(kt,d,n,$)){if($.readyState=1,c&&p.trigger("ajaxSend",[$,d]),2===w)return $;d.async&&d.timeout>0&&(l=e.setTimeout(function(){$.abort("timeout")},d.timeout));try{w=1,r.send(y,i)}catch(C){if(!(2>w))throw C;i(-1,C)}}else i(-1,"No Transport");return $},getJSON:function(e,t,n){return oe.get(e,t,n,"json")},getScript:function(e,t){return oe.get(e,void 0,t,"script")}}),oe.each(["get","post"],function(e,t){oe[t]=function(e,n,i,r){return oe.isFunction(n)&&(r=r||i,i=n,n=void 0),oe.ajax(oe.extend({url:e,type:t,dataType:r,data:n,success:i},oe.isPlainObject(e)&&e))}}),oe._evalUrl=function(e){return oe.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},oe.fn.extend({wrapAll:function(e){var t;return oe.isFunction(e)?this.each(function(t){oe(this).wrapAll(e.call(this,t))}):(this[0]&&(t=oe(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return oe.isFunction(e)?this.each(function(t){oe(this).wrapInner(e.call(this,t))}):this.each(function(){var t=oe(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=oe.isFunction(e);return this.each(function(n){oe(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){oe.nodeName(this,"body")||oe(this).replaceWith(this.childNodes)}).end()}}),oe.expr.filters.hidden=function(e){return!oe.expr.filters.visible(e)},oe.expr.filters.visible=function(e){return e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0};var Dt=/%20/g,It=/\[\]$/,Et=/\r?\n/g,Pt=/^(?:submit|button|image|reset|file)$/i,At=/^(?:input|select|textarea|keygen)/i;oe.param=function(e,t){var n,i=[],r=function(e,t){t=oe.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=oe.ajaxSettings&&oe.ajaxSettings.traditional),oe.isArray(e)||e.jquery&&!oe.isPlainObject(e))oe.each(e,function(){r(this.name,this.value)});else for(n in e)U(n,e[n],t,r);return i.join("&").replace(Dt,"+")},oe.fn.extend({serialize:function(){return oe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=oe.prop(this,"elements");return e?oe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!oe(this).is(":disabled")&&At.test(this.nodeName)&&!Pt.test(e)&&(this.checked||!Ae.test(e))}).map(function(e,t){var n=oe(this).val();return null==n?null:oe.isArray(n)?oe.map(n,function(e){return{name:t.name,value:e.replace(Et,"\r\n")}}):{name:t.name,value:n.replace(Et,"\r\n")}}).get()}}),oe.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(t){}};var Ot={0:200,1223:204},Nt=oe.ajaxSettings.xhr();ie.cors=!!Nt&&"withCredentials"in Nt,ie.ajax=Nt=!!Nt,oe.ajaxTransport(function(t){var n,i;return ie.cors||Nt&&!t.crossDomain?{send:function(r,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(a in r)s.setRequestHeader(a,r[a]);n=function(e){return function(){n&&(n=i=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Ot[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),i=s.onerror=n("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&i()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(l){if(n)throw l}},abort:function(){n&&n()}}:void 0}),oe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return oe.globalEval(e),e}}}),oe.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),oe.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,r){t=oe("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),K.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Rt=[],Ht=/(=)\?(?=&|$)|\?\?/;oe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Rt.pop()||oe.expando+"_"+vt++;return this[e]=!0,e}}),oe.ajaxPrefilter("json jsonp",function(t,n,i){var r,o,a,s=t.jsonp!==!1&&(Ht.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ht.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(r=t.jsonpCallback=oe.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Ht,"$1"+r):t.jsonp!==!1&&(t.url+=(yt.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||oe.error(r+" was not called"),a[0]},t.dataTypes[0]="json",o=e[r],e[r]=function(){a=arguments},i.always(function(){void 0===o?oe(e).removeProp(r):e[r]=o,t[r]&&(t.jsonpCallback=n.jsonpCallback,Rt.push(r)),a&&oe.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),oe.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||K;var i=pe.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=d([e],t,r),r&&r.length&&oe(r).remove(),oe.merge([],i.childNodes))};var zt=oe.fn.load;oe.fn.load=function(e,t,n){if("string"!=typeof e&&zt)return zt.apply(this,arguments);var i,r,o,a=this,s=e.indexOf(" ");return s>-1&&(i=oe.trim(e.slice(s)),e=e.slice(0,s)),oe.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&oe.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(i?oe("<div>").append(oe.parseHTML(e)).find(i):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},oe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){oe.fn[t]=function(e){return this.on(t,e)}}),oe.expr.filters.animated=function(e){return oe.grep(oe.timers,function(t){return e===t.elem}).length},oe.offset={setOffset:function(e,t,n){var i,r,o,a,s,l,u,c=oe.css(e,"position"),h=oe(e),d={};"static"===c&&(e.style.position="relative"),s=h.offset(),o=oe.css(e,"top"),l=oe.css(e,"left"),u=("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1,u?(i=h.position(),a=i.top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),oe.isFunction(t)&&(t=t.call(e,n,oe.extend({},s))),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+r),"using"in t?t.using.call(e,d):h.css(d)}},oe.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){oe.offset.setOffset(this,e,t)});var t,n,i=this[0],r={top:0,left:0},o=i&&i.ownerDocument;if(o)return t=o.documentElement,oe.contains(t,i)?(r=i.getBoundingClientRect(),n=Y(o),{top:r.top+n.pageYOffset-t.clientTop,left:r.left+n.pageXOffset-t.clientLeft}):r},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===oe.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),oe.nodeName(e[0],"html")||(i=e.offset()),i.top+=oe.css(e[0],"borderTopWidth",!0),i.left+=oe.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-oe.css(n,"marginTop",!0),left:t.left-i.left-oe.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===oe.css(e,"position");)e=e.offsetParent;return e||Qe})}}),oe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;oe.fn[e]=function(i){return Ce(this,function(e,i,r){var o=Y(e);return void 0===r?o?o[t]:e[i]:void(o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):e[i]=r)},e,i,arguments.length)}}),oe.each(["top","left"],function(e,t){oe.cssHooks[t]=S(ie.pixelPosition,function(e,n){return n?(n=k(e,t),Ke.test(n)?oe(e).position()[t]+"px":n):void 0})}),oe.each({Height:"height",Width:"width"},function(e,t){oe.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){oe.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),a=n||(i===!0||r===!0?"margin":"border");return Ce(this,function(t,n,i){var r;return oe.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===i?oe.css(t,n,a):oe.style(t,n,i,a)},t,o?i:void 0,o,null)}})}),oe.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},size:function(){return this.length}}),oe.fn.andSelf=oe.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return oe});var Ft=e.jQuery,Lt=e.$;return oe.noConflict=function(t){return e.$===oe&&(e.$=Lt),t&&e.jQuery===oe&&(e.jQuery=Ft),oe},t||(e.jQuery=e.$=oe),oe}),function(e){"use strict";function t(e,t){return t=t||Error,function(){var n,i,r=2,o=arguments,a=o[0],s="["+(e?e+":":"")+a+"] ",l=o[1];for(s+=l.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1),n=t+r;return n<o.length?ye(o[n]):e}),s+="\nhttp://errors.angularjs.org/1.5.5/"+(e?e+"/":"")+a,i=r,n="?";i<o.length;i++,n="&")s+=n+"p"+(i-r)+"="+encodeURIComponent(ye(o[i]));return new t(s)}}function n(e){if(null==e||k(e))return!1;if(Ui(e)||x(e)||Ni&&e instanceof Ni)return!0;var t="length"in Object(e)&&e.length;return $(t)&&(t>=0&&(t-1 in e||e instanceof Array)||"function"==typeof e.item)}function i(e,t,r){var o,a;if(e)if(T(e))for(o in e)"prototype"==o||"length"==o||"name"==o||e.hasOwnProperty&&!e.hasOwnProperty(o)||t.call(r,e[o],o,e);else if(Ui(e)||n(e)){var s="object"!=typeof e;for(o=0,a=e.length;a>o;o++)(s||o in e)&&t.call(r,e[o],o,e)}else if(e.forEach&&e.forEach!==i)e.forEach(t,r,e);else if(w(e))for(o in e)t.call(r,e[o],o,e);else if("function"==typeof e.hasOwnProperty)for(o in e)e.hasOwnProperty(o)&&t.call(r,e[o],o,e);else for(o in e)Di.call(e,o)&&t.call(r,e[o],o,e);return e}function r(e,t,n){for(var i=Object.keys(e).sort(),r=0;r<i.length;r++)t.call(n,e[i[r]],i[r]);return i}function o(e){return function(t,n){e(n,t)}}function a(){return++Bi}function s(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function l(e,t,n){for(var i=e.$$hashKey,r=0,o=t.length;o>r;++r){var a=t[r];if(b(a)||T(a))for(var u=Object.keys(a),c=0,h=u.length;h>c;c++){var d=u[c],f=a[d];n&&b(f)?C(f)?e[d]=new Date(f.valueOf()):_(f)?e[d]=new RegExp(f):f.nodeName?e[d]=f.cloneNode(!0):N(f)?e[d]=f.clone():(b(e[d])||(e[d]=Ui(f)?[]:{}),l(e[d],[f],!0)):e[d]=f}}return s(e,i),e}function u(e){return l(e,zi.call(arguments,1),!1)}function c(e){return l(e,zi.call(arguments,1),!0)}function h(e){return parseInt(e,10)}function d(e,t){return u(Object.create(e),t)}function f(){}function p(e){return e}function m(e){return function(){return e}}function g(e){return T(e.toString)&&e.toString!==ji}function v(e){return"undefined"==typeof e}function y(e){return"undefined"!=typeof e}function b(e){return null!==e&&"object"==typeof e}function w(e){return null!==e&&"object"==typeof e&&!Vi(e)}function x(e){return"string"==typeof e}function $(e){return"number"==typeof e}function C(e){return"[object Date]"===ji.call(e)}function T(e){return"function"==typeof e}function _(e){return"[object RegExp]"===ji.call(e)}function k(e){return e&&e.window===e}function S(e){return e&&e.$evalAsync&&e.$watch}function M(e){return"[object File]"===ji.call(e)}function D(e){return"[object FormData]"===ji.call(e)}function I(e){return"[object Blob]"===ji.call(e)}function E(e){return"boolean"==typeof e}function P(e){return e&&T(e.then)}function A(e){return e&&$(e.length)&&Yi.test(ji.call(e))}function O(e){return"[object ArrayBuffer]"===ji.call(e)}function N(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function R(e){var t,n={},i=e.split(",");for(t=0;t<i.length;t++)n[i[t]]=!0;return n}function H(e){return Ii(e.nodeName||e[0]&&e[0].nodeName)}function z(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function F(e,t){function n(e,t){var n,i=t.$$hashKey;if(Ui(e))for(var o=0,a=e.length;a>o;o++)t.push(r(e[o]));else if(w(e))for(n in e)t[n]=r(e[n]);else if(e&&"function"==typeof e.hasOwnProperty)for(n in e)e.hasOwnProperty(n)&&(t[n]=r(e[n]));else for(n in e)Di.call(e,n)&&(t[n]=r(e[n]));return s(t,i),t}function r(e){if(!b(e))return e;var t=a.indexOf(e);if(-1!==t)return l[t];if(k(e)||S(e))throw Wi("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var i=!1,r=o(e);return void 0===r&&(r=Ui(e)?[]:Object.create(Vi(e)),i=!0),a.push(e),l.push(r),i?n(e,r):r}function o(e){switch(ji.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(r(e.buffer));case"[object ArrayBuffer]":if(!e.slice){var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}return e.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":var n=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]);return n.lastIndex=e.lastIndex,n;case"[object Blob]":return new e.constructor([e],{type:e.type})}return T(e.cloneNode)?e.cloneNode(!0):void 0}var a=[],l=[];if(t){if(A(t)||O(t))throw Wi("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===t)throw Wi("cpi","Can't copy! Source and destination are identical.");return Ui(t)?t.length=0:i(t,function(e,n){"$$hashKey"!==n&&delete t[n]}),a.push(e),l.push(t),n(e,t)}return r(e)}function L(e,t){if(Ui(e)){t=t||[];for(var n=0,i=e.length;i>n;n++)t[n]=e[n]}else if(b(e)){t=t||{};for(var r in e)"$"===r.charAt(0)&&"$"===r.charAt(1)||(t[r]=e[r])}return t||e}function j(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var n,i,r,o=typeof e,a=typeof t;if(o==a&&"object"==o){if(!Ui(e)){if(C(e))return C(t)?j(e.getTime(),t.getTime()):!1;if(_(e))return _(t)?e.toString()==t.toString():!1;if(S(e)||S(t)||k(e)||k(t)||Ui(t)||C(t)||_(t))return!1;r=me();for(i in e)if("$"!==i.charAt(0)&&!T(e[i])){if(!j(e[i],t[i]))return!1;r[i]=!0}for(i in t)if(!(i in r)&&"$"!==i.charAt(0)&&y(t[i])&&!T(t[i]))return!1;return!0}if(!Ui(t))return!1;if((n=e.length)==t.length){for(i=0;n>i;i++)if(!j(e[i],t[i]))return!1;return!0}}return!1}function V(e,t,n){return e.concat(zi.call(t,n))}function W(e,t){return zi.call(e,t||0)}function q(e,t){var n=arguments.length>2?W(arguments,2):[];return!T(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,V(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function B(t,n){var i=n;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?i=void 0:k(n)?i="$WINDOW":n&&e.document===n?i="$DOCUMENT":S(n)&&(i="$SCOPE"),i}function U(e,t){return v(e)?void 0:($(t)||(t=t?2:null),JSON.stringify(e,B,t))}function Y(e){return x(e)?JSON.parse(e):e}function X(e,t){e=e.replace(Qi,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function K(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function G(e,t,n){n=n?-1:1;var i=e.getTimezoneOffset(),r=X(t,i);return K(e,n*(r-i))}function J(e){e=Ni(e).clone();try{e.empty()}catch(t){}var n=Ni("<div>").append(e).html();try{return e[0].nodeType===rr?Ii(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+Ii(t)})}catch(t){return Ii(n)}}function Q(e){try{return decodeURIComponent(e)}catch(t){}}function Z(e){var t={};return i((e||"").split("&"),function(e){var n,i,r;e&&(i=e=e.replace(/\+/g,"%20"),n=e.indexOf("="),-1!==n&&(i=e.substring(0,n),r=e.substring(n+1)),i=Q(i),y(i)&&(r=y(r)?Q(r):!0,Di.call(t,i)?Ui(t[i])?t[i].push(r):t[i]=[t[i],r]:t[i]=r))}),t}function ee(e){var t=[];return i(e,function(e,n){Ui(e)?i(e,function(e){t.push(ne(n,!0)+(e===!0?"":"="+ne(e,!0)))}):t.push(ne(n,!0)+(e===!0?"":"="+ne(e,!0)))}),t.length?t.join("&"):""}function te(e){return ne(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function ne(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function ie(e,t){var n,i,r=Zi.length;for(i=0;r>i;++i)if(n=Zi[i]+t,x(n=e.getAttribute(n)))return n;return null}function re(e,t){var n,r,o={};i(Zi,function(t){var i=t+"app";!n&&e.hasAttribute&&e.hasAttribute(i)&&(n=e,r=e.getAttribute(i))}),i(Zi,function(t){var i,o=t+"app";!n&&(i=e.querySelector("["+o.replace(":","\\:")+"]"))&&(n=i,r=i.getAttribute(o))}),n&&(o.strictDi=null!==ie(n,"strict-di"),t(n,r?[r]:[],o))}function oe(t,n,r){b(r)||(r={});var o={strictDi:!1};r=u(o,r);var a=function(){if(t=Ni(t),t.injector()){var i=t[0]===e.document?"document":J(t);throw Wi("btstrpd","App already bootstrapped with this element '{0}'",i.replace(/</,"&lt;").replace(/>/,"&gt;"))}n=n||[],n.unshift(["$provide",function(e){e.value("$rootElement",t)}]),r.debugInfoEnabled&&n.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),n.unshift("ng");var o=nt(n,r.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,i){e.$apply(function(){t.data("$injector",i),n(t)(e)})}]),o},s=/^NG_ENABLE_DEBUG_INFO!/,l=/^NG_DEFER_BOOTSTRAP!/;return e&&s.test(e.name)&&(r.debugInfoEnabled=!0,e.name=e.name.replace(s,"")),e&&!l.test(e.name)?a():(e.name=e.name.replace(l,""),qi.resumeBootstrap=function(e){return i(e,function(e){n.push(e)}),a()},void(T(qi.resumeDeferredBootstrap)&&qi.resumeDeferredBootstrap()))}function ae(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function se(e){var t=qi.element(e).injector();if(!t)throw Wi("test","no injector found for element argument to getTestability");return t.get("$$testability")}function le(e,t){return t=t||"_",e.replace(er,function(e,n){return(n?t:"")+e.toLowerCase()})}function ue(){var t;if(!tr){var n=Ji();Ri=v(n)?e.jQuery:n?e[n]:void 0,Ri&&Ri.fn.on?(Ni=Ri,u(Ri.fn,{scope:Cr.scope,isolateScope:Cr.isolateScope,controller:Cr.controller,injector:Cr.injector,inheritedData:Cr.inheritedData}),t=Ri.cleanData,Ri.cleanData=function(e){
for(var n,i,r=0;null!=(i=e[r]);r++)n=Ri._data(i,"events"),n&&n.$destroy&&Ri(i).triggerHandler("$destroy");t(e)}):Ni=De,qi.element=Ni,tr=!0}}function ce(e,t,n){if(!e)throw Wi("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function he(e,t,n){return n&&Ui(e)&&(e=e[e.length-1]),ce(T(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function de(e,t){if("hasOwnProperty"===e)throw Wi("badname","hasOwnProperty is not a valid {0} name",t)}function fe(e,t,n){if(!t)return e;for(var i,r=t.split("."),o=e,a=r.length,s=0;a>s;s++)i=r[s],e&&(e=(o=e)[i]);return!n&&T(e)?q(o,e):e}function pe(e){for(var t,n=e[0],i=e[e.length-1],r=1;n!==i&&(n=n.nextSibling);r++)(t||e[r]!==n)&&(t||(t=Ni(zi.call(e,0,r))),t.push(n));return t||e}function me(){return Object.create(null)}function ge(e){function n(e,t,n){return e[t]||(e[t]=n())}var i=t("$injector"),r=t("ng"),o=n(e,"angular",Object);return o.$$minErr=o.$$minErr||t,n(o,"module",function(){var e={};return function(t,o,a){var s=function(e,t){if("hasOwnProperty"===e)throw r("badname","hasOwnProperty is not a valid {0} name",t)};return s(t,"module"),o&&e.hasOwnProperty(t)&&(e[t]=null),n(e,t,function(){function e(e,t,n,i){return i||(i=r),function(){return i[n||"push"]([e,t,arguments]),c}}function n(e,n){return function(i,o){return o&&T(o)&&(o.$$moduleName=t),r.push([e,n,arguments]),c}}if(!o)throw i("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",t);var r=[],s=[],l=[],u=e("$injector","invoke","push",s),c={_invokeQueue:r,_configBlocks:s,_runBlocks:l,requires:o,name:t,provider:n("$provide","provider"),factory:n("$provide","factory"),service:n("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),decorator:n("$provide","decorator"),animation:n("$animateProvider","register"),filter:n("$filterProvider","register"),controller:n("$controllerProvider","register"),directive:n("$compileProvider","directive"),component:n("$compileProvider","component"),config:u,run:function(e){return l.push(e),this}};return a&&u(a),c})}})}function ve(e){var t=[];return JSON.stringify(e,function(e,n){if(n=B(e,n),b(n)){if(t.indexOf(n)>=0)return"...";t.push(n)}return n})}function ye(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):v(e)?"undefined":"string"!=typeof e?ve(e):e}function be(n){u(n,{bootstrap:oe,copy:F,extend:u,merge:c,equals:j,element:Ni,forEach:i,injector:nt,noop:f,bind:q,toJson:U,fromJson:Y,identity:p,isUndefined:v,isDefined:y,isString:x,isFunction:T,isObject:b,isNumber:$,isElement:N,isArray:Ui,version:lr,isDate:C,lowercase:Ii,uppercase:Ei,callbacks:{counter:0},getTestability:se,$$minErr:t,$$csp:Gi,reloadWithDebugInfo:ae}),(Hi=ge(e))("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Cn}),e.provider("$compile",ft).directive({a:Eo,input:Go,textarea:Go,form:Ro,script:Ba,select:Xa,style:Ga,option:Ka,ngBind:Zo,ngBindHtml:ta,ngBindTemplate:ea,ngClass:ia,ngClassEven:oa,ngClassOdd:ra,ngCloak:aa,ngController:sa,ngForm:Ho,ngHide:za,ngIf:ca,ngInclude:ha,ngInit:fa,ngNonBindable:Da,ngPluralize:Aa,ngRepeat:Oa,ngShow:Ha,ngStyle:Fa,ngSwitch:La,ngSwitchWhen:ja,ngSwitchDefault:Va,ngOptions:Pa,ngTransclude:qa,ngModel:ka,ngList:pa,ngChange:na,pattern:Qa,ngPattern:Qa,required:Ja,ngRequired:Ja,minlength:es,ngMinlength:es,maxlength:Za,ngMaxlength:Za,ngValue:Qo,ngModelOptions:Ma}).directive({ngInclude:da}).directive(Po).directive(la),e.provider({$anchorScroll:it,$animate:Fr,$animateCss:Vr,$$animateJs:Hr,$$animateQueue:zr,$$AnimateRunner:jr,$$animateAsyncRun:Lr,$browser:ut,$cacheFactory:ct,$controller:bt,$document:wt,$exceptionHandler:xt,$filter:Hn,$$forceReflow:Xr,$interpolate:Nt,$interval:Rt,$http:Et,$httpParamSerializer:Ct,$httpParamSerializerJQLike:Tt,$httpBackend:At,$xhrFactory:Pt,$location:Gt,$log:Jt,$parse:vn,$rootScope:$n,$q:yn,$$q:bn,$sce:Sn,$sceDelegate:kn,$sniffer:Mn,$templateCache:ht,$templateRequest:Dn,$$testability:In,$timeout:En,$window:On,$$rAF:xn,$$jqLite:Ge,$$HashMap:Sr,$$cookieReader:Rn})}])}function we(){return++cr}function xe(e){return e.replace(fr,function(e,t,n,i){return i?n.toUpperCase():n}).replace(pr,"Moz$1")}function $e(e){return!yr.test(e)}function Ce(e){var t=e.nodeType;return t===nr||!t||t===ar}function Te(e){for(var t in ur[e.ng339])return!0;return!1}function _e(e){for(var t=0,n=e.length;n>t;t++)Ae(e[t])}function ke(e,t){var n,r,o,a,s=t.createDocumentFragment(),l=[];if($e(e))l.push(t.createTextNode(e));else{for(n=n||s.appendChild(t.createElement("div")),r=(br.exec(e)||["",""])[1].toLowerCase(),o=xr[r]||xr._default,n.innerHTML=o[1]+e.replace(wr,"<$1></$2>")+o[2],a=o[0];a--;)n=n.lastChild;l=V(l,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",i(l,function(e){s.appendChild(e)}),s}function Se(t,n){n=n||e.document;var i;return(i=vr.exec(t))?[n.createElement(i[1])]:(i=ke(t,n))?i.childNodes:[]}function Me(e,t){var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)}function De(e){if(e instanceof De)return e;var t;if(x(e)&&(e=Xi(e),t=!0),!(this instanceof De)){if(t&&"<"!=e.charAt(0))throw gr("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new De(e)}t?Fe(this,Se(e)):Fe(this,e)}function Ie(e){return e.cloneNode(!0)}function Ee(e,t){if(t||Ae(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),i=0,r=n.length;r>i;i++)Ae(n[i])}function Pe(e,t,n,r){if(y(r))throw gr("offargs","jqLite#off() does not support the `selector` argument");var o=Oe(e),a=o&&o.events,s=o&&o.handle;if(s)if(t){var l=function(t){var i=a[t];y(n)&&z(i||[],n),y(n)&&i&&i.length>0||(dr(e,t,s),delete a[t])};i(t.split(" "),function(e){l(e),mr[e]&&l(mr[e])})}else for(t in a)"$destroy"!==t&&dr(e,t,s),delete a[t]}function Ae(e,t){var n=e.ng339,i=n&&ur[n];if(i){if(t)return void delete i.data[t];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),Pe(e)),delete ur[n],e.ng339=void 0}}function Oe(e,t){var n=e.ng339,i=n&&ur[n];return t&&!i&&(e.ng339=n=we(),i=ur[n]={events:{},data:{},handle:void 0}),i}function Ne(e,t,n){if(Ce(e)){var i=y(n),r=!i&&t&&!b(t),o=!t,a=Oe(e,!r),s=a&&a.data;if(i)s[t]=n;else{if(o)return s;if(r)return s&&s[t];u(s,t)}}}function Re(e,t){return e.getAttribute?(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1:!1}function He(e,t){t&&e.setAttribute&&i(t.split(" "),function(t){e.setAttribute("class",Xi((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Xi(t)+" "," ")))})}function ze(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");i(t.split(" "),function(e){e=Xi(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",Xi(n))}}function Fe(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var i=0;n>i;i++)e[e.length++]=t[i]}else e[e.length++]=t}}function Le(e,t){return je(e,"$"+(t||"ngController")+"Controller")}function je(e,t,n){e.nodeType==ar&&(e=e.documentElement);for(var i=Ui(t)?t:[t];e;){for(var r=0,o=i.length;o>r;r++)if(y(n=Ni.data(e,i[r])))return n;e=e.parentNode||e.nodeType===sr&&e.host}}function Ve(e){for(Ee(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function We(e,t){t||Ee(e);var n=e.parentNode;n&&n.removeChild(e)}function qe(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):Ni(n).on("load",t)}function Be(e,t){var n=Tr[t.toLowerCase()];return n&&_r[H(e)]&&n}function Ue(e){return kr[e]}function Ye(e,t){var n=function(n,i){n.isDefaultPrevented=function(){return n.defaultPrevented};var r=t[i||n.type],o=r?r.length:0;if(o){if(v(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0};var s=r.specialHandlerWrapper||Xe;o>1&&(r=L(r));for(var l=0;o>l;l++)n.isImmediatePropagationStopped()||s(e,n,r[l])}};return n.elem=e,n}function Xe(e,t,n){n.call(e,t)}function Ke(e,t,n){var i=t.relatedTarget;i&&(i===e||$r.call(e,i))||n.call(e,t)}function Ge(){this.$get=function(){return u(De,{hasClass:function(e,t){return e.attr&&(e=e[0]),Re(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),ze(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),He(e,t)}})}}function Je(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var i=typeof e;return n="function"==i||"object"==i&&null!==e?e.$$hashKey=i+":"+(t||a)():i+":"+e}function Qe(e,t){if(t){var n=0;this.nextUid=function(){return++n}}i(e,this.put,this)}function Ze(e){var t=Function.prototype.toString.call(e).replace(Pr,""),n=t.match(Mr)||t.match(Dr);return n}function et(e){var t=Ze(e);return t?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function tt(e,t,n){var r,o,a;if("function"==typeof e){if(!(r=e.$inject)){if(r=[],e.length){if(t)throw x(n)&&n||(n=e.name||et(e)),Ar("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);o=Ze(e),i(o[1].split(Ir),function(e){e.replace(Er,function(e,t,n){r.push(n)})})}e.$inject=r}}else Ui(e)?(a=e.length-1,he(e[a],"fn"),r=e.slice(0,a)):he(e,"fn",!0);return r}function nt(e,t){function n(e){return function(t,n){return b(t)?void i(t,o(e)):e(t,n)}}function r(e,t){if(de(e,"service"),(T(t)||Ui(t))&&(t=C.instantiate(t)),!t.$get)throw Ar("pget","Provider '{0}' must define $get factory method.",e);return $[e+g]=t}function a(e,t){return function(){var n=S.invoke(t,this);if(v(n))throw Ar("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}function s(e,t,n){return r(e,{$get:n!==!1?a(e,t):t})}function l(e,t){return s(e,["$injector",function(e){return e.instantiate(t)}])}function u(e,t){return s(e,m(t),!1)}function c(e,t){de(e,"constant"),$[e]=t,_[e]=t}function h(e,t){var n=C.get(e+g),i=n.$get;n.$get=function(){var e=S.invoke(i,n);return S.invoke(t,null,{$delegate:e})}}function d(e){ce(v(e)||Ui(e),"modulesToLoad","not an array");var t,n=[];return i(e,function(e){function i(e){var t,n;for(t=0,n=e.length;n>t;t++){var i=e[t],r=C.get(i[0]);r[i[1]].apply(r,i[2])}}if(!w.get(e)){w.put(e,!0);try{x(e)?(t=Hi(e),n=n.concat(d(t.requires)).concat(t._runBlocks),i(t._invokeQueue),i(t._configBlocks)):T(e)?n.push(C.invoke(e)):Ui(e)?n.push(C.invoke(e)):he(e,"module")}catch(r){throw Ui(e)&&(e=e[e.length-1]),r.message&&r.stack&&-1==r.stack.indexOf(r.message)&&(r=r.message+"\n"+r.stack),Ar("modulerr","Failed to instantiate module {0} due to:\n{1}",e,r.stack||r.message||r)}}}),n}function f(e,n){function i(t,i){if(e.hasOwnProperty(t)){if(e[t]===p)throw Ar("cdep","Circular dependency found: {0}",t+" <- "+y.join(" <- "));return e[t]}try{return y.unshift(t),e[t]=p,e[t]=n(t,i)}catch(r){throw e[t]===p&&delete e[t],r}finally{y.shift()}}function r(e,n,r){for(var o=[],a=nt.$$annotate(e,t,r),s=0,l=a.length;l>s;s++){var u=a[s];if("string"!=typeof u)throw Ar("itkn","Incorrect injection token! Expected service name as string, got {0}",u);o.push(n&&n.hasOwnProperty(u)?n[u]:i(u,r))}return o}function o(e){return 11>=Oi?!1:"function"==typeof e&&/^(?:class\s|constructor\()/.test(Function.prototype.toString.call(e))}function a(e,t,n,i){"string"==typeof n&&(i=n,n=null);var a=r(e,n,i);return Ui(e)&&(e=e[e.length-1]),o(e)?(a.unshift(null),new(Function.prototype.bind.apply(e,a))):e.apply(t,a)}function s(e,t,n){var i=Ui(e)?e[e.length-1]:e,o=r(e,t,n);return o.unshift(null),new(Function.prototype.bind.apply(i,o))}return{invoke:a,instantiate:s,get:i,annotate:nt.$$annotate,has:function(t){return $.hasOwnProperty(t+g)||e.hasOwnProperty(t)}}}t=t===!0;var p={},g="Provider",y=[],w=new Qe([],!0),$={$provide:{provider:n(r),factory:n(s),service:n(l),value:n(u),constant:n(c),decorator:h}},C=$.$injector=f($,function(e,t){throw qi.isString(t)&&y.push(t),Ar("unpr","Unknown provider: {0}",y.join(" <- "))}),_={},k=f(_,function(e,t){var n=C.get(e+g,t);return S.invoke(n.$get,n,void 0,e)}),S=k;$["$injector"+g]={$get:m(k)};var M=d(e);return S=k.get("$injector"),S.strictDi=t,i(M,function(e){e&&S.invoke(e)}),S}function it(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,i){function r(e){var t=null;return Array.prototype.some.call(e,function(e){return"a"===H(e)?(t=e,!0):void 0}),t}function o(){var e=s.yOffset;if(T(e))e=e();else if(N(e)){var n=e[0],i=t.getComputedStyle(n);e="fixed"!==i.position?0:n.getBoundingClientRect().bottom}else $(e)||(e=0);return e}function a(e){if(e){e.scrollIntoView();var n=o();if(n){var i=e.getBoundingClientRect().top;t.scrollBy(0,i-n)}}else t.scrollTo(0,0)}function s(e){e=x(e)?e:n.hash();var t;e?(t=l.getElementById(e))?a(t):(t=r(l.getElementsByName(e)))?a(t):"top"===e&&a(null):a(null)}var l=t.document;return e&&i.$watch(function(){return n.hash()},function(e,t){e===t&&""===e||qe(function(){i.$evalAsync(s)})}),s}]}function rt(e,t){return e||t?e?t?(Ui(e)&&(e=e.join(" ")),Ui(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function ot(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===Nr)return n}}function at(e){x(e)&&(e=e.split(" "));var t=me();return i(e,function(e){e.length&&(t[e]=!0)}),t}function st(e){return b(e)?e:{}}function lt(e,t,n,r){function o(e){try{e.apply(null,W(arguments,1))}finally{if(y--,0===y)for(;b.length;)try{b.pop()()}catch(t){n.error(t)}}}function a(e){var t=e.indexOf("#");return-1===t?"":e.substr(t)}function s(){T=null,l(),u()}function l(){w=_(),w=v(w)?null:w,j(w,M)&&(w=M),M=w}function u(){$===c.url()&&x===w||($=c.url(),x=w,i(k,function(e){e(c.url(),w)}))}var c=this,h=e.location,d=e.history,p=e.setTimeout,m=e.clearTimeout,g={};c.isMock=!1;var y=0,b=[];c.$$completeOutstandingRequest=o,c.$$incOutstandingRequestCount=function(){y++},c.notifyWhenNoOutstandingRequests=function(e){0===y?e():b.push(e)};var w,x,$=h.href,C=t.find("base"),T=null,_=r.history?function(){try{return d.state}catch(e){}}:f;l(),x=w,c.url=function(t,n,i){if(v(i)&&(i=null),h!==e.location&&(h=e.location),d!==e.history&&(d=e.history),t){var o=x===i;if($===t&&(!r.history||o))return c;var s=$&&jt($)===jt(t);return $=t,x=i,!r.history||s&&o?(s&&!T||(T=t),n?h.replace(t):s?h.hash=a(t):h.href=t,h.href!==t&&(T=t)):(d[n?"replaceState":"pushState"](i,"",t),l(),x=w),c}return T||h.href.replace(/%27/g,"'")},c.state=function(){return w};var k=[],S=!1,M=null;c.onUrlChange=function(t){return S||(r.history&&Ni(e).on("popstate",s),Ni(e).on("hashchange",s),S=!0),k.push(t),t},c.$$applicationDestroyed=function(){Ni(e).off("hashchange popstate",s)},c.$$checkUrlChange=u,c.baseHref=function(){var e=C.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""},c.defer=function(e,t){var n;return y++,n=p(function(){delete g[n],o(e)},t||0),g[n]=!0,n},c.defer.cancel=function(e){return g[e]?(delete g[e],m(e),o(f),!0):!1}}function ut(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,i){return new lt(e,i,t,n)}]}function ct(){this.$get=function(){function e(e,i){function r(e){e!=d&&(f?f==e&&(f=e.n):f=e,o(e.n,e.p),o(e,d),d=e,d.n=null)}function o(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in n)throw t("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var a=0,s=u({},i,{id:e}),l=me(),c=i&&i.capacity||Number.MAX_VALUE,h=me(),d=null,f=null;return n[e]={put:function(e,t){if(!v(t)){if(c<Number.MAX_VALUE){var n=h[e]||(h[e]={key:e});r(n)}return e in l||a++,l[e]=t,a>c&&this.remove(f.key),t}},get:function(e){if(c<Number.MAX_VALUE){var t=h[e];if(!t)return;r(t)}return l[e]},remove:function(e){if(c<Number.MAX_VALUE){var t=h[e];if(!t)return;t==d&&(d=t.p),t==f&&(f=t.n),o(t.n,t.p),delete h[e]}e in l&&(delete l[e],a--)},removeAll:function(){l=me(),a=0,h=me(),d=f=null},destroy:function(){l=null,s=null,h=null,delete n[e]},info:function(){return u({},s,{size:a})}}}var n={};return e.info=function(){var e={};return i(n,function(t,n){e[n]=t.info()}),e},e.get=function(e){return n[e]},e}}function ht(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function dt(){}function ft(t,n){function r(e,t,n){var r=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/,o=me();return i(e,function(e,i){if(e in _)return void(o[i]=_[e]);var a=e.match(r);if(!a)throw Wr("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,i,e,n?"controller bindings definition":"isolate scope definition");o[i]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||i},a[4]&&(_[e]=o[i])}),o}function a(e,t){var n={isolateScope:null,bindToController:null};if(b(e.scope)&&(e.bindToController===!0?(n.bindToController=r(e.scope,t,!0),n.isolateScope={}):n.isolateScope=r(e.scope,t,!1)),b(e.bindToController)&&(n.bindToController=r(e.bindToController,t,!0)),b(n.bindToController)){var i=e.controller,o=e.controllerAs;if(!i)throw Wr("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);if(!yt(i,o))throw Wr("noident","Cannot bind to controller without identifier for directive '{0}'.",t)}return n}function s(e){var t=e.charAt(0);if(!t||t!==Ii(t))throw Wr("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw Wr("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}var l={},c="Directive",h=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,g=/(([\w\-]+)(?:\:([^;]+))?;?)/,w=R("ngSrc,ngSrcset,src,srcset"),$=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,C=/^(on[a-z]+|formaction)$/,_=me();this.directive=function D(e,n){return de(e,"directive"),x(e)?(s(e),ce(n,"directiveFactory"),l.hasOwnProperty(e)||(l[e]=[],t.factory(e+c,["$injector","$exceptionHandler",function(t,n){var r=[];return i(l[e],function(i,o){try{var a=t.invoke(i);T(a)?a={compile:m(a)}:!a.compile&&a.link&&(a.compile=m(a.link)),a.priority=a.priority||0,a.index=o,a.name=a.name||e,a.require=a.require||a.controller&&a.name,a.restrict=a.restrict||"EA",a.$$moduleName=i.$$moduleName,r.push(a)}catch(s){n(s)}}),r}])),l[e].push(n)):i(e,o(D)),this},this.component=function(e,t){function n(e){function n(t){return T(t)||Ui(t)?function(n,i){return e.invoke(t,this,{$element:n,$attrs:i})}:t}var o=t.template||t.templateUrl?t.template:"",a={controller:r,controllerAs:yt(t.controller)||t.controllerAs||"$ctrl",template:n(o),templateUrl:n(t.templateUrl),transclude:t.transclude,scope:{},bindToController:t.bindings||{},restrict:"E",require:t.require};return i(t,function(e,t){"$"===t.charAt(0)&&(a[t]=e)}),a}var r=t.controller||function(){};return i(t,function(e,t){"$"===t.charAt(0)&&(n[t]=e,T(r)&&(r[t]=e))}),n.$inject=["$injector"],this.directive(e,n)},this.aHrefSanitizationWhitelist=function(e){return y(e)?(n.aHrefSanitizationWhitelist(e),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return y(e)?(n.imgSrcSanitizationWhitelist(e),this):n.imgSrcSanitizationWhitelist()};var k=!0;this.debugInfoEnabled=function(e){return y(e)?(k=e,this):k};var M=10;this.onChangesTtl=function(e){return arguments.length?(M=e,this):M},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(t,n,r,o,s,m,y,_,D,I){function P(){try{if(!--be)throw ge=void 0,Wr("infchng","{0} $onChanges() iterations reached. Aborting!\n",M);y.$apply(function(){for(var e=0,t=ge.length;t>e;++e)ge[e]();ge=void 0})}finally{be++}}function A(e,t){if(t){var n,i,r,o=Object.keys(t);for(n=0,i=o.length;i>n;n++)r=o[n],this[r]=t[r]}else this.$attr={};this.$$element=e}function O(e,t,n){ye.innerHTML="<span "+t+">";var i=ye.firstChild.attributes,r=i[0];i.removeNamedItem(r.name),r.value=n,e.attributes.setNamedItem(r)}function N(e,t){try{e.addClass(t)}catch(n){}}function R(t,n,i,r,o){t instanceof Ni||(t=Ni(t));for(var a=/\S+/,s=0,l=t.length;l>s;s++){var u=t[s];u.nodeType===rr&&u.nodeValue.match(a)&&Me(u,t[s]=e.document.createElement("span"))}var c=L(t,n,t,i,r,o);R.$$addScopeClass(t);var h=null;return function(e,n,i){ce(e,"scope"),o&&o.needsNewScope&&(e=e.$parent.$new()),i=i||{};var r=i.parentBoundTranscludeFn,a=i.transcludeControllers,s=i.futureParentElement;r&&r.$$boundTransclude&&(r=r.$$boundTransclude),h||(h=F(s));var l;if(l="html"!==h?Ni(ae(h,Ni("<div>").append(t).html())):n?Cr.clone.call(t):t,a)for(var u in a)l.data("$"+u+"Controller",a[u].instance);return R.$$addScopeInfo(l,e),n&&n(l,e),c&&c(e,l,l,r),l}}function F(e){var t=e&&e[0];return t&&"foreignobject"!==H(t)&&ji.call(t).match(/SVG/)?"svg":"html"}function L(e,t,n,i,r,o){function a(e,n,i,r){var o,a,s,l,u,c,h,d,m;if(f){var g=n.length;for(m=new Array(g),u=0;u<p.length;u+=3)h=p[u],m[h]=n[h]}else m=n;for(u=0,c=p.length;c>u;)s=m[p[u++]],o=p[u++],a=p[u++],o?(o.scope?(l=e.$new(),R.$$addScopeInfo(Ni(s),l)):l=e,d=o.transcludeOnThisElement?V(e,o.transclude,r):!o.templateOnThisElement&&r?r:!r&&t?V(e,t):null,o(a,l,s,i,d)):a&&a(e,s.childNodes,void 0,r)}for(var s,l,u,c,h,d,f,p=[],m=0;m<e.length;m++)s=new A,l=q(e[m],[],s,0===m?i:void 0,r),u=l.length?X(l,e[m],s,t,n,null,[],[],o):null,u&&u.scope&&R.$$addScopeClass(s.$$element),h=u&&u.terminal||!(c=e[m].childNodes)||!c.length?null:L(c,u?(u.transcludeOnThisElement||!u.templateOnThisElement)&&u.transclude:t),(u||h)&&(p.push(m,u,h),d=!0,f=f||u),o=null;return d?a:null}function V(e,t,n){function i(i,r,o,a,s){return i||(i=e.$new(!1,s),i.$$transcluded=!0),t(i,r,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})}var r=i.$$slots=me();for(var o in t.$$slots)t.$$slots[o]?r[o]=V(e,t.$$slots[o],n):r[o]=null;return i}function q(e,t,n,i,r){var o,a,s=e.nodeType,l=n.$attr;switch(s){case nr:Z(t,mt(H(e)),"E",i,r);for(var u,c,d,f,p,m,v=e.attributes,y=0,w=v&&v.length;w>y;y++){var $=!1,C=!1;u=v[y],c=u.name,p=Xi(u.value),f=mt(c),(m=Te.test(f))&&(c=c.replace(Br,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var T=f.match(_e);T&&ee(T[1])&&($=c,C=c.substr(0,c.length-5)+"end",c=c.substr(0,c.length-6)),d=mt(c.toLowerCase()),l[d]=c,!m&&n.hasOwnProperty(d)||(n[d]=p,Be(e,d)&&(n[d]=!0)),ue(e,t,p,d,m),Z(t,d,"A",i,r,$,C)}if(a=e.className,b(a)&&(a=a.animVal),x(a)&&""!==a)for(;o=g.exec(a);)d=mt(o[2]),Z(t,d,"C",i,r)&&(n[d]=Xi(o[3])),a=a.substr(o.index+o[0].length);break;case rr:if(11===Oi)for(;e.parentNode&&e.nextSibling&&e.nextSibling.nodeType===rr;)e.nodeValue=e.nodeValue+e.nextSibling.nodeValue,e.parentNode.removeChild(e.nextSibling);oe(t,e.nodeValue);break;case or:try{o=h.exec(e.nodeValue),o&&(d=mt(o[1]),Z(t,d,"M",i,r)&&(n[d]=Xi(o[2])))}catch(_){}}return t.sort(ie),t}function B(e,t,n){var i=[],r=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw Wr("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);e.nodeType==nr&&(e.hasAttribute(t)&&r++,e.hasAttribute(n)&&r--),i.push(e),e=e.nextSibling}while(r>0)}else i.push(e);return Ni(i)}function U(e,t,n){return function(i,r,o,a,s){return r=B(r[0],t,n),e(i,r,o,a,s)}}function Y(e,t,n,i,r,o){var a;return e?R(t,n,i,r,o):function(){return a||(a=R(t,n,i,r,o),t=n=o=null),a.apply(this,arguments)}}function X(e,t,n,o,a,s,l,c,h){function d(e,t,n,i){e&&(n&&(e=U(e,n,i)),e.require=p.require,e.directiveName=m,(_===p||p.$$isolateScope)&&(e=de(e,{isolateScope:!0})),l.push(e)),t&&(n&&(t=U(t,n,i)),t.require=p.require,t.directiveName=m,(_===p||p.$$isolateScope)&&(t=de(t,{isolateScope:!0})),c.push(t))}function f(e,r,o,a,s){function h(e,t,n,i){var r;if(S(e)||(i=n,n=t,t=e,e=void 0),E&&(r=y),n||(n=E?x.parent():x),!i)return s(e,t,r,n,z);var o=s.$$slots[i];if(o)return o(e,t,r,n,z);if(v(o))throw Wr("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',i,J(x))}var d,f,p,m,g,y,w,x,M,D;t===o?(M=n,x=n.$$element):(x=Ni(o),M=new A(x,n)),g=r,_?m=r.$new(!0):$&&(g=r.$parent),s&&(w=h,w.$$boundTransclude=s,w.isSlotFilled=function(e){return!!s.$$slots[e]}),C&&(y=G(x,M,w,C,m,r,_)),_&&(R.$$addScopeInfo(x,m,!0,!(k&&(k===_||k===_.$$originalDirective))),R.$$addScopeClass(x,!0),m.$$isolateBindings=_.$$isolateBindings,D=pe(r,M,m,m.$$isolateBindings,_),D.removeWatches&&m.$on("$destroy",D.removeWatches));for(var I in y){var P=C[I],O=y[I],N=P.$$bindings.bindToController;O.identifier&&N?O.bindingInfo=pe(g,M,O.instance,N,P):O.bindingInfo={};var H=O();H!==O.instance&&(O.instance=H,x.data("$"+P.name+"Controller",H),O.bindingInfo.removeWatches&&O.bindingInfo.removeWatches(),O.bindingInfo=pe(g,M,O.instance,N,P))}for(i(C,function(e,t){var n=e.require;e.bindToController&&!Ui(n)&&b(n)&&u(y[t].instance,K(t,n,x,y))}),i(y,function(e){var t=e.instance;T(t.$onChanges)&&t.$onChanges(e.bindingInfo.initialChanges),T(t.$onInit)&&t.$onInit(),T(t.$onDestroy)&&g.$on("$destroy",function(){t.$onDestroy()})}),d=0,f=l.length;f>d;d++)p=l[d],fe(p,p.isolateScope?m:r,x,M,p.require&&K(p.directiveName,p.require,x,y),w);var z=r;for(_&&(_.template||null===_.templateUrl)&&(z=m),e&&e(z,o.childNodes,void 0,s),d=c.length-1;d>=0;d--)p=c[d],fe(p,p.isolateScope?m:r,x,M,p.require&&K(p.directiveName,p.require,x,y),w);i(y,function(e){var t=e.instance;T(t.$postLink)&&t.$postLink()})}h=h||{};for(var p,m,g,y,w,x=-Number.MAX_VALUE,$=h.newScopeDirective,C=h.controllerDirectives,_=h.newIsolateScopeDirective,k=h.templateDirective,M=h.nonTlbTranscludeDirective,D=!1,I=!1,E=h.hasElementTranscludeDirective,P=n.$$element=Ni(t),O=s,N=o,z=!1,F=!1,L=0,j=e.length;j>L;L++){p=e[L];var V=p.$$start,X=p.$$end;if(V&&(P=B(t,V,X)),g=void 0,x>p.priority)break;if((w=p.scope)&&(p.templateUrl||(b(w)?(re("new/isolated scope",_||$,p,P),_=p):re("new/isolated scope",_,p,P)),$=$||p),m=p.name,!z&&(p.replace&&(p.templateUrl||p.template)||p.transclude&&!p.$$tlb)){for(var Z,ee=L+1;Z=e[ee++];)if(Z.transclude&&!Z.$$tlb||Z.replace&&(Z.templateUrl||Z.template)){F=!0;break}z=!0}if(!p.templateUrl&&p.controller&&(w=p.controller,C=C||me(),re("'"+m+"' controller",C[m],p,P),C[m]=p),w=p.transclude)if(D=!0,p.$$tlb||(re("transclusion",M,p,P),M=p),"element"==w)E=!0,x=p.priority,g=P,P=n.$$element=Ni(R.$$createComment(m,n[m])),t=P[0],he(a,W(g),t),g[0].$$parentNode=g[0].parentNode,N=Y(F,g,o,x,O&&O.name,{nonTlbTranscludeDirective:M});else{var ie=me();if(g=Ni(Ie(t)).contents(),b(w)){g=[];var oe=me(),se=me();i(w,function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,oe[e]=t,ie[t]=null,se[t]=n}),i(P.contents(),function(e){var t=oe[mt(H(e))];t?(se[t]=!0,ie[t]=ie[t]||[],ie[t].push(e)):g.push(e)}),i(se,function(e,t){if(!e)throw Wr("reqslot","Required transclusion slot `{0}` was not filled.",t)});for(var le in ie)ie[le]&&(ie[le]=Y(F,ie[le],o))}P.empty(),N=Y(F,g,o,void 0,void 0,{needsNewScope:p.$$isolateScope||p.$$newScope}),N.$$slots=ie}if(p.template)if(I=!0,re("template",k,p,P),k=p,w=T(p.template)?p.template(P,n):p.template,w=Ce(w),p.replace){if(O=p,g=$e(w)?[]:vt(ae(p.templateNamespace,Xi(w))),t=g[0],1!=g.length||t.nodeType!==nr)throw Wr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m,"");he(a,P,t);var ue={$attr:{}},ce=q(t,[],ue),ge=e.splice(L+1,e.length-(L+1));(_||$)&&Q(ce,_,$),e=e.concat(ce).concat(ge),te(n,ue),j=e.length}else P.html(w);if(p.templateUrl)I=!0,re("template",k,p,P),k=p,p.replace&&(O=p),f=ne(e.splice(L,e.length-L),P,n,a,D&&N,l,c,{controllerDirectives:C,newScopeDirective:$!==p&&$,newIsolateScopeDirective:_,templateDirective:k,nonTlbTranscludeDirective:M}),j=e.length;else if(p.compile)try{y=p.compile(P,n,N),T(y)?d(null,y,V,X):y&&d(y.pre,y.post,V,X)}catch(ve){r(ve,J(P))}p.terminal&&(f.terminal=!0,x=Math.max(x,p.priority))}return f.scope=$&&$.scope===!0,f.transcludeOnThisElement=D,f.templateOnThisElement=I,f.transclude=N,h.hasElementTranscludeDirective=E,f}function K(e,t,n,r){var o;if(x(t)){var a=t.match($),s=t.substring(a[0].length),l=a[1]||a[3],u="?"===a[2];if("^^"===l?n=n.parent():(o=r&&r[s],o=o&&o.instance),!o){var c="$"+s+"Controller";o=l?n.inheritedData(c):n.data(c)}if(!o&&!u)throw Wr("ctreq","Controller '{0}', required by directive '{1}', can't be found!",s,e)}else if(Ui(t)){o=[];for(var h=0,d=t.length;d>h;h++)o[h]=K(e,t[h],n,r)}else b(t)&&(o={},i(t,function(t,i){o[i]=K(e,t,n,r)}));return o||null}function G(e,t,n,i,r,o,a){var s=me();for(var l in i){var u=i[l],c={$scope:u===a||u.$$isolateScope?r:o,$element:e,$attrs:t,$transclude:n},h=u.controller;"@"==h&&(h=t[u.name]);var d=m(h,c,!0,u.controllerAs);s[u.name]=d,e.data("$"+u.name+"Controller",d.instance)}return s}function Q(e,t,n){for(var i=0,r=e.length;r>i;i++)e[i]=d(e[i],{$$isolateScope:t,$$newScope:n})}function Z(e,n,i,o,s,u,h){if(n===s)return null;var f=null;if(l.hasOwnProperty(n))for(var p,m=t.get(n+c),g=0,y=m.length;y>g;g++)try{if(p=m[g],(v(o)||o>p.priority)&&-1!=p.restrict.indexOf(i)){if(u&&(p=d(p,{$$start:u,$$end:h})),!p.$$bindings){var w=p.$$bindings=a(p,p.name);b(w.isolateScope)&&(p.$$isolateBindings=w.isolateScope)}e.push(p),f=p}}catch(x){r(x)}return f}function ee(e){if(l.hasOwnProperty(e))for(var n,i=t.get(e+c),r=0,o=i.length;o>r;r++)if(n=i[r],n.multiElement)return!0;return!1}function te(e,t){var n=t.$attr,r=e.$attr,o=e.$$element;i(e,function(i,r){"$"!=r.charAt(0)&&(t[r]&&t[r]!==i&&(i+=("style"===r?";":" ")+t[r]),e.$set(r,i,!0,n[r]))}),i(t,function(t,i){"class"==i?(N(o,t),e["class"]=(e["class"]?e["class"]+" ":"")+t):"style"==i?(o.attr("style",o.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==i.charAt(0)||e.hasOwnProperty(i)||(e[i]=t,r[i]=n[i])})}function ne(e,t,n,r,a,s,l,u){var c,h,f=[],p=t[0],m=e.shift(),g=d(m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),v=T(m.templateUrl)?m.templateUrl(t,n):m.templateUrl,y=m.templateNamespace;return t.empty(),o(v).then(function(o){var d,w,x,$;if(o=Ce(o),m.replace){if(x=$e(o)?[]:vt(ae(y,Xi(o))),d=x[0],1!=x.length||d.nodeType!==nr)throw Wr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m.name,v);w={$attr:{}},he(r,t,d);var C=q(d,[],w);b(m.scope)&&Q(C,!0),e=C.concat(e),te(n,w)}else d=p,t.html(o);for(e.unshift(g),c=X(e,d,n,a,t,m,s,l,u),i(r,function(e,n){e==d&&(r[n]=t[0])}),h=L(t[0].childNodes,a);f.length;){var T=f.shift(),_=f.shift(),k=f.shift(),S=f.shift(),M=t[0];if(!T.$$destroyed){if(_!==p){var D=_.className;u.hasElementTranscludeDirective&&m.replace||(M=Ie(d)),he(k,Ni(_),M),N(Ni(M),D)}$=c.transcludeOnThisElement?V(T,c.transclude,S):S,c(h,T,M,r,$)}}f=null}),function(e,t,n,i,r){var o=r;t.$$destroyed||(f?f.push(t,n,i,o):(c.transcludeOnThisElement&&(o=V(t,c.transclude,r)),c(h,t,n,i,o)))}}function ie(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function re(e,t,n,i){function r(e){return e?" (module: "+e+")":""}if(t)throw Wr("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,r(t.$$moduleName),n.name,r(n.$$moduleName),e,J(i))}function oe(e,t){var i=n(t,!0);i&&e.push({priority:0,compile:function(e){var t=e.parent(),n=!!t.length;return n&&R.$$addBindingClass(t),function(e,t){var r=t.parent();n||R.$$addBindingClass(r),R.$$addBindingInfo(r,i.expressions),e.$watch(i,function(e){t[0].nodeValue=e})}}})}function ae(t,n){switch(t=Ii(t||"html")){case"svg":case"math":var i=e.document.createElement("div");return i.innerHTML="<"+t+">"+n+"</"+t+">",i.childNodes[0].childNodes;default:return n}}function se(e,t){if("srcdoc"==t)return _.HTML;var n=H(e);return"xlinkHref"==t||"form"==n&&"action"==t||"img"!=n&&("src"==t||"ngSrc"==t)?_.RESOURCE_URL:void 0}function ue(e,t,i,r,o){var a=se(e,r);o=w[r]||o;var s=n(i,!0,a,o);if(s){if("multiple"===r&&"select"===H(e))throw Wr("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",J(e));t.push({priority:100,compile:function(){return{pre:function(e,t,l){var u=l.$$observers||(l.$$observers=me());if(C.test(r))throw Wr("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var c=l[r];c!==i&&(s=c&&n(c,!0,a,o),i=c),s&&(l[r]=s(e),(u[r]||(u[r]=[])).$$inter=!0,(l.$$observers&&l.$$observers[r].$$scope||e).$watch(s,function(e,t){"class"===r&&e!=t?l.$updateClass(e,t):l.$set(r,e)}))}}}})}}function he(t,n,i){var r,o,a=n[0],s=n.length,l=a.parentNode;if(t)for(r=0,o=t.length;o>r;r++)if(t[r]==a){t[r++]=i;for(var u=r,c=u+s-1,h=t.length;h>u;u++,
c++)h>c?t[u]=t[c]:delete t[u];t.length-=s-1,t.context===a&&(t.context=i);break}l&&l.replaceChild(i,a);var d=e.document.createDocumentFragment();for(r=0;s>r;r++)d.appendChild(n[r]);for(Ni.hasData(a)&&(Ni.data(i,Ni.data(a)),Ni(a).off("$destroy")),Ni.cleanData(d.querySelectorAll("*")),r=1;s>r;r++)delete n[r];n[0]=i,n.length=1}function de(e,t){return u(function(){return e.apply(null,arguments)},e,t)}function fe(e,t,n,i,o,a){try{e(t,n,i,o,a)}catch(s){r(s,J(n))}}function pe(e,t,r,o,a){function l(t,n,i){T(r.$onChanges)&&n!==i&&(ge||(e.$$postDigest(P),ge=[]),c||(c={},ge.push(u)),c[t]&&(i=c[t].previousValue),c[t]=new pt(i,n))}function u(){r.$onChanges(c),c=void 0}var c,h=[],d={};return i(o,function(i,o){var u,c,p,m,g,v=i.attrName,y=i.optional,b=i.mode;switch(b){case"@":y||Di.call(t,v)||(r[o]=t[v]=void 0),t.$observe(v,function(e){if(x(e)||E(e)){var t=r[o];l(o,e,t),r[o]=e}}),t.$$observers[v].$$scope=e,u=t[v],x(u)?r[o]=n(u)(e):E(u)&&(r[o]=u),d[o]=new pt(qr,r[o]);break;case"=":if(!Di.call(t,v)){if(y)break;t[v]=void 0}if(y&&!t[v])break;c=s(t[v]),m=c.literal?j:function(e,t){return e===t||e!==e&&t!==t},p=c.assign||function(){throw u=r[o]=c(e),Wr("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",t[v],v,a.name)},u=r[o]=c(e);var w=function(t){return m(t,r[o])||(m(t,u)?p(e,t=r[o]):r[o]=t),u=t};w.$stateful=!0,g=i.collection?e.$watchCollection(t[v],w):e.$watch(s(t[v],w),null,c.literal),h.push(g);break;case"<":if(!Di.call(t,v)){if(y)break;t[v]=void 0}if(y&&!t[v])break;c=s(t[v]),r[o]=c(e),d[o]=new pt(qr,r[o]),g=e.$watch(c,function(e,t){e===t&&(t=r[o]),l(o,e,t),r[o]=e},c.literal),h.push(g);break;case"&":if(c=t.hasOwnProperty(v)?s(t[v]):f,c===f&&y)break;r[o]=function(t){return c(e,t)}}}),{initialChanges:d,removeWatches:h.length&&function(){for(var e=0,t=h.length;t>e;++e)h[e]()}}}var ge,ve=/^\w/,ye=e.document.createElement("div"),be=M;A.prototype={$normalize:mt,$addClass:function(e){e&&e.length>0&&D.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&D.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=gt(e,t);n&&n.length&&D.addClass(this.$$element,n);var i=gt(t,e);i&&i.length&&D.removeClass(this.$$element,i)},$set:function(e,t,n,o){var a,s=this.$$element[0],l=Be(s,e),u=Ue(e),c=e;if(l?(this.$$element.prop(e,t),o=l):u&&(this[u]=t,c=u),this[e]=t,o?this.$attr[e]=o:(o=this.$attr[e],o||(this.$attr[e]=o=le(e,"-"))),a=H(this.$$element),"a"===a&&("href"===e||"xlinkHref"===e)||"img"===a&&"src"===e)this[e]=t=I(t,"src"===e);else if("img"===a&&"srcset"===e){for(var h="",d=Xi(t),f=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,p=/\s/.test(d)?f:/(,)/,m=d.split(p),g=Math.floor(m.length/2),y=0;g>y;y++){var b=2*y;h+=I(Xi(m[b]),!0),h+=" "+Xi(m[b+1])}var w=Xi(m[2*y]).split(/\s/);h+=I(Xi(w[0]),!0),2===w.length&&(h+=" "+Xi(w[1])),this[e]=t=h}n!==!1&&(null===t||v(t)?this.$$element.removeAttr(o):ve.test(o)?this.$$element.attr(o,t):O(this.$$element[0],o,t));var x=this.$$observers;x&&i(x[c],function(e){try{e(t)}catch(n){r(n)}})},$observe:function(e,t){var n=this,i=n.$$observers||(n.$$observers=me()),r=i[e]||(i[e]=[]);return r.push(t),y.$evalAsync(function(){r.$$inter||!n.hasOwnProperty(e)||v(n[e])||t(n[e])}),function(){z(r,t)}}};var we=n.startSymbol(),xe=n.endSymbol(),Ce="{{"==we&&"}}"==xe?p:function(e){return e.replace(/\{\{/g,we).replace(/}}/g,xe)},Te=/^ngAttr[A-Z]/,_e=/^(.+)Start$/;return R.$$addBindingInfo=k?function(e,t){var n=e.data("$binding")||[];Ui(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:f,R.$$addBindingClass=k?function(e){N(e,"ng-binding")}:f,R.$$addScopeInfo=k?function(e,t,n,i){var r=n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(r,t)}:f,R.$$addScopeClass=k?function(e,t){N(e,t?"ng-isolate-scope":"ng-scope")}:f,R.$$createComment=function(t,n){var i="";return k&&(i=" "+(t||"")+": "+(n||"")+" "),e.document.createComment(i)},R}]}function pt(e,t){this.previousValue=e,this.currentValue=t}function mt(e){return xe(e.replace(Br,""))}function gt(e,t){var n="",i=e.split(/\s+/),r=t.split(/\s+/);e:for(var o=0;o<i.length;o++){for(var a=i[o],s=0;s<r.length;s++)if(a==r[s])continue e;n+=(n.length>0?" ":"")+a}return n}function vt(e){e=Ni(e);var t=e.length;if(1>=t)return e;for(;t--;){var n=e[t];n.nodeType===or&&Fi.call(e,t,1)}return e}function yt(e,t){if(t&&x(t))return t;if(x(e)){var n=Yr.exec(e);if(n)return n[3]}}function bt(){var e={},n=!1;this.has=function(t){return e.hasOwnProperty(t)},this.register=function(t,n){de(t,"controller"),b(t)?u(e,t):e[t]=n},this.allowGlobals=function(){n=!0},this.$get=["$injector","$window",function(i,r){function o(e,n,i,r){if(!e||!b(e.$scope))throw t("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",r,n);e.$scope[n]=i}return function(t,a,s,l){var c,h,d,f;if(s=s===!0,l&&x(l)&&(f=l),x(t)){if(h=t.match(Yr),!h)throw Ur("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",t);d=h[1],f=f||h[3],t=e.hasOwnProperty(d)?e[d]:fe(a.$scope,d,!0)||(n?fe(r,d,!0):void 0),he(t,d,!0)}if(s){var p=(Ui(t)?t[t.length-1]:t).prototype;c=Object.create(p||null),f&&o(a,f,c,d||t.name);var m;return m=u(function(){var e=i.invoke(t,c,a,d);return e!==c&&(b(e)||T(e))&&(c=e,f&&o(a,f,c,d||t.name)),c},{instance:c,identifier:f})}return c=i.instantiate(t,a,d),f&&o(a,f,c,d||t.name),c}}]}function wt(){this.$get=["$window",function(e){return Ni(e.document)}]}function xt(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function $t(e){return b(e)?C(e)?e.toISOString():U(e):e}function Ct(){this.$get=function(){return function(e){if(!e)return"";var t=[];return r(e,function(e,n){null===e||v(e)||(Ui(e)?i(e,function(e){t.push(ne(n)+"="+ne($t(e)))}):t.push(ne(n)+"="+ne($t(e))))}),t.join("&")}}}function Tt(){this.$get=function(){return function(e){function t(e,o,a){null===e||v(e)||(Ui(e)?i(e,function(e,n){t(e,o+"["+(b(e)?n:"")+"]")}):b(e)&&!C(e)?r(e,function(e,n){t(e,o+(a?"":"[")+n+(a?"":"]"))}):n.push(ne(o)+"="+ne($t(e))))}if(!e)return"";var n=[];return t(e,"",!0),n.join("&")}}}function _t(e,t){if(x(e)){var n=e.replace(Zr,"").trim();if(n){var i=t("Content-Type");(i&&0===i.indexOf(Kr)||kt(n))&&(e=Y(n))}}return e}function kt(e){var t=e.match(Jr);return t&&Qr[t[0]].test(e)}function St(e){function t(e,t){e&&(r[e]=r[e]?r[e]+", "+t:t)}var n,r=me();return x(e)?i(e.split("\n"),function(e){n=e.indexOf(":"),t(Ii(Xi(e.substr(0,n))),Xi(e.substr(n+1)))}):b(e)&&i(e,function(e,n){t(Ii(n),Xi(e))}),r}function Mt(e){var t;return function(n){if(t||(t=St(e)),n){var i=t[Ii(n)];return void 0===i&&(i=null),i}return t}}function Dt(e,t,n,r){return T(r)?r(e,t,n):(i(r,function(i){e=i(e,t,n)}),e)}function It(e){return e>=200&&300>e}function Et(){var e=this.defaults={transformResponse:[_t],transformRequest:[function(e){return!b(e)||M(e)||I(e)||D(e)?e:U(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:L(Gr),put:L(Gr),patch:L(Gr)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},n=!1;this.useApplyAsync=function(e){return y(e)?(n=!!e,this):n};var r=!0;this.useLegacyPromiseExtensions=function(e){return y(e)?(r=!!e,this):r};var o=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(a,s,l,c,h,d){function f(n){function o(e){var t=u({},e);return t.data=Dt(e.data,e.headers,e.status,l.transformResponse),It(e.status)?t:h.reject(t)}function a(e,t){var n,r={};return i(e,function(e,i){T(e)?(n=e(t),null!=n&&(r[i]=n)):r[i]=e}),r}function s(t){var n,i,r,o=e.headers,s=u({},t.headers);o=u({},o.common,o[Ii(t.method)]);e:for(n in o){i=Ii(n);for(r in s)if(Ii(r)===i)continue e;s[n]=o[n]}return a(s,L(t))}if(!b(n))throw t("$http")("badreq","Http request configuration must be an object.  Received: {0}",n);if(!x(n.url))throw t("$http")("badreq","Http request configuration url must be a string.  Received: {0}",n.url);var l=u({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer},n);l.headers=s(n),l.method=Ei(l.method),l.paramSerializer=x(l.paramSerializer)?d.get(l.paramSerializer):l.paramSerializer;var c=function(t){var n=t.headers,r=Dt(t.data,Mt(n),void 0,t.transformRequest);return v(r)&&i(n,function(e,t){"content-type"===Ii(t)&&delete n[t]}),v(t.withCredentials)&&!v(e.withCredentials)&&(t.withCredentials=e.withCredentials),g(t,r).then(o,o)},f=[c,void 0],p=h.when(l);for(i(C,function(e){(e.request||e.requestError)&&f.unshift(e.request,e.requestError),(e.response||e.responseError)&&f.push(e.response,e.responseError)});f.length;){var m=f.shift(),y=f.shift();p=p.then(m,y)}return r?(p.success=function(e){return he(e,"fn"),p.then(function(t){e(t.data,t.status,t.headers,l)}),p},p.error=function(e){return he(e,"fn"),p.then(null,function(t){e(t.data,t.status,t.headers,l)}),p}):(p.success=to("success"),p.error=to("error")),p}function p(e){i(arguments,function(e){f[e]=function(t,n){return f(u({},n||{},{method:e,url:t}))}})}function m(e){i(arguments,function(e){f[e]=function(t,n,i){return f(u({},i||{},{method:e,url:t,data:n}))}})}function g(t,r){function o(e){if(e){var t={};return i(e,function(e,i){t[i]=function(t){function i(){e(t)}n?c.$applyAsync(i):c.$$phase?i():c.$apply(i)}}),t}}function l(e,t,i,r){function o(){u(t,e,i,r)}m&&(It(e)?m.put(_,[e,t,St(i),r]):m.remove(_)),n?c.$applyAsync(o):(o(),c.$$phase||c.$apply())}function u(e,n,i,r){n=n>=-1?n:0,(It(n)?x.resolve:x.reject)({data:e,status:n,headers:Mt(i),config:t,statusText:r})}function d(e){u(e.data,e.status,L(e.headers()),e.statusText)}function p(){var e=f.pendingRequests.indexOf(t);-1!==e&&f.pendingRequests.splice(e,1)}var m,g,x=h.defer(),C=x.promise,T=t.headers,_=w(t.url,t.paramSerializer(t.params));if(f.pendingRequests.push(t),C.then(p,p),!t.cache&&!e.cache||t.cache===!1||"GET"!==t.method&&"JSONP"!==t.method||(m=b(t.cache)?t.cache:b(e.cache)?e.cache:$),m&&(g=m.get(_),y(g)?P(g)?g.then(d,d):Ui(g)?u(g[1],g[0],L(g[2]),g[3]):u(g,200,{},"OK"):m.put(_,C)),v(g)){var k=An(t.url)?s()[t.xsrfCookieName||e.xsrfCookieName]:void 0;k&&(T[t.xsrfHeaderName||e.xsrfHeaderName]=k),a(t.method,_,r,l,T,t.timeout,t.withCredentials,t.responseType,o(t.eventHandlers),o(t.uploadEventHandlers))}return C}function w(e,t){return t.length>0&&(e+=(-1==e.indexOf("?")?"?":"&")+t),e}var $=l("$http");e.paramSerializer=x(e.paramSerializer)?d.get(e.paramSerializer):e.paramSerializer;var C=[];return i(o,function(e){C.unshift(x(e)?d.get(e):d.invoke(e))}),f.pendingRequests=[],p("get","delete","head","jsonp"),m("post","put","patch"),f.defaults=e,f}]}function Pt(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function At(){this.$get=["$browser","$window","$document","$xhrFactory",function(e,t,n,i){return Ot(e,i,e.defer,t.angular.callbacks,n[0])}]}function Ot(e,t,n,r,o){function a(e,t,n){var i=o.createElement("script"),a=null;return i.type="text/javascript",i.src=e,i.async=!0,a=function(e){dr(i,"load",a),dr(i,"error",a),o.body.removeChild(i),i=null;var s=-1,l="unknown";e&&("load"!==e.type||r[t].called||(e={type:"error"}),l=e.type,s="error"===e.type?404:200),n&&n(s,l)},hr(i,"load",a),hr(i,"error",a),o.body.appendChild(i),a}return function(o,s,l,u,c,h,d,p,m,g){function b(){$&&$(),C&&C.abort()}function w(t,i,r,o,a){y(k)&&n.cancel(k),$=C=null,t(i,r,o,a),e.$$completeOutstandingRequest(f)}if(e.$$incOutstandingRequestCount(),s=s||e.url(),"jsonp"==Ii(o)){var x="_"+(r.counter++).toString(36);r[x]=function(e){r[x].data=e,r[x].called=!0};var $=a(s.replace("JSON_CALLBACK","angular.callbacks."+x),x,function(e,t){w(u,e,r[x].data,"",t),r[x]=f})}else{var C=t(o,s);C.open(o,s,!0),i(c,function(e,t){y(e)&&C.setRequestHeader(t,e)}),C.onload=function(){var e=C.statusText||"",t="response"in C?C.response:C.responseText,n=1223===C.status?204:C.status;0===n&&(n=t?200:"file"==Pn(s).protocol?404:0),w(u,n,t,C.getAllResponseHeaders(),e)};var T=function(){w(u,-1,null,null,"")};if(C.onerror=T,C.onabort=T,i(m,function(e,t){C.addEventListener(t,e)}),i(g,function(e,t){C.upload.addEventListener(t,e)}),d&&(C.withCredentials=!0),p)try{C.responseType=p}catch(_){if("json"!==p)throw _}C.send(v(l)?null:l)}if(h>0)var k=n(b,h);else P(h)&&h.then(b)}}function Nt(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,r){function o(e){return"\\\\\\"+e}function a(n){return n.replace(f,e).replace(p,t)}function s(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=U(e)}return e}function l(e,t,n,i){var r;return r=e.$watch(function(e){return r(),i(e)},t,n)}function c(o,c,f,p){function g(e){try{return e=P(e),p&&!y(e)?e:s(e)}catch(t){i(no.interr(o,t))}}if(!o.length||-1===o.indexOf(e)){var b;if(!c){var w=a(o);b=m(w),b.exp=o,b.expressions=[],b.$$watchDelegate=l}return b}p=!!p;for(var x,$,C,_=0,k=[],S=[],M=o.length,D=[],I=[];M>_;){if(-1==(x=o.indexOf(e,_))||-1==($=o.indexOf(t,x+h))){_!==M&&D.push(a(o.substring(_)));break}_!==x&&D.push(a(o.substring(_,x))),C=o.substring(x+h,$),k.push(C),S.push(n(C,g)),_=$+d,I.push(D.length),D.push("")}if(f&&D.length>1&&no.throwNoconcat(o),!c||k.length){var E=function(e){for(var t=0,n=k.length;n>t;t++){if(p&&v(e[t]))return;D[I[t]]=e[t]}return D.join("")},P=function(e){return f?r.getTrusted(f,e):r.valueOf(e)};return u(function(e){var t=0,n=k.length,r=new Array(n);try{for(;n>t;t++)r[t]=S[t](e);return E(r)}catch(a){i(no.interr(o,a))}},{exp:o,expressions:k,$$watchDelegate:function(e,t){var n;return e.$watchGroup(S,function(i,r){var o=E(i);T(t)&&t.call(this,o,i!==r?n:o,e),n=o})}})}}var h=e.length,d=t.length,f=new RegExp(e.replace(/./g,o),"g"),p=new RegExp(t.replace(/./g,o),"g");return c.startSymbol=function(){return e},c.endSymbol=function(){return t},c}]}function Rt(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(e,t,n,i,r){function o(o,s,l,u){function c(){h?o.apply(null,d):o(m)}var h=arguments.length>4,d=h?W(arguments,4):[],f=t.setInterval,p=t.clearInterval,m=0,g=y(u)&&!u,v=(g?i:n).defer(),b=v.promise;return l=y(l)?l:0,b.$$intervalId=f(function(){g?r.defer(c):e.$evalAsync(c),v.notify(m++),l>0&&m>=l&&(v.resolve(m),p(b.$$intervalId),delete a[b.$$intervalId]),g||e.$apply()},s),a[b.$$intervalId]=v,b}var a={};return o.cancel=function(e){return e&&e.$$intervalId in a?(a[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete a[e.$$intervalId],!0):!1},o}]}function Ht(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=te(t[n]);return t.join("/")}function zt(e,t){var n=Pn(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=h(n.port)||ro[n.protocol]||null}function Ft(e,t){var n="/"!==e.charAt(0);n&&(e="/"+e);var i=Pn(e);t.$$path=decodeURIComponent(n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),t.$$search=Z(i.search),t.$$hash=decodeURIComponent(i.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function Lt(e,t){return 0===t.indexOf(e)?t.substr(e.length):void 0}function jt(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function Vt(e){return e.replace(/(#.+)|#$/,"$1")}function Wt(e){return e.substr(0,jt(e).lastIndexOf("/")+1)}function qt(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function Bt(e,t,n){this.$$html5=!0,n=n||"",zt(e,this),this.$$parse=function(e){var n=Lt(t,e);if(!x(n))throw oo("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,t);Ft(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=ee(this.$$search),n=this.$$hash?"#"+te(this.$$hash):"";this.$$url=Ht(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+this.$$url.substr(1)},this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,a,s;return y(o=Lt(e,i))?(a=o,s=y(o=Lt(n,o))?t+(Lt("/",o)||o):e+a):y(o=Lt(t,i))?s=t+o:t==i+"/"&&(s=t),s&&this.$$parse(s),!!s}}function Ut(e,t,n){zt(e,this),this.$$parse=function(i){function r(e,t,n){var i,r=/^\/[A-Z]:(\/.*)/;return 0===t.indexOf(n)&&(t=t.replace(n,"")),r.exec(t)?e:(i=r.exec(e),i?i[1]:e)}var o,a=Lt(e,i)||Lt(t,i);v(a)||"#"!==a.charAt(0)?this.$$html5?o=a:(o="",v(a)&&(e=i,this.replace())):(o=Lt(n,a),v(o)&&(o=a)),Ft(o,this),this.$$path=r(this.$$path,o,e),this.$$compose()},this.$$compose=function(){var t=ee(this.$$search),i=this.$$hash?"#"+te(this.$$hash):"";this.$$url=Ht(this.$$path)+(t?"?"+t:"")+i,this.$$absUrl=e+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(t,n){return jt(e)==jt(t)?(this.$$parse(t),!0):!1}}function Yt(e,t,n){this.$$html5=!0,Ut.apply(this,arguments),this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,a;return e==jt(i)?o=i:(a=Lt(t,i))?o=e+n+a:t===i+"/"&&(o=t),o&&this.$$parse(o),!!o},this.$$compose=function(){var t=ee(this.$$search),i=this.$$hash?"#"+te(this.$$hash):"";this.$$url=Ht(this.$$path)+(t?"?"+t:"")+i,this.$$absUrl=e+n+this.$$url}}function Xt(e){return function(){return this[e]}}function Kt(e,t){return function(n){return v(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function Gt(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return y(t)?(e=t,this):e},this.html5Mode=function(e){return E(e)?(t.enabled=e,this):b(e)?(E(e.enabled)&&(t.enabled=e.enabled),E(e.requireBase)&&(t.requireBase=e.requireBase),E(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,i,r,o,a){function s(e,t,n){var r=u.url(),o=u.$$state;try{i.url(e,t,n),u.$$state=i.state()}catch(a){throw u.url(r),u.$$state=o,a}}function l(e,t){n.$broadcast("$locationChangeSuccess",u.absUrl(),e,u.$$state,t)}var u,c,h,d=i.baseHref(),f=i.url();if(t.enabled){if(!d&&t.requireBase)throw oo("nobase","$location in HTML5 mode requires a <base> tag to be present!");h=qt(f)+(d||"/"),c=r.history?Bt:Yt}else h=jt(f),c=Ut;var p=Wt(h);u=new c(h,p,"#"+e),u.$$parseLinkUrl(f,f),u.$$state=i.state();var m=/^\s*(javascript|mailto):/i;o.on("click",function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!=e.which&&2!=e.button){for(var r=Ni(e.target);"a"!==H(r[0]);)if(r[0]===o[0]||!(r=r.parent())[0])return;var s=r.prop("href"),l=r.attr("href")||r.attr("xlink:href");b(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=Pn(s.animVal).href),m.test(s)||!s||r.attr("target")||e.isDefaultPrevented()||u.$$parseLinkUrl(s,l)&&(e.preventDefault(),u.absUrl()!=i.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}),Vt(u.absUrl())!=Vt(f)&&i.url(u.absUrl(),!0);var g=!0;return i.onUrlChange(function(e,t){return v(Lt(p,e))?void(a.location.href=e):(n.$evalAsync(function(){var i,r=u.absUrl(),o=u.$$state;e=Vt(e),u.$$parse(e),u.$$state=t,i=n.$broadcast("$locationChangeStart",e,r,t,o).defaultPrevented,u.absUrl()===e&&(i?(u.$$parse(r),u.$$state=o,s(r,!1,o)):(g=!1,l(r,o)))}),void(n.$$phase||n.$digest()))}),n.$watch(function(){var e=Vt(i.url()),t=Vt(u.absUrl()),o=i.state(),a=u.$$replace,c=e!==t||u.$$html5&&r.history&&o!==u.$$state;(g||c)&&(g=!1,n.$evalAsync(function(){var t=u.absUrl(),i=n.$broadcast("$locationChangeStart",t,e,u.$$state,o).defaultPrevented;u.absUrl()===t&&(i?(u.$$parse(e),u.$$state=o):(c&&s(t,a,o===u.$$state?null:u.$$state),l(e,o)))})),u.$$replace=!1}),u}]}function Jt(){var e=!0,t=this;this.debugEnabled=function(t){return y(t)?(e=t,this):e},this.$get=["$window",function(n){function r(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function o(e){var t=n.console||{},o=t[e]||t.log||f,a=!1;try{a=!!o.apply}catch(s){}return a?function(){var e=[];return i(arguments,function(t){e.push(r(t))}),o.apply(t,e)}:function(e,t){o(e,null==t?"":t)}}return{log:o("log"),info:o("info"),warn:o("warn"),error:o("error"),debug:function(){var n=o("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function Qt(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw so("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",t);return e}function Zt(e){return e+""}function en(e,t){if(e){if(e.constructor===e)throw so("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e.window===e)throw so("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw so("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);if(e===Object)throw so("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",t)}return e}function tn(e,t){if(e){if(e.constructor===e)throw so("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e===lo||e===uo||e===co)throw so("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",t)}}function nn(e,t){if(e&&(e===0..constructor||e===(!1).constructor||e==="".constructor||e==={}.constructor||e===[].constructor||e===Function.constructor))throw so("isecaf","Assigning to a constructor is disallowed! Expression: {0}",t)}function rn(e,t){return"undefined"!=typeof e?e:t}function on(e,t){return"undefined"==typeof e?t:"undefined"==typeof t?e:e+t}function an(e,t){var n=e(t);return!n.$stateful}function sn(e,t){var n,r;switch(e.type){case mo.Program:n=!0,i(e.body,function(e){sn(e.expression,t),n=n&&e.expression.constant}),e.constant=n;break;case mo.Literal:e.constant=!0,e.toWatch=[];break;case mo.UnaryExpression:sn(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case mo.BinaryExpression:sn(e.left,t),sn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case mo.LogicalExpression:sn(e.left,t),sn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case mo.ConditionalExpression:sn(e.test,t),sn(e.alternate,t),sn(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case mo.Identifier:e.constant=!1,e.toWatch=[e];break;case mo.MemberExpression:sn(e.object,t),e.computed&&sn(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case mo.CallExpression:n=e.filter?an(t,e.callee.name):!1,r=[],i(e.arguments,function(e){sn(e,t),n=n&&e.constant,e.constant||r.push.apply(r,e.toWatch)}),e.constant=n,e.toWatch=e.filter&&an(t,e.callee.name)?r:[e];break;case mo.AssignmentExpression:sn(e.left,t),sn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case mo.ArrayExpression:n=!0,r=[],i(e.elements,function(e){sn(e,t),n=n&&e.constant,e.constant||r.push.apply(r,e.toWatch)}),e.constant=n,e.toWatch=r;break;case mo.ObjectExpression:n=!0,r=[],i(e.properties,function(e){sn(e.value,t),n=n&&e.value.constant,e.value.constant||r.push.apply(r,e.value.toWatch)}),e.constant=n,e.toWatch=r;break;case mo.ThisExpression:e.constant=!1,e.toWatch=[];break;case mo.LocalsExpression:e.constant=!1,e.toWatch=[]}}function ln(e){if(1==e.length){var t=e[0].expression,n=t.toWatch;return 1!==n.length?n:n[0]!==t?n:void 0}}function un(e){return e.type===mo.Identifier||e.type===mo.MemberExpression}function cn(e){return 1===e.body.length&&un(e.body[0].expression)?{type:mo.AssignmentExpression,left:e.body[0].expression,right:{type:mo.NGValueParameter},operator:"="}:void 0}function hn(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===mo.Literal||e.body[0].expression.type===mo.ArrayExpression||e.body[0].expression.type===mo.ObjectExpression)}function dn(e){return e.constant}function fn(e,t){this.astBuilder=e,this.$filter=t}function pn(e,t){this.astBuilder=e,this.$filter=t}function mn(e){return"constructor"==e}function gn(e){return T(e.valueOf)?e.valueOf():vo.call(e)}function vn(){var e,t,n=me(),r=me(),o={"true":!0,"false":!1,"null":null,undefined:void 0};this.addLiteral=function(e,t){o[e]=t},this.setIdentifierFns=function(n,i){return e=n,t=i,this},this.$get=["$filter",function(a){function s(e,t,i){var o,s,u;switch(i=i||w,typeof e){case"string":e=e.trim(),u=e;var g=i?r:n;if(o=g[u],!o){":"===e.charAt(0)&&":"===e.charAt(1)&&(s=!0,e=e.substring(2));var y=i?b:v,x=new po(y),$=new go(x,a,y);o=$.parse(e),o.constant?o.$$watchDelegate=p:s?o.$$watchDelegate=o.literal?d:h:o.inputs&&(o.$$watchDelegate=c),i&&(o=l(o)),g[u]=o}return m(o,t);case"function":return m(e,t);default:return m(f,t)}}function l(e){function t(t,n,i,r){var o=w;w=!0;try{return e(t,n,i,r)}finally{w=o}}if(!e)return e;t.$$watchDelegate=e.$$watchDelegate,t.assign=l(e.assign),t.constant=e.constant,t.literal=e.literal;for(var n=0;e.inputs&&n<e.inputs.length;++n)e.inputs[n]=l(e.inputs[n]);return t.inputs=e.inputs,t}function u(e,t){return null==e||null==t?e===t:"object"==typeof e&&(e=gn(e),"object"==typeof e)?!1:e===t||e!==e&&t!==t}function c(e,t,n,i,r){var o,a=i.inputs;if(1===a.length){var s=u;return a=a[0],e.$watch(function(e){var t=a(e);return u(t,s)||(o=i(e,void 0,void 0,[t]),s=t&&gn(t)),o},t,n,r)}for(var l=[],c=[],h=0,d=a.length;d>h;h++)l[h]=u,c[h]=null;return e.$watch(function(e){for(var t=!1,n=0,r=a.length;r>n;n++){var s=a[n](e);(t||(t=!u(s,l[n])))&&(c[n]=s,l[n]=s&&gn(s))}return t&&(o=i(e,void 0,void 0,c)),o},t,n,r)}function h(e,t,n,i){var r,o;return r=e.$watch(function(e){return i(e)},function(e,n,i){o=e,T(t)&&t.apply(this,arguments),y(e)&&i.$$postDigest(function(){y(o)&&r()})},n)}function d(e,t,n,r){function o(e){var t=!0;return i(e,function(e){y(e)||(t=!1)}),t}var a,s;return a=e.$watch(function(e){return r(e)},function(e,n,i){s=e,T(t)&&t.call(this,e,n,i),o(e)&&i.$$postDigest(function(){o(s)&&a()})},n)}function p(e,t,n,i){var r;return r=e.$watch(function(e){return r(),i(e)},t,n)}function m(e,t){if(!t)return e;var n=e.$$watchDelegate,i=!1,r=n!==d&&n!==h,o=r?function(n,r,o,a){var s=i&&a?a[0]:e(n,r,o,a);return t(s,n,r)}:function(n,i,r,o){var a=e(n,i,r,o),s=t(a,n,i);return y(a)?s:a};return e.$$watchDelegate&&e.$$watchDelegate!==c?o.$$watchDelegate=e.$$watchDelegate:t.$stateful||(o.$$watchDelegate=c,i=!e.inputs,o.inputs=e.inputs?e.inputs:[e]),o}var g=Gi().noUnsafeEval,v={csp:g,expensiveChecks:!1,literals:F(o),isIdentifierStart:T(e)&&e,isIdentifierContinue:T(t)&&t},b={csp:g,expensiveChecks:!0,literals:F(o),isIdentifierStart:T(e)&&e,isIdentifierContinue:T(t)&&t},w=!1;return s.$$runningExpensiveChecks=function(){return w},s}]}function yn(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return wn(function(t){e.$evalAsync(t)},t)}]}function bn(){this.$get=["$browser","$exceptionHandler",function(e,t){return wn(function(t){e.defer(t)},t)}]}function wn(e,n){function r(){this.$$state={status:0}}function o(e,t){return function(n){t.call(e,n)}}function a(e){var t,i,r;r=e.pending,e.processScheduled=!1,e.pending=void 0;for(var o=0,a=r.length;a>o;++o){i=r[o][0],t=r[o][e.status];try{T(t)?i.resolve(t(e.value)):1===e.status?i.resolve(e.value):i.reject(e.value)}catch(s){i.reject(s),n(s)}}}function s(t){!t.processScheduled&&t.pending&&(t.processScheduled=!0,e(function(){a(t)}))}function l(){this.promise=new r}function c(e){var t=new l,n=0,r=Ui(e)?[]:{};return i(e,function(e,i){n++,g(e).then(function(e){r.hasOwnProperty(i)||(r[i]=e,--n||t.resolve(r))},function(e){r.hasOwnProperty(i)||t.reject(e)})}),0===n&&t.resolve(r),t.promise}var h=t("$q",TypeError),d=function(){var e=new l;return e.resolve=o(e,e.resolve),e.reject=o(e,e.reject),e.notify=o(e,e.notify),e};u(r.prototype,{then:function(e,t,n){if(v(e)&&v(t)&&v(n))return this;var i=new l;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,e,t,n]),this.$$state.status>0&&s(this.$$state),i.promise},"catch":function(e){return this.then(null,e)},"finally":function(e,t){return this.then(function(t){return m(t,!0,e)},function(t){return m(t,!1,e)},t)}}),u(l.prototype,{resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(h("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):this.$$resolve(e))},$$resolve:function(e){function t(e){l||(l=!0,a.$$resolve(e))}function i(e){l||(l=!0,a.$$reject(e))}var r,a=this,l=!1;try{(b(e)||T(e))&&(r=e&&e.then),T(r)?(this.promise.$$state.status=-1,r.call(e,t,i,o(this,this.notify))):(this.promise.$$state.value=e,this.promise.$$state.status=1,s(this.promise.$$state))}catch(u){i(u),n(u)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,s(this.promise.$$state)},notify:function(t){var i=this.promise.$$state.pending;this.promise.$$state.status<=0&&i&&i.length&&e(function(){for(var e,r,o=0,a=i.length;a>o;o++){r=i[o][0],e=i[o][3];try{r.notify(T(e)?e(t):t)}catch(s){n(s)}}})}});var f=function(e){var t=new l;return t.reject(e),t.promise},p=function(e,t){var n=new l;return t?n.resolve(e):n.reject(e),n.promise},m=function(e,t,n){var i=null;try{T(n)&&(i=n())}catch(r){return p(r,!1)}return P(i)?i.then(function(){return p(e,t)},function(e){return p(e,!1)}):p(e,t)},g=function(e,t,n,i){var r=new l;return r.resolve(e),r.promise.then(t,n,i)},y=g,w=function(e){function t(e){i.resolve(e)}function n(e){i.reject(e)}if(!T(e))throw h("norslvr","Expected resolverFn, got '{0}'",e);var i=new l;return e(t,n),i.promise};return w.prototype=r.prototype,w.defer=d,w.reject=f,w.when=g,w.resolve=y,w.all=c,w}function xn(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,i=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,r=!!n,o=r?function(e){var t=n(e);return function(){i(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return o.supported=r,o}]}function $n(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=a(),this.$$ChildScope=null}return t.prototype=e,t}var r=10,o=t("$rootScope"),s=null,l=null;this.digestTtl=function(e){return arguments.length&&(r=e),r},this.$get=["$exceptionHandler","$parse","$browser",function(t,u,c){function h(e){e.currentScope.$$destroyed=!0}function d(e){9===Oi&&(e.$$childHead&&d(e.$$childHead),e.$$nextSibling&&d(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function p(){this.$id=a(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function m(e){if(_.$$phase)throw o("inprog","{0} already in progress",_.$$phase);_.$$phase=e}function g(){_.$$phase=null}function y(e,t){do e.$$watchersCount+=t;while(e=e.$parent)}function w(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function x(){}function $(){for(;M.length;)try{M.shift()()}catch(e){t(e)}l=null}function C(){null===l&&(l=c.defer(function(){_.$apply($)}))}p.prototype={constructor:p,$new:function(t,n){var i;return n=n||this,t?(i=new p,i.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),i=new this.$$ChildScope),i.$parent=n,i.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=i,n.$$childTail=i):n.$$childHead=n.$$childTail=i,(t||n!=this)&&i.$on("$destroy",h),i},$watch:function(e,t,n,i){var r=u(e);if(r.$$watchDelegate)return r.$$watchDelegate(this,t,n,r,e);var o=this,a=o.$$watchers,l={fn:t,last:x,get:r,exp:i||e,eq:!!n};return s=null,T(t)||(l.fn=f),a||(a=o.$$watchers=[]),a.unshift(l),y(this,1),function(){z(a,l)>=0&&y(o,-1),s=null}},$watchGroup:function(e,t){function n(){l=!1,u?(u=!1,t(o,o,s)):t(o,r,s)}var r=new Array(e.length),o=new Array(e.length),a=[],s=this,l=!1,u=!0;if(!e.length){var c=!0;return s.$evalAsync(function(){c&&t(o,o,s)}),function(){c=!1}}return 1===e.length?this.$watch(e[0],function(e,n,i){o[0]=e,r[0]=n,t(o,e===n?o:r,i);
}):(i(e,function(e,t){var i=s.$watch(e,function(e,i){o[t]=e,r[t]=i,l||(l=!0,s.$evalAsync(n))});a.push(i)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(e,t){function i(e){o=e;var t,i,r,s,l;if(!v(o)){if(b(o))if(n(o)){a!==f&&(a=f,g=a.length=0,h++),t=o.length,g!==t&&(h++,a.length=g=t);for(var u=0;t>u;u++)l=a[u],s=o[u],r=l!==l&&s!==s,r||l===s||(h++,a[u]=s)}else{a!==p&&(a=p={},g=0,h++),t=0;for(i in o)Di.call(o,i)&&(t++,s=o[i],l=a[i],i in a?(r=l!==l&&s!==s,r||l===s||(h++,a[i]=s)):(g++,a[i]=s,h++));if(g>t){h++;for(i in a)Di.call(o,i)||(g--,delete a[i])}}else a!==o&&(a=o,h++);return h}}function r(){if(m?(m=!1,t(o,o,l)):t(o,s,l),c)if(b(o))if(n(o)){s=new Array(o.length);for(var e=0;e<o.length;e++)s[e]=o[e]}else{s={};for(var i in o)Di.call(o,i)&&(s[i]=o[i])}else s=o}i.$stateful=!0;var o,a,s,l=this,c=t.length>1,h=0,d=u(e,i),f=[],p={},m=!0,g=0;return this.$watch(d,r)},$digest:function(){var e,n,i,a,u,h,d,f,p,v,y,b,w=r,C=this,M=[];m("$digest"),c.$$checkUrlChange(),this===_&&null!==l&&(c.defer.cancel(l),$()),s=null;do{for(f=!1,v=C;k.length;){try{b=k.shift(),b.scope.$eval(b.expression,b.locals)}catch(D){t(D)}s=null}e:do{if(h=v.$$watchers)for(d=h.length;d--;)try{if(e=h[d])if(u=e.get,(n=u(v))===(i=e.last)||(e.eq?j(n,i):"number"==typeof n&&"number"==typeof i&&isNaN(n)&&isNaN(i))){if(e===s){f=!1;break e}}else f=!0,s=e,e.last=e.eq?F(n,null):n,a=e.fn,a(n,i===x?n:i,v),5>w&&(y=4-w,M[y]||(M[y]=[]),M[y].push({msg:T(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:n,oldVal:i}))}catch(D){t(D)}if(!(p=v.$$watchersCount&&v.$$childHead||v!==C&&v.$$nextSibling))for(;v!==C&&!(p=v.$$nextSibling);)v=v.$parent}while(v=p);if((f||k.length)&&!w--)throw g(),o("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",r,M)}while(f||k.length);for(g();S.length;)try{S.shift()()}catch(D){t(D)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===_&&c.$$applicationDestroyed(),y(this,-this.$$watchersCount);for(var t in this.$$listenerCount)w(this,this.$$listenerCount[t],t);e&&e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=f,this.$on=this.$watch=this.$watchGroup=function(){return f},this.$$listeners={},this.$$nextSibling=null,d(this)}},$eval:function(e,t){return u(e)(this,t)},$evalAsync:function(e,t){_.$$phase||k.length||c.defer(function(){k.length&&_.$digest()}),k.push({scope:this,expression:u(e),locals:t})},$$postDigest:function(e){S.push(e)},$apply:function(e){try{m("$apply");try{return this.$eval(e)}finally{g()}}catch(n){t(n)}finally{try{_.$digest()}catch(n){throw t(n),n}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&M.push(t),e=u(e),C()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var i=this;do i.$$listenerCount[e]||(i.$$listenerCount[e]=0),i.$$listenerCount[e]++;while(i=i.$parent);var r=this;return function(){var i=n.indexOf(t);-1!==i&&(n[i]=null,w(r,1,e))}},$emit:function(e,n){var i,r,o,a=[],s=this,l=!1,u={name:e,targetScope:s,stopPropagation:function(){l=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},c=V([u],arguments,1);do{for(i=s.$$listeners[e]||a,u.currentScope=s,r=0,o=i.length;o>r;r++)if(i[r])try{i[r].apply(null,c)}catch(h){t(h)}else i.splice(r,1),r--,o--;if(l)return u.currentScope=null,u;s=s.$parent}while(s);return u.currentScope=null,u},$broadcast:function(e,n){var i=this,r=i,o=i,a={name:e,targetScope:i,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1};if(!i.$$listenerCount[e])return a;for(var s,l,u,c=V([a],arguments,1);r=o;){for(a.currentScope=r,s=r.$$listeners[e]||[],l=0,u=s.length;u>l;l++)if(s[l])try{s[l].apply(null,c)}catch(h){t(h)}else s.splice(l,1),l--,u--;if(!(o=r.$$listenerCount[e]&&r.$$childHead||r!==i&&r.$$nextSibling))for(;r!==i&&!(o=r.$$nextSibling);)r=r.$parent}return a.currentScope=null,a}};var _=new p,k=_.$$asyncQueue=[],S=_.$$postDigestQueue=[],M=_.$$applyAsyncQueue=[];return _}]}function Cn(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return y(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return y(e)?(t=e,this):t},this.$get=function(){return function(n,i){var r,o=i?t:e;return r=Pn(n).href,""===r||r.match(o)?n:"unsafe:"+r}}}function Tn(e){if("self"===e)return e;if(x(e)){if(e.indexOf("***")>-1)throw yo("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=Ki(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(_(e))return new RegExp("^"+e.source+"$");throw yo("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function _n(e){var t=[];return y(e)&&i(e,function(e){t.push(Tn(e))}),t}function kn(){this.SCE_CONTEXTS=bo;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=_n(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=_n(e)),t},this.$get=["$injector",function(n){function i(e,t){return"self"===e?An(t):!!e.exec(t.href)}function r(n){var r,o,a=Pn(n.toString()),s=!1;for(r=0,o=e.length;o>r;r++)if(i(e[r],a)){s=!0;break}if(s)for(r=0,o=t.length;o>r;r++)if(i(t[r],a)){s=!1;break}return s}function o(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function a(e,t){var n=h.hasOwnProperty(e)?h[e]:null;if(!n)throw yo("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||v(t)||""===t)return t;if("string"!=typeof t)throw yo("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)}function s(e){return e instanceof c?e.$$unwrapTrustedValue():e}function l(e,t){if(null===t||v(t)||""===t)return t;var n=h.hasOwnProperty(e)?h[e]:null;if(n&&t instanceof n)return t.$$unwrapTrustedValue();if(e===bo.RESOURCE_URL){if(r(t))return t;throw yo("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===bo.HTML)return u(t);throw yo("unsafe","Attempting to use an unsafe value in a safe context.")}var u=function(e){throw yo("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(u=n.get("$sanitize"));var c=o(),h={};return h[bo.HTML]=o(c),h[bo.CSS]=o(c),h[bo.URL]=o(c),h[bo.JS]=o(c),h[bo.RESOURCE_URL]=o(h[bo.URL]),{trustAs:a,getTrusted:l,valueOf:s}}]}function Sn(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&8>Oi)throw yo("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=L(bo);r.isEnabled=function(){return e},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,e||(r.trustAs=r.getTrusted=function(e,t){return t},r.valueOf=p),r.parseAs=function(e,n){var i=t(n);return i.literal&&i.constant?i:t(n,function(t){return r.getTrusted(e,t)})};var o=r.parseAs,a=r.getTrusted,s=r.trustAs;return i(bo,function(e,t){var n=Ii(t);r[xe("parse_as_"+n)]=function(t){return o(e,t)},r[xe("get_trusted_"+n)]=function(t){return a(e,t)},r[xe("trust_as_"+n)]=function(t){return s(e,t)}}),r}]}function Mn(){this.$get=["$window","$document",function(e,t){var n,i,r={},o=e.chrome&&e.chrome.app&&e.chrome.app.runtime,a=!o&&e.history&&e.history.pushState,s=h((/android (\d+)/.exec(Ii((e.navigator||{}).userAgent))||[])[1]),l=/Boxee/i.test((e.navigator||{}).userAgent),u=t[0]||{},c=/^(Moz|webkit|ms)(?=[A-Z])/,d=u.body&&u.body.style,f=!1,p=!1;if(d){for(var m in d)if(i=c.exec(m)){n=i[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in d&&"webkit"),f=!!("transition"in d||n+"Transition"in d),p=!!("animation"in d||n+"Animation"in d),!s||f&&p||(f=x(d.webkitTransition),p=x(d.webkitAnimation))}return{history:!(!a||4>s||l),hasEvent:function(e){if("input"===e&&11>=Oi)return!1;if(v(r[e])){var t=u.createElement("div");r[e]="on"+e in t}return r[e]},csp:Gi(),vendorPrefix:n,transitions:f,animations:p,android:s}}]}function Dn(){var e;this.httpOptions=function(t){return t?(e=t,this):e},this.$get=["$templateCache","$http","$q","$sce",function(t,n,i,r){function o(a,s){function l(e){if(!s)throw wo("tpload","Failed to load template: {0} (HTTP status: {1} {2})",a,e.status,e.statusText);return i.reject(e)}o.totalPendingRequests++,x(a)&&t.get(a)||(a=r.getTrustedResourceUrl(a));var c=n.defaults&&n.defaults.transformResponse;return Ui(c)?c=c.filter(function(e){return e!==_t}):c===_t&&(c=null),n.get(a,u({cache:t,transformResponse:c},e))["finally"](function(){o.totalPendingRequests--}).then(function(e){return t.put(a,e.data),e.data},l)}return o.totalPendingRequests=0,o}]}function In(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var r={};return r.findBindings=function(e,t,n){var r=e.getElementsByClassName("ng-binding"),o=[];return i(r,function(e){var r=qi.element(e).data("$binding");r&&i(r,function(i){if(n){var r=new RegExp("(^|\\s)"+Ki(t)+"(\\s|\\||$)");r.test(i)&&o.push(e)}else-1!=i.indexOf(t)&&o.push(e)})}),o},r.findModels=function(e,t,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var o=n?"=":"*=",a="["+i[r]+"model"+o+'"'+t+'"]',s=e.querySelectorAll(a);if(s.length)return s}},r.getLocation=function(){return n.url()},r.setLocation=function(t){t!==n.url()&&(n.url(t),e.$digest())},r.whenStable=function(e){t.notifyWhenNoOutstandingRequests(e)},r}]}function En(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,i,r){function o(o,s,l){T(o)||(l=s,s=o,o=f);var u,c=W(arguments,3),h=y(l)&&!l,d=(h?i:n).defer(),p=d.promise;return u=t.defer(function(){try{d.resolve(o.apply(null,c))}catch(t){d.reject(t),r(t)}finally{delete a[p.$$timeoutId]}h||e.$apply()},s),p.$$timeoutId=u,a[u]=d,p}var a={};return o.cancel=function(e){return e&&e.$$timeoutId in a?(a[e.$$timeoutId].reject("canceled"),delete a[e.$$timeoutId],t.defer.cancel(e.$$timeoutId)):!1},o}]}function Pn(e){var t=e;return Oi&&(xo.setAttribute("href",t),t=xo.href),xo.setAttribute("href",t),{href:xo.href,protocol:xo.protocol?xo.protocol.replace(/:$/,""):"",host:xo.host,search:xo.search?xo.search.replace(/^\?/,""):"",hash:xo.hash?xo.hash.replace(/^#/,""):"",hostname:xo.hostname,port:xo.port,pathname:"/"===xo.pathname.charAt(0)?xo.pathname:"/"+xo.pathname}}function An(e){var t=x(e)?Pn(e):e;return t.protocol===$o.protocol&&t.host===$o.host}function On(){this.$get=m(e)}function Nn(e){function t(e){try{return decodeURIComponent(e)}catch(t){return e}}var n=e[0]||{},i={},r="";return function(){var e,o,a,s,l,u=n.cookie||"";if(u!==r)for(r=u,e=r.split("; "),i={},a=0;a<e.length;a++)o=e[a],s=o.indexOf("="),s>0&&(l=t(o.substring(0,s)),v(i[l])&&(i[l]=t(o.substring(s+1))));return i}}function Rn(){this.$get=Nn}function Hn(e){function t(r,o){if(b(r)){var a={};return i(r,function(e,n){a[n]=t(n,e)}),a}return e.factory(r+n,o)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",Vn),t("date",ii),t("filter",zn),t("json",ri),t("limitTo",oi),t("lowercase",Do),t("number",Wn),t("orderBy",ai),t("uppercase",Io)}function zn(){return function(e,i,r){if(!n(e)){if(null==e)return e;throw t("filter")("notarray","Expected array but received: {0}",e)}var o,a,s=jn(i);switch(s){case"function":o=i;break;case"boolean":case"null":case"number":case"string":a=!0;case"object":o=Fn(i,r,a);break;default:return e}return Array.prototype.filter.call(e,o)}}function Fn(e,t,n){var i,r=b(e)&&"$"in e;return t===!0?t=j:T(t)||(t=function(e,t){return v(e)?!1:null===e||null===t?e===t:b(t)||b(e)&&!g(e)?!1:(e=Ii(""+e),t=Ii(""+t),-1!==e.indexOf(t))}),i=function(i){return r&&!b(i)?Ln(i,e.$,t,!1):Ln(i,e,t,n)}}function Ln(e,t,n,i,r){var o=jn(e),a=jn(t);if("string"===a&&"!"===t.charAt(0))return!Ln(e,t.substring(1),n,i);if(Ui(e))return e.some(function(e){return Ln(e,t,n,i)});switch(o){case"object":var s;if(i){for(s in e)if("$"!==s.charAt(0)&&Ln(e[s],t,n,!0))return!0;return r?!1:Ln(e,t,n,!1)}if("object"===a){for(s in t){var l=t[s];if(!T(l)&&!v(l)){var u="$"===s,c=u?e:e[s];if(!Ln(c,l,n,u,u))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function jn(e){return null===e?"null":typeof e}function Vn(e){var t=e.NUMBER_FORMATS;return function(e,n,i){return v(n)&&(n=t.CURRENCY_SYM),v(i)&&(i=t.PATTERNS[1].maxFrac),null==e?e:Un(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,i).replace(/\u00A4/g,n)}}function Wn(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:Un(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function qn(e){var t,n,i,r,o,a=0;for((n=e.indexOf(To))>-1&&(e=e.replace(To,"")),(i=e.search(/e/i))>0?(0>n&&(n=i),n+=+e.slice(i+1),e=e.substring(0,i)):0>n&&(n=e.length),i=0;e.charAt(i)==_o;i++);if(i==(o=e.length))t=[0],n=1;else{for(o--;e.charAt(o)==_o;)o--;for(n-=i,t=[],r=0;o>=i;i++,r++)t[r]=+e.charAt(i)}return n>Co&&(t=t.splice(0,Co-1),a=n-1,n=1),{d:t,e:a,i:n}}function Bn(e,t,n,i){var r=e.d,o=r.length-e.i;t=v(t)?Math.min(Math.max(n,o),i):+t;var a=t+e.i,s=r[a];if(a>0){r.splice(Math.max(e.i,a));for(var l=a;l<r.length;l++)r[l]=0}else{o=Math.max(0,o),e.i=1,r.length=Math.max(1,a=t+1),r[0]=0;for(var u=1;a>u;u++)r[u]=0}if(s>=5)if(0>a-1){for(var c=0;c>a;c--)r.unshift(0),e.i++;r.unshift(1),e.i++}else r[a-1]++;for(;o<Math.max(0,t);o++)r.push(0);var h=r.reduceRight(function(e,t,n,i){return t+=e,i[n]=t%10,Math.floor(t/10)},0);h&&(r.unshift(h),e.i++)}function Un(e,t,n,i,r){if(!x(e)&&!$(e)||isNaN(e))return"";var o,a=!isFinite(e),s=!1,l=Math.abs(e)+"",u="";if(a)u="";else{o=qn(l),Bn(o,r,t.minFrac,t.maxFrac);var c=o.d,h=o.i,d=o.e,f=[];for(s=c.reduce(function(e,t){return e&&!t},!0);0>h;)c.unshift(0),h++;h>0?f=c.splice(h):(f=c,c=[0]);var p=[];for(c.length>=t.lgSize&&p.unshift(c.splice(-t.lgSize).join(""));c.length>t.gSize;)p.unshift(c.splice(-t.gSize).join(""));c.length&&p.unshift(c.join("")),u=p.join(n),f.length&&(u+=i+f.join("")),d&&(u+="e+"+d)}return 0>e&&!s?t.negPre+u+t.negSuf:t.posPre+u+t.posSuf}function Yn(e,t,n,i){var r="";for((0>e||i&&0>=e)&&(i?e=-e+1:(e=-e,r="-")),e=""+e;e.length<t;)e=_o+e;return n&&(e=e.substr(e.length-t)),r+e}function Xn(e,t,n,i,r){return n=n||0,function(o){var a=o["get"+e]();return(n>0||a>-n)&&(a+=n),0===a&&-12==n&&(a=12),Yn(a,t,i,r)}}function Kn(e,t,n){return function(i,r){var o=i["get"+e](),a=(n?"STANDALONE":"")+(t?"SHORT":""),s=Ei(a+e);return r[s][o]}}function Gn(e,t,n){var i=-1*n,r=i>=0?"+":"";return r+=Yn(Math[i>0?"floor":"ceil"](i/60),2)+Yn(Math.abs(i%60),2)}function Jn(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(4>=t?5:12)-t)}function Qn(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function Zn(e){return function(t){var n=Jn(t.getFullYear()),i=Qn(t),r=+i-+n,o=1+Math.round(r/6048e5);return Yn(o,e)}}function ei(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function ti(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}function ni(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}function ii(e){function t(e){var t;if(t=e.match(n)){var i=new Date(0),r=0,o=0,a=t[8]?i.setUTCFullYear:i.setFullYear,s=t[8]?i.setUTCHours:i.setHours;t[9]&&(r=h(t[9]+t[10]),o=h(t[9]+t[11])),a.call(i,h(t[1]),h(t[2])-1,h(t[3]));var l=h(t[4]||0)-r,u=h(t[5]||0)-o,c=h(t[6]||0),d=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(i,l,u,c,d),i}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,o){var a,s,l="",u=[];if(r=r||"mediumDate",r=e.DATETIME_FORMATS[r]||r,x(n)&&(n=Mo.test(n)?h(n):t(n)),$(n)&&(n=new Date(n)),!C(n)||!isFinite(n.getTime()))return n;for(;r;)s=So.exec(r),s?(u=V(u,s,1),r=u.pop()):(u.push(r),r=null);var c=n.getTimezoneOffset();return o&&(c=X(o,c),n=G(n,o,!0)),i(u,function(t){a=ko[t],l+=a?a(n,e.DATETIME_FORMATS,c):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function ri(){return function(e,t){return v(t)&&(t=2),U(e,t)}}function oi(){return function(e,t,n){return t=Math.abs(Number(t))===1/0?Number(t):h(t),isNaN(t)?e:($(e)&&(e=e.toString()),Ui(e)||x(e)?(n=!n||isNaN(n)?0:h(n),n=0>n?Math.max(0,e.length+n):n,t>=0?e.slice(n,n+t):0===n?e.slice(t,e.length):e.slice(Math.max(0,n+t),n)):e)}}function ai(e){function i(t,n){return n=n?-1:1,t.map(function(t){var i=1,r=p;if(T(t))r=t;else if(x(t)&&("+"!=t.charAt(0)&&"-"!=t.charAt(0)||(i="-"==t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(r=e(t),r.constant))){var o=r();r=function(e){return e[o]}}return{get:r,descending:i*n}})}function r(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function o(e,t){return"function"==typeof e.valueOf&&(e=e.valueOf(),r(e))?e:g(e)&&(e=e.toString(),r(e))?e:t}function a(e,t){var n=typeof e;return null===e?(n="string",e="null"):"string"===n?e=e.toLowerCase():"object"===n&&(e=o(e,t)),{value:e,type:n}}function s(e,t){var n=0;return e.type===t.type?e.value!==t.value&&(n=e.value<t.value?-1:1):n=e.type<t.type?-1:1,n}return function(e,r,o){function l(e,t){return{value:e,predicateValues:c.map(function(n){return a(n.get(e),t)})}}function u(e,t){for(var n=0,i=0,r=c.length;r>i&&!(n=s(e.predicateValues[i],t.predicateValues[i])*c[i].descending);++i);return n}if(null==e)return e;if(!n(e))throw t("orderBy")("notarray","Expected array but received: {0}",e);Ui(r)||(r=[r]),0===r.length&&(r=["+"]);var c=i(r,o);c.push({get:function(){return{}},descending:o?-1:1});var h=Array.prototype.map.call(e,l);return h.sort(u),e=h.map(function(e){return e.value})}}function si(e){return T(e)&&(e={link:e}),e.restrict=e.restrict||"AC",m(e)}function li(e,t){e.$name=t}function ui(e,t,n,r,o){var a=this,s=[];a.$error={},a.$$success={},a.$pending=void 0,a.$name=o(t.name||t.ngForm||"")(n),a.$dirty=!1,a.$pristine=!0,a.$valid=!0,a.$invalid=!1,a.$submitted=!1,a.$$parentForm=Ao,a.$rollbackViewValue=function(){i(s,function(e){e.$rollbackViewValue()})},a.$commitViewValue=function(){i(s,function(e){e.$commitViewValue()})},a.$addControl=function(e){de(e.$name,"input"),s.push(e),e.$name&&(a[e.$name]=e),e.$$parentForm=a},a.$$renameControl=function(e,t){var n=e.$name;a[n]===e&&delete a[n],a[t]=e,e.$name=t},a.$removeControl=function(e){e.$name&&a[e.$name]===e&&delete a[e.$name],i(a.$pending,function(t,n){a.$setValidity(n,null,e)}),i(a.$error,function(t,n){a.$setValidity(n,null,e)}),i(a.$$success,function(t,n){a.$setValidity(n,null,e)}),z(s,e),e.$$parentForm=Ao},Ti({ctrl:this,$element:e,set:function(e,t,n){var i=e[t];if(i){var r=i.indexOf(n);-1===r&&i.push(n)}else e[t]=[n]},unset:function(e,t,n){var i=e[t];i&&(z(i,n),0===i.length&&delete e[t])},$animate:r}),a.$setDirty=function(){r.removeClass(e,va),r.addClass(e,ya),a.$dirty=!0,a.$pristine=!1,a.$$parentForm.$setDirty()},a.$setPristine=function(){r.setClass(e,va,ya+" "+Oo),a.$dirty=!1,a.$pristine=!0,a.$submitted=!1,i(s,function(e){e.$setPristine()})},a.$setUntouched=function(){i(s,function(e){e.$setUntouched()})},a.$setSubmitted=function(){r.addClass(e,Oo),a.$submitted=!0,a.$$parentForm.$setSubmitted()}}function ci(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function hi(e,t,n,i,r,o){di(e,t,n,i,r,o),ci(i)}function di(e,t,n,i,r,o){var a=Ii(t[0].type);if(!r.android){var s=!1;t.on("compositionstart",function(){s=!0}),t.on("compositionend",function(){s=!1,u()})}var l,u=function(e){if(l&&(o.defer.cancel(l),l=null),!s){var r=t.val(),u=e&&e.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(r=Xi(r)),(i.$viewValue!==r||""===r&&i.$$hasNativeValidators)&&i.$setViewValue(r,u)}};if(r.hasEvent("input"))t.on("input",u);else{var c=function(e,t,n){l||(l=o.defer(function(){l=null,t&&t.value===n||u(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||t>15&&19>t||t>=37&&40>=t||c(e,this,this.value)}),r.hasEvent("paste")&&t.on("paste cut",c)}t.on("change",u),Xo[a]&&i.$$hasNativeValidators&&a===n.type&&t.on(Yo,function(e){if(!l){var t=this[Mi],n=t.badInput,i=t.typeMismatch;l=o.defer(function(){l=null,t.badInput===n&&t.typeMismatch===i||u(e)})}}),i.$render=function(){var e=i.$isEmpty(i.$viewValue)?"":i.$viewValue;t.val()!==e&&t.val(e)}}function fi(e,t){if(C(e))return e;if(x(e)){qo.lastIndex=0;var n=qo.exec(e);if(n){var i=+n[1],r=+n[2],o=0,a=0,s=0,l=0,u=Jn(i),c=7*(r-1);return t&&(o=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),l=t.getMilliseconds()),new Date(i,0,u.getDate()+c,o,a,s,l)}}return NaN}function pi(e,t){return function(n,r){var o,a;if(C(n))return n;if(x(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),zo.test(n))return new Date(n);if(e.lastIndex=0,o=e.exec(n))return o.shift(),a=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},i(o,function(e,n){n<t.length&&(a[t[n]]=+e)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return NaN}}function mi(e,t,n,i){return function(r,o,a,s,l,u,c){function h(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function d(e){return y(e)&&!C(e)?n(e)||void 0:e}gi(r,o,a,s),di(r,o,a,s,l,u);var f,p=s&&s.$options&&s.$options.timezone;if(s.$$parserName=e,s.$parsers.push(function(e){if(s.$isEmpty(e))return null;if(t.test(e)){var i=n(e,f);return p&&(i=G(i,p)),i}}),s.$formatters.push(function(e){if(e&&!C(e))throw Ta("datefmt","Expected `{0}` to be a date",e);return h(e)?(f=e,f&&p&&(f=G(f,p,!0)),c("date")(e,i,p)):(f=null,"")}),y(a.min)||a.ngMin){var m;s.$validators.min=function(e){return!h(e)||v(m)||n(e)>=m},a.$observe("min",function(e){m=d(e),s.$validate()})}if(y(a.max)||a.ngMax){var g;s.$validators.max=function(e){return!h(e)||v(g)||n(e)<=g},a.$observe("max",function(e){g=d(e),s.$validate()})}}}function gi(e,t,n,i){var r=t[0],o=i.$$hasNativeValidators=b(r.validity);o&&i.$parsers.push(function(e){var n=t.prop(Mi)||{};return n.badInput||n.typeMismatch?void 0:e})}function vi(e,t,n,i,r,o){if(gi(e,t,n,i),di(e,t,n,i,r,o),i.$$parserName="number",i.$parsers.push(function(e){return i.$isEmpty(e)?null:jo.test(e)?parseFloat(e):void 0}),i.$formatters.push(function(e){if(!i.$isEmpty(e)){if(!$(e))throw Ta("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e}),y(n.min)||n.ngMin){var a;i.$validators.min=function(e){return i.$isEmpty(e)||v(a)||e>=a},n.$observe("min",function(e){y(e)&&!$(e)&&(e=parseFloat(e,10)),a=$(e)&&!isNaN(e)?e:void 0,i.$validate()})}if(y(n.max)||n.ngMax){var s;i.$validators.max=function(e){return i.$isEmpty(e)||v(s)||s>=e},n.$observe("max",function(e){y(e)&&!$(e)&&(e=parseFloat(e,10)),s=$(e)&&!isNaN(e)?e:void 0,i.$validate()})}}function yi(e,t,n,i,r,o){di(e,t,n,i,r,o),ci(i),i.$$parserName="url",i.$validators.url=function(e,t){var n=e||t;return i.$isEmpty(n)||Fo.test(n)}}function bi(e,t,n,i,r,o){di(e,t,n,i,r,o),ci(i),i.$$parserName="email",i.$validators.email=function(e,t){var n=e||t;return i.$isEmpty(n)||Lo.test(n)}}function wi(e,t,n,i){v(n.name)&&t.attr("name",a());var r=function(e){t[0].checked&&i.$setViewValue(n.value,e&&e.type)};t.on("click",r),i.$render=function(){var e=n.value;t[0].checked=e==i.$viewValue},n.$observe("value",i.$render)}function xi(e,t,n,i,r){var o;if(y(i)){if(o=e(i),!o.constant)throw Ta("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return o(t)}return r}function $i(e,t,n,i,r,o,a,s){var l=xi(s,e,"ngTrueValue",n.ngTrueValue,!0),u=xi(s,e,"ngFalseValue",n.ngFalseValue,!1),c=function(e){i.$setViewValue(t[0].checked,e&&e.type)};t.on("click",c),i.$render=function(){t[0].checked=i.$viewValue},i.$isEmpty=function(e){return e===!1},i.$formatters.push(function(e){return j(e,l)}),i.$parsers.push(function(e){return e?l:u})}function Ci(e,t){return e="ngClass"+e,["$animate",function(n){function r(e,t){var n=[];e:for(var i=0;i<e.length;i++){for(var r=e[i],o=0;o<t.length;o++)if(r==t[o])continue e;n.push(r)}return n}function o(e){var t=[];return Ui(e)?(i(e,function(e){t=t.concat(o(e))}),t):x(e)?e.split(" "):b(e)?(i(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t):e}return{restrict:"AC",link:function(a,s,l){function u(e){var t=h(e,1);l.$addClass(t)}function c(e){var t=h(e,-1);l.$removeClass(t)}function h(e,t){var n=s.data("$classCounts")||me(),r=[];return i(e,function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&r.push(e))}),s.data("$classCounts",n),r.join(" ")}function d(e,t){var i=r(t,e),o=r(e,t);i=h(i,1),o=h(o,-1),i&&i.length&&n.addClass(s,i),o&&o.length&&n.removeClass(s,o)}function f(e){if(t===!0||a.$index%2===t){var n=o(e||[]);if(p){if(!j(e,p)){var i=o(p);d(i,n)}}else u(n)}p=Ui(e)?e.map(function(e){return L(e)}):L(e)}var p;a.$watch(l[e],f,!0),l.$observe("class",function(t){f(a.$eval(l[e]))}),"ngClass"!==e&&a.$watch("$index",function(n,i){var r=1&n;if(r!==(1&i)){var s=o(a.$eval(l[e]));r===t?u(s):c(s)}})}}}]}function Ti(e){function t(e,t,s){v(t)?n("$pending",e,s):i("$pending",e,s),E(t)?t?(c(a.$error,e,s),u(a.$$success,e,s)):(u(a.$error,e,s),c(a.$$success,e,s)):(c(a.$error,e,s),c(a.$$success,e,s)),a.$pending?(r(xa,!0),a.$valid=a.$invalid=void 0,o("",null)):(r(xa,!1),a.$valid=_i(a.$error),a.$invalid=!a.$valid,o("",a.$valid));var l;l=a.$pending&&a.$pending[e]?void 0:a.$error[e]?!1:a.$$success[e]?!0:null,o(e,l),a.$$parentForm.$setValidity(e,l,a)}function n(e,t,n){a[e]||(a[e]={}),u(a[e],t,n)}function i(e,t,n){a[e]&&c(a[e],t,n),_i(a[e])&&(a[e]=void 0)}function r(e,t){t&&!l[e]?(h.addClass(s,e),l[e]=!0):!t&&l[e]&&(h.removeClass(s,e),l[e]=!1)}function o(e,t){e=e?"-"+le(e,"-"):"",r(ma+e,t===!0),r(ga+e,t===!1)}var a=e.ctrl,s=e.$element,l={},u=e.set,c=e.unset,h=e.$animate;l[ga]=!(l[ma]=s.hasClass(ma)),a.$setValidity=t}function _i(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function ki(e){e[0].hasAttribute("selected")&&(e[0].selected=!0)}var Si=/^\/(.+)\/([a-z]*)$/,Mi="validity",Di=Object.prototype.hasOwnProperty,Ii=function(e){return x(e)?e.toLowerCase():e},Ei=function(e){return x(e)?e.toUpperCase():e},Pi=function(e){return x(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},Ai=function(e){return x(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(-33&e.charCodeAt(0))}):e};"i"!=="I".toLowerCase()&&(Ii=Pi,Ei=Ai);var Oi,Ni,Ri,Hi,zi=[].slice,Fi=[].splice,Li=[].push,ji=Object.prototype.toString,Vi=Object.getPrototypeOf,Wi=t("ng"),qi=e.angular||(e.angular={}),Bi=0;Oi=e.document.documentMode,f.$inject=[],p.$inject=[];var Ui=Array.isArray,Yi=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,Xi=function(e){return x(e)?e.trim():e},Ki=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Gi=function(){function t(){try{return new Function(""),!1}catch(e){return!0}}if(!y(Gi.rules)){var n=e.document.querySelector("[ng-csp]")||e.document.querySelector("[data-ng-csp]");if(n){var i=n.getAttribute("ng-csp")||n.getAttribute("data-ng-csp");Gi.rules={noUnsafeEval:!i||-1!==i.indexOf("no-unsafe-eval"),noInlineStyle:!i||-1!==i.indexOf("no-inline-style")}}else Gi.rules={noUnsafeEval:t(),noInlineStyle:!1}}return Gi.rules},Ji=function(){if(y(Ji.name_))return Ji.name_;var t,n,i,r,o=Zi.length;for(n=0;o>n;++n)if(i=Zi[n],t=e.document.querySelector("["+i.replace(":","\\:")+"jq]")){r=t.getAttribute(i+"jq");break}return Ji.name_=r},Qi=/:/g,Zi=["ng-","data-ng-","ng:","x-ng-"],er=/[A-Z]/g,tr=!1,nr=1,ir=2,rr=3,or=8,ar=9,sr=11,lr={full:"1.5.5",major:1,minor:5,dot:5,codeName:"material-conspiration"};De.expando="ng339";var ur=De.cache={},cr=1,hr=function(e,t,n){e.addEventListener(t,n,!1)},dr=function(e,t,n){e.removeEventListener(t,n,!1)};De._data=function(e){return this.cache[e[this.expando]]||{}};var fr=/([\:\-\_]+(.))/g,pr=/^moz([A-Z])/,mr={mouseleave:"mouseout",mouseenter:"mouseover"},gr=t("jqLite"),vr=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,yr=/<|&#?\w+;/,br=/<([\w:-]+)/,wr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,xr={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};xr.optgroup=xr.option,xr.tbody=xr.tfoot=xr.colgroup=xr.caption=xr.thead,xr.th=xr.td;var $r=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))},Cr=De.prototype={ready:function(t){function n(){i||(i=!0,t())}var i=!1;"complete"===e.document.readyState?e.setTimeout(n):(this.on("DOMContentLoaded",n),De(e).on("load",n))},toString:function(){var e=[];return i(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return Ni(e>=0?this[e]:this[this.length+e])},length:0,push:Li,sort:[].sort,splice:[].splice},Tr={};i("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){Tr[Ii(e)]=e});var _r={};i("input,select,option,textarea,button,form,details".split(","),function(e){_r[e]=!0});var kr={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};i({data:Ne,removeData:Ae,hasData:Te,cleanData:_e},function(e,t){De[t]=e}),i({data:Ne,inheritedData:je,scope:function(e){return Ni.data(e,"$scope")||je(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return Ni.data(e,"$isolateScope")||Ni.data(e,"$isolateScopeNoTemplate")},controller:Le,injector:function(e){return je(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:Re,css:function(e,t,n){return t=xe(t),y(n)?void(e.style[t]=n):e.style[t]},attr:function(e,t,n){var i=e.nodeType;if(i!==rr&&i!==ir&&i!==or){var r=Ii(t);if(Tr[r]){if(!y(n))return e[t]||(e.attributes.getNamedItem(t)||f).specified?r:void 0;n?(e[t]=!0,e.setAttribute(t,r)):(e[t]=!1,e.removeAttribute(r))}else if(y(n))e.setAttribute(t,n);else if(e.getAttribute){var o=e.getAttribute(t,2);return null===o?void 0:o}}},prop:function(e,t,n){return y(n)?void(e[t]=n):e[t]},text:function(){function e(e,t){if(v(t)){var n=e.nodeType;return n===nr||n===rr?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(v(t)){if(e.multiple&&"select"===H(e)){var n=[];return i(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){return v(t)?e.innerHTML:(Ee(e,!0),void(e.innerHTML=t))},empty:Ve},function(e,t){De.prototype[t]=function(t,n){var i,r,o=this.length;if(e!==Ve&&v(2==e.length&&e!==Re&&e!==Le?t:n)){if(b(t)){for(i=0;o>i;i++)if(e===Ne)e(this[i],t);else for(r in t)e(this[i],r,t[r]);return this}for(var a=e.$dv,s=v(a)?Math.min(o,1):o,l=0;s>l;l++){var u=e(this[l],t,n);a=a?a+u:u}return a}for(i=0;o>i;i++)e(this[i],t,n);return this}}),i({removeData:Ae,on:function(e,t,n,i){if(y(i))throw gr("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(Ce(e)){var r=Oe(e,!0),o=r.events,a=r.handle;a||(a=r.handle=Ye(e,o));for(var s=t.indexOf(" ")>=0?t.split(" "):[t],l=s.length,u=function(t,i,r){var s=o[t];s||(s=o[t]=[],s.specialHandlerWrapper=i,"$destroy"===t||r||hr(e,t,a)),s.push(n)};l--;)t=s[l],mr[t]?(u(mr[t],Ke),u(t,void 0,!0)):u(t)}},off:Pe,one:function(e,t,n){e=Ni(e),e.on(t,function i(){e.off(t,n),e.off(t,i)}),e.on(t,n)},replaceWith:function(e,t){var n,r=e.parentNode;Ee(e),i(new De(t),function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e),n=t})},children:function(e){var t=[];return i(e.childNodes,function(e){e.nodeType===nr&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===nr||n===sr){t=new De(t);for(var i=0,r=t.length;r>i;i++){var o=t[i];e.appendChild(o)}}},prepend:function(e,t){if(e.nodeType===nr){var n=e.firstChild;
i(new De(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){Me(e,Ni(t).eq(0).clone()[0])},remove:We,detach:function(e){We(e,!0)},after:function(e,t){var n=e,i=e.parentNode;t=new De(t);for(var r=0,o=t.length;o>r;r++){var a=t[r];i.insertBefore(a,n.nextSibling),n=a}},addClass:ze,removeClass:He,toggleClass:function(e,t,n){t&&i(t.split(" "),function(t){var i=n;v(i)&&(i=!Re(e,t)),(i?ze:He)(e,t)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==sr?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:Ie,triggerHandler:function(e,t,n){var r,o,a,s=t.type||t,l=Oe(e),c=l&&l.events,h=c&&c[s];h&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:f,type:s,target:e},t.type&&(r=u(r,t)),o=L(h),a=n?[r].concat(n):[r],i(o,function(t){r.isImmediatePropagationStopped()||t.apply(e,a)}))}},function(e,t){De.prototype[t]=function(t,n,i){for(var r,o=0,a=this.length;a>o;o++)v(r)?(r=e(this[o],t,n,i),y(r)&&(r=Ni(r))):Fe(r,e(this[o],t,n,i));return y(r)?r:this},De.prototype.bind=De.prototype.on,De.prototype.unbind=De.prototype.off}),Qe.prototype={put:function(e,t){this[Je(e,this.nextUid)]=t},get:function(e){return this[Je(e,this.nextUid)]},remove:function(e){var t=this[e=Je(e,this.nextUid)];return delete this[e],t}};var Sr=[function(){this.$get=[function(){return Qe}]}],Mr=/^([^\(]+?)=>/,Dr=/^[^\(]*\(\s*([^\)]*)\)/m,Ir=/,/,Er=/^\s*(_?)(\S+?)\1\s*$/,Pr=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Ar=t("$injector");nt.$$annotate=tt;var Or=t("$animate"),Nr=1,Rr="ng-animate",Hr=function(){this.$get=f},zr=function(){var e=new Qe,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){function o(e,t,n){var r=!1;return t&&(t=x(t)?t.split(" "):Ui(t)?t:[],i(t,function(t){t&&(r=!0,e[t]=n)})),r}function a(){i(t,function(t){var n=e.get(t);if(n){var r=at(t.attr("class")),o="",a="";i(n,function(e,t){var n=!!r[t];e!==n&&(e?o+=(o.length?" ":"")+t:a+=(a.length?" ":"")+t)}),i(t,function(e){o&&ze(e,o),a&&He(e,a)}),e.remove(t)}}),t.length=0}function s(n,i,s){var l=e.get(n)||{},u=o(l,i,!0),c=o(l,s,!1);(u||c)&&(e.put(n,l),t.push(n),1===t.length&&r.$$postDigest(a))}return{enabled:f,on:f,off:f,pin:f,push:function(e,t,i,r){r&&r(),i=i||{},i.from&&e.css(i.from),i.to&&e.css(i.to),(i.addClass||i.removeClass)&&s(e,i.addClass,i.removeClass);var o=new n;return o.complete(),o}}}]},Fr=["$provide",function(e){var t=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,i){if(n&&"."!==n.charAt(0))throw Or("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var r=n+"-animation";t.$$registeredAnimations[n.substr(1)]=r,e.factory(r,i)},this.classNameFilter=function(e){if(1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null,this.$$classNameFilter)){var t=new RegExp("(\\s+|\\/)"+Rr+"(\\s+|\\/)");if(t.test(this.$$classNameFilter.toString()))throw Or("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',Rr)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var i=ot(n);!i||i.parentNode||i.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,i,r,o){return i=i&&Ni(i),r=r&&Ni(r),i=i||r.parent(),t(n,i,r),e.push(n,"enter",st(o))},move:function(n,i,r,o){return i=i&&Ni(i),r=r&&Ni(r),i=i||r.parent(),t(n,i,r),e.push(n,"move",st(o))},leave:function(t,n){return e.push(t,"leave",st(n),function(){t.remove()})},addClass:function(t,n,i){return i=st(i),i.addClass=rt(i.addclass,n),e.push(t,"addClass",i)},removeClass:function(t,n,i){return i=st(i),i.removeClass=rt(i.removeClass,n),e.push(t,"removeClass",i)},setClass:function(t,n,i,r){return r=st(r),r.addClass=rt(r.addClass,n),r.removeClass=rt(r.removeClass,i),e.push(t,"setClass",r)},animate:function(t,n,i,r,o){return o=st(o),o.from=o.from?u(o.from,n):n,o.to=o.to?u(o.to,i):i,r=r||"ng-inline-animate",o.tempClasses=rt(o.tempClasses,r),e.push(t,"animate",o)}}}]}],Lr=function(){this.$get=["$$rAF",function(e){function t(t){n.push(t),n.length>1||e(function(){for(var e=0;e<n.length;e++)n[e]();n=[]})}var n=[];return function(){var e=!1;return t(function(){e=!0}),function(n){e?n():t(n)}}}]},jr=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(e,t,n,r,o){function a(e){this.setHost(e);var t=n(),i=function(e){o(e,0,!1)};this._doneCallbacks=[],this._tick=function(e){var n=r[0];n&&n.hidden?i(e):t(e)},this._state=0}var s=0,l=1,u=2;return a.chain=function(e,t){function n(){return i===e.length?void t(!0):void e[i](function(e){return e===!1?void t(!1):(i++,void n())})}var i=0;n()},a.all=function(e,t){function n(n){o=o&&n,++r===e.length&&t(o)}var r=0,o=!0;i(e,function(e){e.done(n)})},a.prototype={setHost:function(e){this.host=e||{}},done:function(e){this._state===u?e():this._doneCallbacks.push(e)},progress:f,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){t===!1?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},"catch":function(e){return this.getPromise()["catch"](e)},"finally":function(e){return this.getPromise()["finally"](e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;t._state===s&&(t._state=l,t._tick(function(){t._resolve(e)}))},_resolve:function(e){this._state!==u&&(i(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=u)}},a}]},Vr=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,n){return function(t,i){function r(){return e(function(){o(),s||l.complete(),s=!0}),l}function o(){a.addClass&&(t.addClass(a.addClass),a.addClass=null),a.removeClass&&(t.removeClass(a.removeClass),a.removeClass=null),a.to&&(t.css(a.to),a.to=null)}var a=i||{};a.$$prepared||(a=F(a)),a.cleanupStyles&&(a.from=a.to=null),a.from&&(t.css(a.from),a.from=null);var s,l=new n;return{start:r,end:r}}}]},Wr=t("$compile"),qr=new dt;ft.$inject=["$provide","$$sanitizeUriProvider"],pt.prototype.isFirstChange=function(){return this.previousValue===qr};var Br=/^((?:x|data)[\:\-_])/i,Ur=t("$controller"),Yr=/^(\S+)(\s+as\s+([\w$]+))?$/,Xr=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof Ni&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},Kr="application/json",Gr={"Content-Type":Kr+";charset=utf-8"},Jr=/^\[|^\{(?!\{)/,Qr={"[":/]$/,"{":/}$/},Zr=/^\)\]\}',?\n/,eo=t("$http"),to=function(e){return function(){throw eo("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",e)}},no=qi.$interpolateMinErr=t("$interpolate");no.throwNoconcat=function(e){throw no("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},no.interr=function(e,t){return no("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var io=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,ro={http:80,https:443,ftp:21},oo=t("$location"),ao={$$html5:!1,$$replace:!1,absUrl:Xt("$$absUrl"),url:function(e){if(v(e))return this.$$url;var t=io.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:Xt("$$protocol"),host:Xt("$$host"),port:Xt("$$port"),path:Kt("$$path",function(e){return e=null!==e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(x(e)||$(e))e=e.toString(),this.$$search=Z(e);else{if(!b(e))throw oo("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");e=F(e,{}),i(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:v(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:Kt("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};i([Yt,Ut,Bt],function(e){e.prototype=Object.create(ao),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==Bt||!this.$$html5)throw oo("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=v(t)?null:t,this}});var so=t("$parse"),lo=Function.prototype.call,uo=Function.prototype.apply,co=Function.prototype.bind,ho=me();i("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){ho[e]=!0});var fo={n:"\n",f:"\f",r:"\r",t:"	",v:"\x0B","'":"'",'"':'"'},po=function(e){this.options=e};po.prototype={constructor:po,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),i=n+this.peek(2),r=ho[t],o=ho[n],a=ho[i];if(r||o||a){var s=a?i:o?n:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){var t=e||1;return this.index+t<this.text.length?this.text.charAt(this.index+t):!1},isNumber:function(e){return e>="0"&&"9">=e&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"	"===e||"\n"===e||"\x0B"===e||""===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"===e||"$"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var n=e.charCodeAt(0),i=t.charCodeAt(0);return n>=55296&&56319>=n&&i>=56320&&57343>=i?e+t:e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var i=y(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw so("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,i,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=Ii(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var i=this.peek();if("e"==n&&this.isExpOperator(i))e+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",i=e,r=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(i+=o,r){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{var s=fo[o];n+=s||o}r=!1}else if("\\"===o)r=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:i,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var mo=function(e,t){this.lexer=e,this.options=t};mo.Program="Program",mo.ExpressionStatement="ExpressionStatement",mo.AssignmentExpression="AssignmentExpression",mo.ConditionalExpression="ConditionalExpression",mo.LogicalExpression="LogicalExpression",mo.BinaryExpression="BinaryExpression",mo.UnaryExpression="UnaryExpression",mo.CallExpression="CallExpression",mo.MemberExpression="MemberExpression",mo.Identifier="Identifier",mo.Literal="Literal",mo.ArrayExpression="ArrayExpression",mo.Property="Property",mo.ObjectExpression="ObjectExpression",mo.ThisExpression="ThisExpression",mo.LocalsExpression="LocalsExpression",mo.NGValueParameter="NGValueParameter",mo.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:mo.Program,body:e}},expressionStatement:function(){return{type:mo.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e,t=this.expression();e=this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();return this.expect("=")&&(e={type:mo.AssignmentExpression,left:e,right:this.assignment(),operator:"="}),e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:mo.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:mo.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:mo.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:mo.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:mo.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:mo.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:mo.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:mo.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=F(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:mo.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(e={type:mo.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:mo.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:mo.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],n={type:mo.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do e.push(this.expression());while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:mo.Identifier,name:e.text}},constant:function(){return{type:mo.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:mo.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:mo.Property,kind:"init"},this.peek().constant?e.key=this.constant():this.peek().identifier?e.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),e.value=this.expression(),t.push(e)}while(this.expect(","));return this.consume("}"),{type:mo.ObjectExpression,properties:t}},throwError:function(e,t){throw so("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw so("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw so("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,i){return this.peekAhead(0,e,t,n,i)},peekAhead:function(e,t,n,i,r){if(this.tokens.length>e){var o=this.tokens[e],a=o.text;if(a===t||a===n||a===i||a===r||!t&&!n&&!i&&!r)return o}return!1},expect:function(e,t,n,i){var r=this.peek(e,t,n,i);return r?(this.tokens.shift(),r):!1},selfReferential:{"this":{type:mo.ThisExpression},$locals:{type:mo.LocalsExpression}}},fn.prototype={compile:function(e,t){var n=this,r=this.astBuilder.ast(e);this.state={nextId:0,filters:{},expensiveChecks:t,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},sn(r,n.$filter);var o,a="";if(this.stage="assign",o=cn(r)){this.state.computing="assign";var s=this.nextId();this.recurse(o,s),this.return_(s),a="fn.assign="+this.generateFunction("assign","s,v,l")}var l=ln(r.body);n.stage="inputs",i(l,function(e,t){var i="fn"+t;n.state[i]={vars:[],body:[],own:{}},n.state.computing=i;var r=n.nextId();n.recurse(e,r),n.return_(r),n.state.inputs.push(i),e.watchId=t}),this.state.computing="fn",this.stage="main",this.recurse(r);var u='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+a+this.watchFns()+"return fn;",c=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",u)(this.$filter,Qt,en,tn,Zt,nn,rn,on,e);return this.state=this.stage=void 0,c.literal=hn(r),c.constant=dn(r),c},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return i(t,function(t){e.push("var "+t+"="+n.generateFunction(t,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return i(this.state.filters,function(n,i){e.push(n+"=$filter("+t.escape(i)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,n,r,o,a){var s,l,u,c,h=this;if(r=r||f,!a&&y(e.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,n,r,o,!0));switch(e.type){case mo.Program:i(e.body,function(t,n){h.recurse(t.expression,void 0,void 0,function(e){l=e}),n!==e.body.length-1?h.current().body.push(l,";"):h.return_(l)});break;case mo.Literal:c=this.escape(e.value),this.assign(t,c),r(c);break;case mo.UnaryExpression:this.recurse(e.argument,void 0,void 0,function(e){l=e}),c=e.operator+"("+this.ifDefined(l,0)+")",this.assign(t,c),r(c);break;case mo.BinaryExpression:this.recurse(e.left,void 0,void 0,function(e){s=e}),this.recurse(e.right,void 0,void 0,function(e){l=e}),c="+"===e.operator?this.plus(s,l):"-"===e.operator?this.ifDefined(s,0)+e.operator+this.ifDefined(l,0):"("+s+")"+e.operator+"("+l+")",this.assign(t,c),r(c);break;case mo.LogicalExpression:t=t||this.nextId(),h.recurse(e.left,t),h.if_("&&"===e.operator?t:h.not(t),h.lazyRecurse(e.right,t)),r(t);break;case mo.ConditionalExpression:t=t||this.nextId(),h.recurse(e.test,t),h.if_(t,h.lazyRecurse(e.alternate,t),h.lazyRecurse(e.consequent,t)),r(t);break;case mo.Identifier:t=t||this.nextId(),n&&(n.context="inputs"===h.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),n.computed=!1,n.name=e.name),Qt(e.name),h.if_("inputs"===h.stage||h.not(h.getHasOwnProperty("l",e.name)),function(){h.if_("inputs"===h.stage||"s",function(){o&&1!==o&&h.if_(h.not(h.nonComputedMember("s",e.name)),h.lazyAssign(h.nonComputedMember("s",e.name),"{}")),h.assign(t,h.nonComputedMember("s",e.name))})},t&&h.lazyAssign(t,h.nonComputedMember("l",e.name))),(h.state.expensiveChecks||mn(e.name))&&h.addEnsureSafeObject(t),r(t);break;case mo.MemberExpression:s=n&&(n.context=this.nextId())||this.nextId(),t=t||this.nextId(),h.recurse(e.object,s,void 0,function(){h.if_(h.notNull(s),function(){o&&1!==o&&h.addEnsureSafeAssignContext(s),e.computed?(l=h.nextId(),h.recurse(e.property,l),h.getStringValue(l),h.addEnsureSafeMemberName(l),o&&1!==o&&h.if_(h.not(h.computedMember(s,l)),h.lazyAssign(h.computedMember(s,l),"{}")),c=h.ensureSafeObject(h.computedMember(s,l)),h.assign(t,c),n&&(n.computed=!0,n.name=l)):(Qt(e.property.name),o&&1!==o&&h.if_(h.not(h.nonComputedMember(s,e.property.name)),h.lazyAssign(h.nonComputedMember(s,e.property.name),"{}")),c=h.nonComputedMember(s,e.property.name),(h.state.expensiveChecks||mn(e.property.name))&&(c=h.ensureSafeObject(c)),h.assign(t,c),n&&(n.computed=!1,n.name=e.property.name))},function(){h.assign(t,"undefined")}),r(t)},!!o);break;case mo.CallExpression:t=t||this.nextId(),e.filter?(l=h.filter(e.callee.name),u=[],i(e.arguments,function(e){var t=h.nextId();h.recurse(e,t),u.push(t)}),c=l+"("+u.join(",")+")",h.assign(t,c),r(t)):(l=h.nextId(),s={},u=[],h.recurse(e.callee,l,s,function(){h.if_(h.notNull(l),function(){h.addEnsureSafeFunction(l),i(e.arguments,function(e){h.recurse(e,h.nextId(),void 0,function(e){u.push(h.ensureSafeObject(e))})}),s.name?(h.state.expensiveChecks||h.addEnsureSafeObject(s.context),c=h.member(s.context,s.name,s.computed)+"("+u.join(",")+")"):c=l+"("+u.join(",")+")",c=h.ensureSafeObject(c),h.assign(t,c)},function(){h.assign(t,"undefined")}),r(t)}));break;case mo.AssignmentExpression:if(l=this.nextId(),s={},!un(e.left))throw so("lval","Trying to assign a value to a non l-value");this.recurse(e.left,void 0,s,function(){h.if_(h.notNull(s.context),function(){h.recurse(e.right,l),h.addEnsureSafeObject(h.member(s.context,s.name,s.computed)),h.addEnsureSafeAssignContext(s.context),c=h.member(s.context,s.name,s.computed)+e.operator+l,h.assign(t,c),r(t||c)})},1);break;case mo.ArrayExpression:u=[],i(e.elements,function(e){h.recurse(e,h.nextId(),void 0,function(e){u.push(e)})}),c="["+u.join(",")+"]",this.assign(t,c),r(c);break;case mo.ObjectExpression:u=[],i(e.properties,function(e){h.recurse(e.value,h.nextId(),void 0,function(t){u.push(h.escape(e.key.type===mo.Identifier?e.key.name:""+e.key.value)+":"+t)})}),c="{"+u.join(",")+"}",this.assign(t,c),r(c);break;case mo.ThisExpression:this.assign(t,"s"),r("s");break;case mo.LocalsExpression:this.assign(t,"l"),r("l");break;case mo.NGValueParameter:this.assign(t,"v"),r("v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,i=this.current().own;return i.hasOwnProperty(n)||(i[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),i[n]},assign:function(e,t){return e?(this.current().body.push(e,"=",t,";"),e):void 0},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(e===!0)t();else{var i=this.current().body;i.push("if(",e,"){"),t(),i.push("}"),n&&(i.push("else{"),n(),i.push("}"))}},not:function(e){return"!("+e+")"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){var n=/[$_a-zA-Z][$_a-zA-Z0-9]*/,i=/[^$_a-zA-Z0-9]/g;return n.test(t)?e+"."+t:e+'["'+t.replace(i,this.stringEscapeFn)+'"]'},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},addEnsureSafeObject:function(e){this.current().body.push(this.ensureSafeObject(e),";")},addEnsureSafeMemberName:function(e){this.current().body.push(this.ensureSafeMemberName(e),";")},addEnsureSafeFunction:function(e){this.current().body.push(this.ensureSafeFunction(e),";")},addEnsureSafeAssignContext:function(e){this.current().body.push(this.ensureSafeAssignContext(e),";")},ensureSafeObject:function(e){return"ensureSafeObject("+e+",text)"},ensureSafeMemberName:function(e){return"ensureSafeMemberName("+e+",text)"},ensureSafeFunction:function(e){return"ensureSafeFunction("+e+",text)"},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},ensureSafeAssignContext:function(e){return"ensureSafeAssignContext("+e+",text)"},lazyRecurse:function(e,t,n,i,r,o){var a=this;return function(){a.recurse(e,t,n,i,r,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(x(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if($(e))return e.toString();if(e===!0)return"true";if(e===!1)return"false";if(null===e)return"null";if("undefined"==typeof e)return"undefined";throw so("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},pn.prototype={compile:function(e,t){var n=this,r=this.astBuilder.ast(e);this.expression=e,this.expensiveChecks=t,sn(r,n.$filter);var o,a;(o=cn(r))&&(a=this.recurse(o));var s,l=ln(r.body);l&&(s=[],i(l,function(e,t){var i=n.recurse(e);e.input=i,s.push(i),e.watchId=t}));var u=[];i(r.body,function(e){u.push(n.recurse(e.expression))});var c=0===r.body.length?f:1===r.body.length?u[0]:function(e,t){var n;return i(u,function(i){n=i(e,t)}),n};return a&&(c.assign=function(e,t,n){return a(e,n,t)}),s&&(c.inputs=s),c.literal=hn(r),c.constant=dn(r),c},recurse:function(e,t,n){var r,o,a,s=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case mo.Literal:return this.value(e.value,t);case mo.UnaryExpression:return o=this.recurse(e.argument),this["unary"+e.operator](o,t);case mo.BinaryExpression:return r=this.recurse(e.left),o=this.recurse(e.right),this["binary"+e.operator](r,o,t);case mo.LogicalExpression:return r=this.recurse(e.left),o=this.recurse(e.right),this["binary"+e.operator](r,o,t);case mo.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case mo.Identifier:return Qt(e.name,s.expression),s.identifier(e.name,s.expensiveChecks||mn(e.name),t,n,s.expression);case mo.MemberExpression:return r=this.recurse(e.object,!1,!!n),e.computed||(Qt(e.property.name,s.expression),o=e.property.name),e.computed&&(o=this.recurse(e.property)),e.computed?this.computedMember(r,o,t,n,s.expression):this.nonComputedMember(r,o,s.expensiveChecks,t,n,s.expression);case mo.CallExpression:return a=[],i(e.arguments,function(e){a.push(s.recurse(e))}),e.filter&&(o=this.$filter(e.callee.name)),e.filter||(o=this.recurse(e.callee,!0)),e.filter?function(e,n,i,r){for(var s=[],l=0;l<a.length;++l)s.push(a[l](e,n,i,r));var u=o.apply(void 0,s,r);return t?{context:void 0,name:void 0,value:u}:u}:function(e,n,i,r){var l,u=o(e,n,i,r);if(null!=u.value){en(u.context,s.expression),tn(u.value,s.expression);for(var c=[],h=0;h<a.length;++h)c.push(en(a[h](e,n,i,r),s.expression));l=en(u.value.apply(u.context,c),s.expression)}return t?{value:l}:l};case mo.AssignmentExpression:return r=this.recurse(e.left,!0,1),o=this.recurse(e.right),function(e,n,i,a){var l=r(e,n,i,a),u=o(e,n,i,a);return en(l.value,s.expression),nn(l.context),l.context[l.name]=u,t?{value:u}:u};case mo.ArrayExpression:return a=[],i(e.elements,function(e){a.push(s.recurse(e))}),function(e,n,i,r){for(var o=[],s=0;s<a.length;++s)o.push(a[s](e,n,i,r));return t?{value:o}:o};case mo.ObjectExpression:return a=[],i(e.properties,function(e){a.push({key:e.key.type===mo.Identifier?e.key.name:""+e.key.value,value:s.recurse(e.value)})}),function(e,n,i,r){for(var o={},s=0;s<a.length;++s)o[a[s].key]=a[s].value(e,n,i,r);return t?{value:o}:o};case mo.ThisExpression:return function(e){return t?{value:e}:e};case mo.LocalsExpression:return function(e,n){return t?{value:n}:n};case mo.NGValueParameter:return function(e,n,i){return t?{value:i}:i}}},"unary+":function(e,t){return function(n,i,r,o){var a=e(n,i,r,o);return a=y(a)?+a:0,t?{value:a}:a}},"unary-":function(e,t){return function(n,i,r,o){var a=e(n,i,r,o);return a=y(a)?-a:0,t?{value:a}:a}},"unary!":function(e,t){return function(n,i,r,o){var a=!e(n,i,r,o);return t?{value:a}:a}},"binary+":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a),l=t(i,r,o,a),u=on(s,l);return n?{value:u}:u}},"binary-":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a),l=t(i,r,o,a),u=(y(s)?s:0)-(y(l)?l:0);return n?{value:u}:u}},"binary*":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)*t(i,r,o,a);return n?{value:s}:s}},"binary/":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)/t(i,r,o,a);return n?{value:s}:s}},"binary%":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)%t(i,r,o,a);return n?{value:s}:s}},"binary===":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)===t(i,r,o,a);return n?{value:s}:s}},"binary!==":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)!==t(i,r,o,a);return n?{value:s}:s}},"binary==":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)==t(i,r,o,a);return n?{value:s}:s}},"binary!=":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)!=t(i,r,o,a);return n?{value:s}:s}},"binary<":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)<t(i,r,o,a);return n?{value:s}:s}},"binary>":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)>t(i,r,o,a);return n?{value:s}:s}},"binary<=":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)<=t(i,r,o,a);return n?{value:s}:s}},"binary>=":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)>=t(i,r,o,a);return n?{value:s}:s}},"binary&&":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)&&t(i,r,o,a);return n?{value:s}:s}},"binary||":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)||t(i,r,o,a);return n?{value:s}:s}},"ternary?:":function(e,t,n,i){return function(r,o,a,s){var l=e(r,o,a,s)?t(r,o,a,s):n(r,o,a,s);return i?{value:l}:l}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(e,t,n,i,r){return function(o,a,s,l){var u=a&&e in a?a:o;i&&1!==i&&u&&!u[e]&&(u[e]={});var c=u?u[e]:void 0;return t&&en(c,r),n?{context:u,name:e,value:c}:c}},computedMember:function(e,t,n,i,r){return function(o,a,s,l){var u,c,h=e(o,a,s,l);return null!=h&&(u=t(o,a,s,l),u=Zt(u),Qt(u,r),i&&1!==i&&(nn(h),h&&!h[u]&&(h[u]={})),
c=h[u],en(c,r)),n?{context:h,name:u,value:c}:c}},nonComputedMember:function(e,t,n,i,r,o){return function(a,s,l,u){var c=e(a,s,l,u);r&&1!==r&&(nn(c),c&&!c[t]&&(c[t]={}));var h=null!=c?c[t]:void 0;return(n||mn(t))&&en(h,o),i?{context:c,name:t,value:h}:h}},inputs:function(e,t){return function(n,i,r,o){return o?o[t]:e(n,i,r)}}};var go=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n,this.ast=new mo(e,n),this.astCompiler=n.csp?new pn(this.ast,t):new fn(this.ast,t)};go.prototype={constructor:go,parse:function(e){return this.astCompiler.compile(e,this.options.expensiveChecks)}};var vo=Object.prototype.valueOf,yo=t("$sce"),bo={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},wo=t("$compile"),xo=e.document.createElement("a"),$o=Pn(e.location.href);Nn.$inject=["$document"],Hn.$inject=["$provide"];var Co=22,To=".",_o="0";Vn.$inject=["$locale"],Wn.$inject=["$locale"];var ko={yyyy:Xn("FullYear",4,0,!1,!0),yy:Xn("FullYear",2,0,!0,!0),y:Xn("FullYear",1,0,!1,!0),MMMM:Kn("Month"),MMM:Kn("Month",!0),MM:Xn("Month",2,1),M:Xn("Month",1,1),LLLL:Kn("Month",!1,!0),dd:Xn("Date",2),d:Xn("Date",1),HH:Xn("Hours",2),H:Xn("Hours",1),hh:Xn("Hours",2,-12),h:Xn("Hours",1,-12),mm:Xn("Minutes",2),m:Xn("Minutes",1),ss:Xn("Seconds",2),s:Xn("Seconds",1),sss:Xn("Milliseconds",3),EEEE:Kn("Day"),EEE:Kn("Day",!0),a:ei,Z:Gn,ww:Zn(2),w:Zn(1),G:ti,GG:ti,GGG:ti,GGGG:ni},So=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,Mo=/^\-?\d+$/;ii.$inject=["$locale"];var Do=m(Ii),Io=m(Ei);ai.$inject=["$parse"];var Eo=m({restrict:"E",compile:function(e,t){return t.href||t.xlinkHref?void 0:function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===ji.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),Po={};i(Tr,function(e,t){function n(e,n,r){e.$watch(r[i],function(e){r.$set(t,!!e)})}if("multiple"!=e){var i=mt("ng-"+t),r=n;"checked"===e&&(r=function(e,t,r){r.ngModel!==r[i]&&n(e,t,r)}),Po[i]=function(){return{restrict:"A",priority:100,link:r}}}}),i(kr,function(e,t){Po[t]=function(){return{priority:100,link:function(e,n,i){if("ngPattern"===t&&"/"==i.ngPattern.charAt(0)){var r=i.ngPattern.match(Si);if(r)return void i.$set("ngPattern",new RegExp(r[1],r[2]))}e.$watch(i[t],function(e){i.$set(t,e)})}}}}),i(["src","srcset","href"],function(e){var t=mt("ng-"+e);Po[t]=function(){return{priority:99,link:function(n,i,r){var o=e,a=e;"href"===e&&"[object SVGAnimatedString]"===ji.call(i.prop("href"))&&(a="xlinkHref",r.$attr[a]="xlink:href",o=null),r.$observe(t,function(t){return t?(r.$set(a,t),void(Oi&&o&&i.prop(o,r[a]))):void("href"===e&&r.$set(a,null))})}}}});var Ao={$addControl:f,$$renameControl:li,$removeControl:f,$setValidity:f,$setDirty:f,$setPristine:f,$setSubmitted:f},Oo="ng-submitted";ui.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var No=function(e){return["$timeout","$parse",function(t,n){function i(e){return""===e?n('this[""]').assign:n(e).assign||f}var r={name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:ui,compile:function(n,r){n.addClass(va).addClass(ma);var o=r.name?"name":e&&r.ngForm?"ngForm":!1;return{pre:function(e,n,r,a){var s=a[0];if(!("action"in r)){var l=function(t){e.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),t.preventDefault()};hr(n[0],"submit",l),n.on("$destroy",function(){t(function(){dr(n[0],"submit",l)},0,!1)})}var c=a[1]||s.$$parentForm;c.$addControl(s);var h=o?i(s.$name):f;o&&(h(e,s),r.$observe(o,function(t){s.$name!==t&&(h(e,void 0),s.$$parentForm.$$renameControl(s,t),(h=i(s.$name))(e,s))})),n.on("$destroy",function(){s.$$parentForm.$removeControl(s),h(e,void 0),u(s,Ao)})}}}};return r}]},Ro=No(),Ho=No(!0),zo=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,Fo=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Lo=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,jo=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Vo=/^(\d{4,})-(\d{2})-(\d{2})$/,Wo=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,qo=/^(\d{4,})-W(\d\d)$/,Bo=/^(\d{4,})-(\d\d)$/,Uo=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Yo="keydown wheel mousedown",Xo=me();i("date,datetime-local,month,time,week".split(","),function(e){Xo[e]=!0});var Ko={text:hi,date:mi("date",Vo,pi(Vo,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":mi("datetimelocal",Wo,pi(Wo,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:mi("time",Uo,pi(Uo,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:mi("week",qo,fi,"yyyy-Www"),month:mi("month",Bo,pi(Bo,["yyyy","MM"]),"yyyy-MM"),number:vi,url:yi,email:bi,radio:wi,checkbox:$i,hidden:f,button:f,submit:f,reset:f,file:f},Go=["$browser","$sniffer","$filter","$parse",function(e,t,n,i){return{restrict:"E",require:["?ngModel"],link:{pre:function(r,o,a,s){s[0]&&(Ko[Ii(a.type)]||Ko.text)(r,o,a,s[0],t,e,n,i)}}}}],Jo=/^(true|false|\d+)$/,Qo=function(){return{restrict:"A",priority:100,compile:function(e,t){return Jo.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},Zo=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,i){e.$$addBindingInfo(n,i.ngBind),n=n[0],t.$watch(i.ngBind,function(e){n.textContent=v(e)?"":e})}}}}],ea=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,i,r){var o=e(i.attr(r.$attr.ngBindTemplate));t.$$addBindingInfo(i,o.expressions),i=i[0],r.$observe("ngBindTemplate",function(e){i.textContent=v(e)?"":e})}}}}],ta=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(i,r){var o=t(r.ngBindHtml),a=t(r.ngBindHtml,function(e){return(e||"").toString()});return n.$$addBindingClass(i),function(t,i,r){n.$$addBindingInfo(i,r.ngBindHtml),t.$watch(a,function(){i.html(e.getTrustedHtml(o(t))||"")})}}}}],na=m({restrict:"A",require:"ngModel",link:function(e,t,n,i){i.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),ia=Ci("",!0),ra=Ci("Odd",0),oa=Ci("Even",1),aa=si({compile:function(e,t){t.$set("ngCloak",void 0),e.removeClass("ng-cloak")}}),sa=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],la={},ua={blur:!0,focus:!0};i("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=mt("ng-"+e);la[t]=["$parse","$rootScope",function(n,i){return{restrict:"A",compile:function(r,o){var a=n(o[t],null,!0);return function(t,n){n.on(e,function(n){var r=function(){a(t,{$event:n})};ua[e]&&i.$$phase?t.$evalAsync(r):t.$apply(r)})}}}}]});var ca=["$animate","$compile",function(e,t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,r,o,a){var s,l,u;n.$watch(r.ngIf,function(n){n?l||a(function(n,o){l=o,n[n.length++]=t.$$createComment("end ngIf",r.ngIf),s={clone:n},e.enter(n,i.parent(),i)}):(u&&(u.remove(),u=null),l&&(l.$destroy(),l=null),s&&(u=pe(s.clone),e.leave(u).then(function(){u=null}),s=null))})}}}],ha=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:qi.noop,compile:function(i,r){var o=r.ngInclude||r.src,a=r.onload||"",s=r.autoscroll;return function(i,r,l,u,c){var h,d,f,p=0,m=function(){d&&(d.remove(),d=null),h&&(h.$destroy(),h=null),f&&(n.leave(f).then(function(){d=null}),d=f,f=null)};i.$watch(o,function(o){var l=function(){!y(s)||s&&!i.$eval(s)||t()},d=++p;o?(e(o,!0).then(function(e){if(!i.$$destroyed&&d===p){var t=i.$new();u.template=e;var s=c(t,function(e){m(),n.enter(e,null,r).then(l)});h=t,f=s,h.$emit("$includeContentLoaded",o),i.$eval(a)}},function(){i.$$destroyed||d===p&&(m(),i.$emit("$includeContentError",o))}),i.$emit("$includeContentRequested",o)):(m(),u.template=null)})}}}}],da=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,i,r,o){return ji.call(i[0]).match(/SVG/)?(i.empty(),void t(ke(o.template,e.document).childNodes)(n,function(e){i.append(e)},{futureParentElement:i})):(i.html(o.template),void t(i.contents())(n))}}}],fa=si({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),pa=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,r){var o=t.attr(n.$attr.ngList)||", ",a="false"!==n.ngTrim,s=a?Xi(o):o,l=function(e){if(!v(e)){var t=[];return e&&i(e.split(s),function(e){e&&t.push(a?Xi(e):e)}),t}};r.$parsers.push(l),r.$formatters.push(function(e){return Ui(e)?e.join(o):void 0}),r.$isEmpty=function(e){return!e||!e.length}}}},ma="ng-valid",ga="ng-invalid",va="ng-pristine",ya="ng-dirty",ba="ng-untouched",wa="ng-touched",xa="ng-pending",$a="ng-empty",Ca="ng-not-empty",Ta=t("ngModel"),_a=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,n,r,o,a,s,l,u,c){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=c(n.name||"",!1)(e),this.$$parentForm=Ao;var h,d=o(n.ngModel),p=d.assign,m=d,g=p,b=null,w=this;this.$$setOptions=function(e){if(w.$options=e,e&&e.getterSetter){var t=o(n.ngModel+"()"),i=o(n.ngModel+"($$$p)");m=function(e){var n=d(e);return T(n)&&(n=t(e)),n},g=function(e,t){T(d(e))?i(e,{$$$p:t}):p(e,t)}}else if(!d.assign)throw Ta("nonassign","Expression '{0}' is non-assignable. Element: {1}",n.ngModel,J(r))},this.$render=f,this.$isEmpty=function(e){return v(e)||""===e||null===e||e!==e},this.$$updateEmptyClasses=function(e){w.$isEmpty(e)?(a.removeClass(r,Ca),a.addClass(r,$a)):(a.removeClass(r,$a),a.addClass(r,Ca))};var x=0;Ti({ctrl:this,$element:r,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},$animate:a}),this.$setPristine=function(){w.$dirty=!1,w.$pristine=!0,a.removeClass(r,ya),a.addClass(r,va)},this.$setDirty=function(){w.$dirty=!0,w.$pristine=!1,a.removeClass(r,va),a.addClass(r,ya),w.$$parentForm.$setDirty()},this.$setUntouched=function(){w.$touched=!1,w.$untouched=!0,a.setClass(r,ba,wa)},this.$setTouched=function(){w.$touched=!0,w.$untouched=!1,a.setClass(r,wa,ba)},this.$rollbackViewValue=function(){s.cancel(b),w.$viewValue=w.$$lastCommittedViewValue,w.$render()},this.$validate=function(){if(!$(w.$modelValue)||!isNaN(w.$modelValue)){var e=w.$$lastCommittedViewValue,t=w.$$rawModelValue,n=w.$valid,i=w.$modelValue,r=w.$options&&w.$options.allowInvalid;w.$$runValidators(t,e,function(e){r||n===e||(w.$modelValue=e?t:void 0,w.$modelValue!==i&&w.$$writeModelToScope())})}},this.$$runValidators=function(e,t,n){function r(){var e=w.$$parserName||"parse";return v(h)?(s(e,null),!0):(h||(i(w.$validators,function(e,t){s(t,null)}),i(w.$asyncValidators,function(e,t){s(t,null)})),s(e,h),h)}function o(){var n=!0;return i(w.$validators,function(i,r){var o=i(e,t);n=n&&o,s(r,o)}),n?!0:(i(w.$asyncValidators,function(e,t){s(t,null)}),!1)}function a(){var n=[],r=!0;i(w.$asyncValidators,function(i,o){var a=i(e,t);if(!P(a))throw Ta("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",a);s(o,void 0),n.push(a.then(function(){s(o,!0)},function(){r=!1,s(o,!1)}))}),n.length?u.all(n).then(function(){l(r)},f):l(!0)}function s(e,t){c===x&&w.$setValidity(e,t)}function l(e){c===x&&n(e)}x++;var c=x;return r()&&o()?void a():void l(!1)},this.$commitViewValue=function(){var e=w.$viewValue;s.cancel(b),(w.$$lastCommittedViewValue!==e||""===e&&w.$$hasNativeValidators)&&(w.$$updateEmptyClasses(e),w.$$lastCommittedViewValue=e,w.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function t(){w.$modelValue!==o&&w.$$writeModelToScope()}var n=w.$$lastCommittedViewValue,i=n;if(h=v(i)?void 0:!0)for(var r=0;r<w.$parsers.length;r++)if(i=w.$parsers[r](i),v(i)){h=!1;break}$(w.$modelValue)&&isNaN(w.$modelValue)&&(w.$modelValue=m(e));var o=w.$modelValue,a=w.$options&&w.$options.allowInvalid;w.$$rawModelValue=i,a&&(w.$modelValue=i,t()),w.$$runValidators(i,w.$$lastCommittedViewValue,function(e){a||(w.$modelValue=e?i:void 0,t())})},this.$$writeModelToScope=function(){g(e,w.$modelValue),i(w.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}})},this.$setViewValue=function(e,t){w.$viewValue=e,w.$options&&!w.$options.updateOnDefault||w.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var n,i=0,r=w.$options;r&&y(r.debounce)&&(n=r.debounce,$(n)?i=n:$(n[t])?i=n[t]:$(n["default"])&&(i=n["default"])),s.cancel(b),i?b=s(function(){w.$commitViewValue()},i):l.$$phase?w.$commitViewValue():e.$apply(function(){w.$commitViewValue()})},e.$watch(function(){var t=m(e);if(t!==w.$modelValue&&(w.$modelValue===w.$modelValue||t===t)){w.$modelValue=w.$$rawModelValue=t,h=void 0;for(var n=w.$formatters,i=n.length,r=t;i--;)r=n[i](r);w.$viewValue!==r&&(w.$$updateEmptyClasses(r),w.$viewValue=w.$$lastCommittedViewValue=r,w.$render(),w.$$runValidators(t,r,f))}return t})}],ka=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:_a,priority:1,compile:function(t){return t.addClass(va).addClass(ba).addClass(ma),{pre:function(e,t,n,i){var r=i[0],o=i[1]||r.$$parentForm;r.$$setOptions(i[2]&&i[2].$options),o.$addControl(r),n.$observe("name",function(e){r.$name!==e&&r.$$parentForm.$$renameControl(r,e)}),e.$on("$destroy",function(){r.$$parentForm.$removeControl(r)})},post:function(t,n,i,r){var o=r[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(e){o.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(){o.$touched||(e.$$phase?t.$evalAsync(o.$setTouched):t.$apply(o.$setTouched))})}}}}}],Sa=/(\s+|^)default(\s+|$)/,Ma=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var n=this;this.$options=F(e.$eval(t.ngModelOptions)),y(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=Xi(this.$options.updateOn.replace(Sa,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},Da=si({terminal:!0,priority:1e3}),Ia=t("ngOptions"),Ea=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Pa=["$compile","$document","$parse",function(t,r,o){function a(e,t,i){function r(e,t,n,i,r){this.selectValue=e,this.viewValue=t,this.label=n,this.group=i,this.disabled=r}function a(e){var t;if(!u&&n(e))t=e;else{t=[];for(var i in e)e.hasOwnProperty(i)&&"$"!==i.charAt(0)&&t.push(i)}return t}var s=e.match(Ea);if(!s)throw Ia("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,J(t));var l=s[5]||s[7],u=s[6],c=/ as /.test(s[0])&&s[1],h=s[9],d=o(s[2]?s[1]:l),f=c&&o(c),p=f||d,m=h&&o(h),g=h?function(e,t){return m(i,t)}:function(e){return Je(e)},v=function(e,t){return g(e,C(e,t))},y=o(s[2]||s[1]),b=o(s[3]||""),w=o(s[4]||""),x=o(s[8]),$={},C=u?function(e,t){return $[u]=t,$[l]=e,$}:function(e){return $[l]=e,$};return{trackBy:h,getTrackByValue:v,getWatchables:o(x,function(e){var t=[];e=e||[];for(var n=a(e),r=n.length,o=0;r>o;o++){var l=e===n?o:n[o],u=e[l],c=C(u,l),h=g(u,c);if(t.push(h),s[2]||s[1]){var d=y(i,c);t.push(d)}if(s[4]){var f=w(i,c);t.push(f)}}return t}),getOptions:function(){for(var e=[],t={},n=x(i)||[],o=a(n),s=o.length,l=0;s>l;l++){var u=n===o?l:o[l],c=n[u],d=C(c,u),f=p(i,d),m=g(f,d),$=y(i,d),T=b(i,d),_=w(i,d),k=new r(m,f,$,T,_);e.push(k),t[m]=k}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[v(e)]},getViewValueFromOption:function(e){return h?qi.copy(e.viewValue):e.viewValue}}}}}function s(e,n,o,s){function c(e,t){var n=l.cloneNode(!1);t.appendChild(n),h(e,n)}function h(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label),e.value!==t.value&&(t.value=e.selectValue)}function d(){var e=C&&p.readValue();if(C)for(var t=C.items.length-1;t>=0;t--){var i=C.items[t];We(i.group?i.element.parentNode:i.element)}C=T.getOptions();var r={};if(x&&n.prepend(f),C.items.forEach(function(e){var t;y(e.group)?(t=r[e.group],t||(t=u.cloneNode(!1),_.appendChild(t),t.label=e.group,r[e.group]=t),c(e,t)):c(e,_)}),n[0].appendChild(_),m.$render(),!m.$isEmpty(e)){var o=p.readValue(),a=T.trackBy||g;(a?j(e,o):e===o)||(m.$setViewValue(o),m.$render())}}for(var f,p=s[0],m=s[1],g=o.multiple,v=0,b=n.children(),w=b.length;w>v;v++)if(""===b[v].value){f=b.eq(v);break}var x=!!f,$=Ni(l.cloneNode(!1));$.val("?");var C,T=a(o.ngOptions,n,e),_=r[0].createDocumentFragment(),k=function(){x||n.prepend(f),n.val(""),f.prop("selected",!0),f.attr("selected",!0)},S=function(){x||f.remove()},M=function(){n.prepend($),n.val("?"),$.prop("selected",!0),$.attr("selected",!0)},D=function(){$.remove()};g?(m.$isEmpty=function(e){return!e||0===e.length},p.writeValue=function(e){C.items.forEach(function(e){e.element.selected=!1}),e&&e.forEach(function(e){var t=C.getOptionFromViewValue(e);t&&(t.element.selected=!0)})},p.readValue=function(){var e=n.val()||[],t=[];return i(e,function(e){var n=C.selectValueMap[e];n&&!n.disabled&&t.push(C.getViewValueFromOption(n))}),t},T.trackBy&&e.$watchCollection(function(){return Ui(m.$viewValue)?m.$viewValue.map(function(e){return T.getTrackByValue(e)}):void 0},function(){m.$render()})):(p.writeValue=function(e){var t=C.getOptionFromViewValue(e);t?(n[0].value!==t.selectValue&&(D(),S(),n[0].value=t.selectValue,t.element.selected=!0),t.element.setAttribute("selected","selected")):null===e||x?(D(),k()):(S(),M())},p.readValue=function(){var e=C.selectValueMap[n.val()];return e&&!e.disabled?(S(),D(),C.getViewValueFromOption(e)):null},T.trackBy&&e.$watch(function(){return T.getTrackByValue(m.$viewValue)},function(){m.$render()})),x?(f.remove(),t(f)(e),f.removeClass("ng-scope")):f=Ni(l.cloneNode(!1)),n.empty(),d(),e.$watchCollection(T.getWatchables,d)}var l=e.document.createElement("option"),u=e.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,i){i[0].registerOption=f},post:s}}}],Aa=["$locale","$interpolate","$log",function(e,t,n){var r=/{}/g,o=/^when(Minus)?(.+)$/;return{link:function(a,s,l){function u(e){s.text(e||"")}var c,h=l.count,d=l.$attr.when&&s.attr(l.$attr.when),p=l.offset||0,m=a.$eval(d)||{},g={},y=t.startSymbol(),b=t.endSymbol(),w=y+h+"-"+p+b,x=qi.noop;i(l,function(e,t){var n=o.exec(t);if(n){var i=(n[1]?"-":"")+Ii(n[2]);m[i]=s.attr(l.$attr[t])}}),i(m,function(e,n){g[n]=t(e.replace(r,w))}),a.$watch(h,function(t){var i=parseFloat(t),r=isNaN(i);if(r||i in m||(i=e.pluralCat(i-p)),i!==c&&!(r&&$(c)&&isNaN(c))){x();var o=g[i];v(o)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+i+"' in "+d),x=f,u()):x=a.$watch(o,u),c=i}})}}}],Oa=["$parse","$animate","$compile",function(e,r,o){var a="$$NG_REMOVED",s=t("ngRepeat"),l=function(e,t,n,i,r,o,a){e[n]=i,r&&(e[r]=o),e.$index=t,e.$first=0===t,e.$last=t===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))},u=function(e){return e.clone[0]},c=function(e){return e.clone[e.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(t,h){var d=h.ngRepeat,f=o.$$createComment("end ngRepeat",d),p=d.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!p)throw s("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",d);var m=p[1],g=p[2],v=p[3],y=p[4];if(p=m.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!p)throw s("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",m);var b=p[3]||p[1],w=p[2];if(v&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(v)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(v)))throw s("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",v);var x,$,C,T,_={$id:Je};return y?x=e(y):(C=function(e,t){return Je(t)},T=function(e){return e}),function(e,t,o,h,p){x&&($=function(t,n,i){return w&&(_[w]=t),_[b]=n,_.$index=i,x(e,_)});var m=me();e.$watchCollection(g,function(o){var h,g,y,x,_,k,S,M,D,I,E,P,A=t[0],O=me();if(v&&(e[v]=o),n(o))D=o,M=$||C;else{M=$||T,D=[];for(var N in o)Di.call(o,N)&&"$"!==N.charAt(0)&&D.push(N)}for(x=D.length,E=new Array(x),h=0;x>h;h++)if(_=o===D?h:D[h],k=o[_],S=M(_,k,h),m[S])I=m[S],delete m[S],O[S]=I,E[h]=I;else{if(O[S])throw i(E,function(e){e&&e.scope&&(m[e.id]=e)}),s("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",d,S,k);E[h]={id:S,scope:void 0,clone:void 0},O[S]=!0}for(var R in m){if(I=m[R],P=pe(I.clone),r.leave(P),P[0].parentNode)for(h=0,g=P.length;g>h;h++)P[h][a]=!0;I.scope.$destroy()}for(h=0;x>h;h++)if(_=o===D?h:D[h],k=o[_],I=E[h],I.scope){y=A;do y=y.nextSibling;while(y&&y[a]);u(I)!=y&&r.move(pe(I.clone),null,A),A=c(I),l(I.scope,h,b,k,w,_,x)}else p(function(e,t){I.scope=t;var n=f.cloneNode(!1);e[e.length++]=n,r.enter(e,null,A),A=n,I.clone=e,O[I.id]=I,l(I.scope,h,b,k,w,_,x)});m=O})}}}}],Na="ng-hide",Ra="ng-hide-animate",Ha=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.ngShow,function(t){e[t?"removeClass":"addClass"](n,Na,{tempClasses:Ra})})}}}],za=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.ngHide,function(t){e[t?"addClass":"removeClass"](n,Na,{tempClasses:Ra})})}}}],Fa=si(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&i(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),La=["$animate","$compile",function(e,t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,o,a){var s=o.ngSwitch||o.on,l=[],u=[],c=[],h=[],d=function(e,t){return function(){e.splice(t,1)}};n.$watch(s,function(n){var r,o;for(r=0,o=c.length;o>r;++r)e.cancel(c[r]);for(c.length=0,r=0,o=h.length;o>r;++r){var s=pe(u[r].clone);h[r].$destroy();var f=c[r]=e.leave(s);f.then(d(c,r))}u.length=0,h.length=0,(l=a.cases["!"+n]||a.cases["?"])&&i(l,function(n){n.transclude(function(i,r){h.push(r);var o=n.element;i[i.length++]=t.$$createComment("end ngSwitchWhen");var a={clone:i};u.push(a),e.enter(i,o.parent(),o)})})})}}}],ja=si({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,r){i.cases["!"+n.ngSwitchWhen]=i.cases["!"+n.ngSwitchWhen]||[],i.cases["!"+n.ngSwitchWhen].push({transclude:r,element:t})}}),Va=si({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:t})}}),Wa=t("ngTransclude"),qa=si({restrict:"EAC",link:function(e,t,n,i,r){function o(e){e.length&&(t.empty(),t.append(e))}if(n.ngTransclude===n.$attr.ngTransclude&&(n.ngTransclude=""),!r)throw Wa("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",J(t));var a=n.ngTransclude||n.ngTranscludeSlot;r(o,null,a)}}),Ba=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"==n.type){var i=n.id,r=t[0].text;e.put(i,r)}}}}],Ua={$setViewValue:f,$render:f},Ya=["$element","$scope",function(t,n){var i=this,r=new Qe;i.ngModelCtrl=Ua,i.unknownOption=Ni(e.document.createElement("option")),i.renderUnknownOption=function(e){var n="? "+Je(e)+" ?";i.unknownOption.val(n),t.prepend(i.unknownOption),t.val(n)},n.$on("$destroy",function(){i.renderUnknownOption=f}),i.removeUnknownOption=function(){i.unknownOption.parent()&&i.unknownOption.remove()},i.readValue=function(){return i.removeUnknownOption(),t.val()},i.writeValue=function(e){i.hasOption(e)?(i.removeUnknownOption(),t.val(e),""===e&&i.emptyOption.prop("selected",!0)):null==e&&i.emptyOption?(i.removeUnknownOption(),t.val("")):i.renderUnknownOption(e)},i.addOption=function(e,t){if(t[0].nodeType!==or){de(e,'"option value"'),""===e&&(i.emptyOption=t);var n=r.get(e)||0;r.put(e,n+1),i.ngModelCtrl.$render(),ki(t)}},i.removeOption=function(e){var t=r.get(e);t&&(1===t?(r.remove(e),""===e&&(i.emptyOption=void 0)):r.put(e,t-1))},i.hasOption=function(e){return!!r.get(e)},i.registerOption=function(e,t,n,r,o){if(r){var a;n.$observe("value",function(e){y(a)&&i.removeOption(a),a=e,i.addOption(e,t)})}else o?e.$watch(o,function(e,r){n.$set("value",e),r!==e&&i.removeOption(r),i.addOption(e,t)}):i.addOption(n.value,t);t.on("$destroy",function(){i.removeOption(n.value),i.ngModelCtrl.$render()})}}],Xa=function(){function e(e,t,n,r){var o=r[1];if(o){var a=r[0];if(a.ngModelCtrl=o,t.on("change",function(){e.$apply(function(){o.$setViewValue(a.readValue())})}),n.multiple){a.readValue=function(){var e=[];return i(t.find("option"),function(t){t.selected&&e.push(t.value)}),e},a.writeValue=function(e){var n=new Qe(e);i(t.find("option"),function(e){e.selected=y(n.get(e.value))})};var s,l=NaN;e.$watch(function(){l!==o.$viewValue||j(s,o.$viewValue)||(s=L(o.$viewValue),o.$render()),l=o.$viewValue}),o.$isEmpty=function(e){return!e||0===e.length}}}}function t(e,t,n,i){var r=i[1];if(r){var o=i[0];r.$render=function(){o.writeValue(r.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:Ya,priority:1,link:{pre:e,post:t}}},Ka=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){if(y(n.value))var i=e(n.value,!0);else{var r=e(t.text(),!0);r||n.$set("value",t.text())}return function(e,t,n){var o="$selectController",a=t.parent(),s=a.data(o)||a.parent().data(o);s&&s.registerOption(e,t,n,i,r)}}}}],Ga=m({restrict:"E",terminal:!1}),Ja=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){i&&(n.required=!0,i.$validators.required=function(e,t){return!n.required||!i.$isEmpty(t)},n.$observe("required",function(){i.$validate()}))}}},Qa=function(){return{restrict:"A",require:"?ngModel",link:function(e,n,i,r){if(r){var o,a=i.ngPattern||i.pattern;i.$observe("pattern",function(e){if(x(e)&&e.length>0&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw t("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",a,e,J(n));o=e||void 0,r.$validate()}),r.$validators.pattern=function(e,t){return r.$isEmpty(t)||v(o)||o.test(t)}}}}},Za=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var r=-1;n.$observe("maxlength",function(e){var t=h(e);r=isNaN(t)?-1:t,i.$validate()}),i.$validators.maxlength=function(e,t){return 0>r||i.$isEmpty(t)||t.length<=r}}}}},es=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var r=0;n.$observe("minlength",function(e){r=h(e)||0,i.$validate()}),i.$validators.minlength=function(e,t){return i.$isEmpty(t)||t.length>=r}}}}};return e.angular.bootstrap?void(e.console&&console.log("WARNING: Tried to load angular more than once.")):(ue(),be(qi),qi.module("ngLocale",[],["$provide",function(e){function t(e){e+="";var t=e.indexOf(".");return-1==t?0:e.length-t-1}function n(e,n){var i=n;void 0===i&&(i=Math.min(t(e),3));var r=Math.pow(10,i),o=(e*r|0)%r;return{v:i,f:o}}var i={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,t){var r=0|e,o=n(e,t);return 1==r&&0==o.v?i.ONE:i.OTHER}})}]),void Ni(e.document).ready(function(){re(e.document,oe)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function(e,t){"use strict";function n(e,t,n){if(!e)throw me("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function i(e,t){return e||t?e?t?(V(e)&&(e=e.join(" ")),V(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function r(e){var t={};return e&&(e.to||e.from)&&(t.to=e.to,t.from=e.from),t}function o(e,t,n){var i="";return e=V(e)?e:e&&W(e)&&e.length?e.split(/\s+/):[],j(e,function(e,r){e&&e.length>0&&(i+=r>0?" ":"",i+=n?t+e:e+t)}),i}function a(e,t){var n=e.indexOf(t);t>=0&&e.splice(n,1)}function s(e){if(e instanceof L)switch(e.length){case 0:return[];case 1:if(e[0].nodeType===K)return e;break;default:return L(l(e))}return e.nodeType===K?L(e):void 0}function l(e){if(!e[0])return e;for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType==K)return n}}function u(e,t,n){j(t,function(t){e.addClass(t,n)})}function c(e,t,n){j(t,function(t){e.removeClass(t,n)})}function h(e){return function(t,n){n.addClass&&(u(e,t,n.addClass),n.addClass=null),n.removeClass&&(c(e,t,n.removeClass),n.removeClass=null)}}function d(e){if(e=e||{},!e.$$prepared){var t=e.domOperation||H;e.domOperation=function(){e.$$domOperationFired=!0,t(),t=H},e.$$prepared=!0}return e}function f(e,t){p(e,t),m(e,t)}function p(e,t){t.from&&(e.css(t.from),t.from=null)}function m(e,t){t.to&&(e.css(t.to),t.to=null)}function g(e,t,n){var i=t.options||{},r=n.options||{},o=(i.addClass||"")+" "+(r.addClass||""),a=(i.removeClass||"")+" "+(r.removeClass||""),s=v(e.attr("class"),o,a);r.preparationClasses&&(i.preparationClasses=T(r.preparationClasses,i.preparationClasses),delete r.preparationClasses);var l=i.domOperation!==H?i.domOperation:null;return F(i,r),l&&(i.domOperation=l),s.addClass?i.addClass=s.addClass:i.addClass=null,s.removeClass?i.removeClass=s.removeClass:i.removeClass=null,t.addClass=i.addClass,t.removeClass=i.removeClass,i}function v(e,t,n){function i(e){W(e)&&(e=e.split(" "));var t={};return j(e,function(e){e.length&&(t[e]=!0)}),t}var r=1,o=-1,a={};e=i(e),t=i(t),j(t,function(e,t){a[t]=r}),n=i(n),j(n,function(e,t){a[t]=a[t]===r?null:o});var s={addClass:"",removeClass:""};return j(a,function(t,n){var i,a;t===r?(i="addClass",a=!e[n]):t===o&&(i="removeClass",a=e[n]),a&&(s[i].length&&(s[i]+=" "),s[i]+=n)}),s}function y(e){return e instanceof t.element?e[0]:e}function b(e,t,n){var i="";t&&(i=o(t,Q,!0)),n.addClass&&(i=T(i,o(n.addClass,G))),n.removeClass&&(i=T(i,o(n.removeClass,J))),i.length&&(n.preparationClasses=i,e.addClass(i))}function w(e,t){t.preparationClasses&&(e.removeClass(t.preparationClasses),t.preparationClasses=null),t.activeClasses&&(e.removeClass(t.activeClasses),t.activeClasses=null)}function x(e,t){var n=t?"-"+t+"s":"";return C(e,[fe,n]),[fe,n]}function $(e,t){var n=t?"paused":"",i=N+ue;return C(e,[i,n]),[i,n]}function C(e,t){var n=t[0],i=t[1];
e.style[n]=i}function T(e,t){return e?t?e+" "+t:e:t}function _(e){return[de,e+"s"]}function k(e,t){var n=t?he:fe;return[n,e+"s"]}function S(e,t,n){var i=Object.create(null),r=e.getComputedStyle(t)||{};return j(n,function(e,t){var n=r[e];if(n){var o=n.charAt(0);("-"===o||"+"===o||o>=0)&&(n=M(n)),0===n&&(n=null),i[t]=n}}),i}function M(e){var t=0,n=e.split(/\s*,\s*/);return j(n,function(e){"s"==e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,t=t?Math.max(e,t):e}),t}function D(e){return 0===e||null!=e}function I(e,t){var n=A,i=e+"s";return t?n+=re:i+=" linear all",[n,i]}function E(){var e=Object.create(null);return{flush:function(){e=Object.create(null)},count:function(t){var n=e[t];return n?n.total:0},get:function(t){var n=e[t];return n&&n.value},put:function(t,n){e[t]?e[t].total++:e[t]={total:1,value:n}}}}function P(e,t,n){j(n,function(n){e[n]=U(e[n])?e[n]:t.style.getPropertyValue(n)})}var A,O,N,R,H=t.noop,z=t.copy,F=t.extend,L=t.element,j=t.forEach,V=t.isArray,W=t.isString,q=t.isObject,B=t.isUndefined,U=t.isDefined,Y=t.isFunction,X=t.isElement,K=1,G="-add",J="-remove",Q="ng-",Z="-active",ee="-prepare",te="ng-animate",ne="$$ngAnimateChildren",ie="";B(e.ontransitionend)&&U(e.onwebkittransitionend)?(ie="-webkit-",A="WebkitTransition",O="webkitTransitionEnd transitionend"):(A="transition",O="transitionend"),B(e.onanimationend)&&U(e.onwebkitanimationend)?(ie="-webkit-",N="WebkitAnimation",R="webkitAnimationEnd animationend"):(N="animation",R="animationend");var re="Duration",oe="Property",ae="Delay",se="TimingFunction",le="IterationCount",ue="PlayState",ce=9999,he=N+ae,de=N+re,fe=A+ae,pe=A+re,me=t.$$minErr("ng"),ge=["$$rAF",function(e){function t(e){i=i.concat(e),n()}function n(){if(i.length){for(var t=i.shift(),o=0;o<t.length;o++)t[o]();r||e(function(){r||n()})}}var i,r;return i=t.queue=[],t.waitUntilQuiet=function(t){r&&r(),r=e(function(){r=null,t(),n()})},t}],ve=["$interpolate",function(e){return{link:function(n,i,r){function o(e){e="on"===e||"true"===e,i.data(ne,e)}var a=r.ngAnimateChildren;t.isString(a)&&0===a.length?i.data(ne,!0):(o(e(a)(n)),r.$observe("ngAnimateChildren",o))}}}],ye="$$animateCss",be=1e3,we=3,xe=1.5,$e={transitionDuration:pe,transitionDelay:fe,transitionProperty:A+oe,animationDuration:de,animationDelay:he,animationIterationCount:N+le},Ce={transitionDuration:pe,transitionDelay:fe,animationDuration:de,animationDelay:he},Te=["$animateProvider",function(e){var t=E(),n=E();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(e,i,s,l,u,c,g,v){function b(e,t){var n="$$ngAnimateParentKey",i=e.parentNode,r=i[n]||(i[n]=++L);return r+"-"+e.getAttribute("class")+"-"+t}function w(n,i,r,o){var a=t.get(r);return a||(a=S(e,n,o),"infinite"===a.animationIterationCount&&(a.animationIterationCount=1)),t.put(r,a),a}function T(r,a,s,l){var u;if(t.count(s)>0&&(u=n.get(s),!u)){var c=o(a,"-stagger");i.addClass(r,c),u=S(e,r,l),u.animationDuration=Math.max(u.animationDuration,0),u.transitionDuration=Math.max(u.transitionDuration,0),i.removeClass(r,c),n.put(s,u)}return u||{}}function M(e){W.push(e),g.waitUntilQuiet(function(){t.flush(),n.flush();for(var e=u(),i=0;i<W.length;i++)W[i](e);W.length=0})}function E(e,t,n){var i=w(e,t,n,$e),r=i.animationDelay,o=i.transitionDelay;return i.maxDelay=r&&o?Math.max(r,o):r||o,i.maxDuration=Math.max(i.animationDuration*i.animationIterationCount,i.transitionDuration),i}var F=h(i),L=0,W=[];return function(e,n){function u(){g()}function h(){g(!0)}function g(t){if(!(Y||K&&X)){Y=!0,X=!1,q.$$skipPreparationClasses||i.removeClass(e,$e),i.removeClass(e,_e),$(U,!1),x(U,!1),j(ue,function(e){U.style[e[0]]=""}),F(e,q),f(e,q),Object.keys(B).length&&j(B,function(e,t){e?U.style.setProperty(t,e):U.style.removeProperty(t)}),q.onDone&&q.onDone(),fe&&fe.length&&e.off(fe.join(" "),L);var n=e.data(ye);n&&(l.cancel(n[0].timer),e.removeData(ye)),ee&&ee.complete(!t)}}function w(e){Fe.blockTransition&&x(U,e),Fe.blockKeyframeAnimation&&$(U,!!e)}function S(){return ee=new s({end:u,cancel:h}),M(H),g(),{$$willAnimate:!1,start:function(){return ee},end:u}}function L(e){e.stopPropagation();var t=e.originalEvent||e,n=t.$manualTimeStamp||Date.now(),i=parseFloat(t.elapsedTime.toFixed(we));Math.max(n-le,0)>=ie&&i>=re&&(K=!0,g())}function W(){function t(){if(!Y){if(w(!1),j(ue,function(e){var t=e[0],n=e[1];U.style[t]=n}),F(e,q),i.addClass(e,_e),Fe.recalculateTimingStyles){if(Te=U.className+" "+$e,Me=b(U,Te),He=E(U,Te,Me),ze=He.maxDelay,ne=Math.max(ze,0),re=He.maxDuration,0===re)return void g();Fe.hasTransitions=He.transitionDuration>0,Fe.hasAnimations=He.animationDuration>0}if(Fe.applyAnimationDelay&&(ze="boolean"!=typeof q.delay&&D(q.delay)?parseFloat(q.delay):ze,ne=Math.max(ze,0),He.animationDelay=ze,Le=k(ze,!0),ue.push(Le),U.style[Le[0]]=Le[1]),ie=ne*be,ae=re*be,q.easing){var t,r=q.easing;Fe.hasTransitions&&(t=A+se,ue.push([t,r]),U.style[t]=r),Fe.hasAnimations&&(t=N+se,ue.push([t,r]),U.style[t]=r)}He.transitionDuration&&fe.push(O),He.animationDuration&&fe.push(R),le=Date.now();var o=ie+xe*ae,a=le+o,s=e.data(ye)||[],u=!0;if(s.length){var c=s[0];u=a>c.expectedEndTime,u?l.cancel(c.timer):s.push(g)}if(u){var h=l(n,o,!1);s[0]={timer:h,expectedEndTime:a},s.push(g),e.data(ye,s)}fe.length&&e.on(fe.join(" "),L),q.to&&(q.cleanupStyles&&P(B,U,Object.keys(q.to)),m(e,q))}}function n(){var t=e.data(ye);if(t){for(var n=1;n<t.length;n++)t[n]();e.removeData(ye)}}if(!Y){if(!U.parentNode)return void g();var r=function(e){if(K)X&&e&&(X=!1,g());else if(X=!e,He.animationDuration){var t=$(U,X);X?ue.push(t):a(ue,t)}},o=Ne>0&&(He.transitionDuration&&0===De.transitionDuration||He.animationDuration&&0===De.animationDuration)&&Math.max(De.animationDelay,De.transitionDelay);o?l(t,Math.floor(o*Ne*be),!1):t(),te.resume=function(){r(!0)},te.pause=function(){r(!1)}}}var q=n||{};q.$$prepared||(q=d(z(q)));var B={},U=y(e);if(!U||!U.parentNode||!v.enabled())return S();var Y,X,K,ee,te,ne,ie,re,ae,le,ue=[],he=e.attr("class"),de=r(q),fe=[];if(0===q.duration||!c.animations&&!c.transitions)return S();var pe=q.event&&V(q.event)?q.event.join(" "):q.event,me=pe&&q.structural,ge="",ve="";me?ge=o(pe,Q,!0):pe&&(ge=pe),q.addClass&&(ve+=o(q.addClass,G)),q.removeClass&&(ve.length&&(ve+=" "),ve+=o(q.removeClass,J)),q.applyClassesEarly&&ve.length&&F(e,q);var $e=[ge,ve].join(" ").trim(),Te=he+" "+$e,_e=o($e,Z),ke=de.to&&Object.keys(de.to).length>0,Se=(q.keyframeStyle||"").length>0;if(!Se&&!ke&&!$e)return S();var Me,De;if(q.stagger>0){var Ie=parseFloat(q.stagger);De={transitionDelay:Ie,animationDelay:Ie,transitionDuration:0,animationDuration:0}}else Me=b(U,Te),De=T(U,$e,Me,Ce);q.$$skipPreparationClasses||i.addClass(e,$e);var Ee;if(q.transitionStyle){var Pe=[A,q.transitionStyle];C(U,Pe),ue.push(Pe)}if(q.duration>=0){Ee=U.style[A].length>0;var Ae=I(q.duration,Ee);C(U,Ae),ue.push(Ae)}if(q.keyframeStyle){var Oe=[N,q.keyframeStyle];C(U,Oe),ue.push(Oe)}var Ne=De?q.staggerIndex>=0?q.staggerIndex:t.count(Me):0,Re=0===Ne;Re&&!q.skipBlocking&&x(U,ce);var He=E(U,Te,Me),ze=He.maxDelay;ne=Math.max(ze,0),re=He.maxDuration;var Fe={};if(Fe.hasTransitions=He.transitionDuration>0,Fe.hasAnimations=He.animationDuration>0,Fe.hasTransitionAll=Fe.hasTransitions&&"all"==He.transitionProperty,Fe.applyTransitionDuration=ke&&(Fe.hasTransitions&&!Fe.hasTransitionAll||Fe.hasAnimations&&!Fe.hasTransitions),Fe.applyAnimationDuration=q.duration&&Fe.hasAnimations,Fe.applyTransitionDelay=D(q.delay)&&(Fe.applyTransitionDuration||Fe.hasTransitions),Fe.applyAnimationDelay=D(q.delay)&&Fe.hasAnimations,Fe.recalculateTimingStyles=ve.length>0,(Fe.applyTransitionDuration||Fe.applyAnimationDuration)&&(re=q.duration?parseFloat(q.duration):re,Fe.applyTransitionDuration&&(Fe.hasTransitions=!0,He.transitionDuration=re,Ee=U.style[A+oe].length>0,ue.push(I(re,Ee))),Fe.applyAnimationDuration&&(Fe.hasAnimations=!0,He.animationDuration=re,ue.push(_(re)))),0===re&&!Fe.recalculateTimingStyles)return S();if(null!=q.delay){var Le;"boolean"!=typeof q.delay&&(Le=parseFloat(q.delay),ne=Math.max(Le,0)),Fe.applyTransitionDelay&&ue.push(k(Le)),Fe.applyAnimationDelay&&ue.push(k(Le,!0))}return null==q.duration&&He.transitionDuration>0&&(Fe.recalculateTimingStyles=Fe.recalculateTimingStyles||Re),ie=ne*be,ae=re*be,q.skipBlocking||(Fe.blockTransition=He.transitionDuration>0,Fe.blockKeyframeAnimation=He.animationDuration>0&&De.animationDelay>0&&0===De.animationDuration),q.from&&(q.cleanupStyles&&P(B,U,Object.keys(q.from)),p(e,q)),Fe.blockTransition||Fe.blockKeyframeAnimation?w(re):q.skipBlocking||x(U,!1),{$$willAnimate:!0,end:u,start:function(){return Y?void 0:(te={end:u,cancel:h,resume:null,pause:null},ee=new s(te),M(W),ee)}}}}]}],_e=["$$animationProvider",function(e){function t(e){return e.parentNode&&11===e.parentNode.nodeType}e.drivers.push("$$animateCssDriver");var n="ng-animate-shim",i="ng-anchor",r="ng-anchor-out",o="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(e,a,s,l,u,c,d){function f(e){return e.replace(/\bng-\S+\b/g,"")}function p(e,t){return W(e)&&(e=e.split(" ")),W(t)&&(t=t.split(" ")),e.filter(function(e){return-1===t.indexOf(e)}).join(" ")}function m(t,a,l){function u(e){var t={},n=y(e).getBoundingClientRect();return j(["width","height","top","left"],function(e){var i=n[e];switch(e){case"top":i+=b.scrollTop;break;case"left":i+=b.scrollLeft}t[e]=Math.floor(i)+"px"}),t}function c(){var t=e(g,{addClass:r,delay:!0,from:u(a)});return t.$$willAnimate?t:null}function h(e){return e.attr("class")||""}function d(){var t=f(h(l)),n=p(t,v),i=p(v,t),a=e(g,{to:u(l),addClass:o+" "+n,removeClass:r+" "+i,delay:!0});return a.$$willAnimate?a:null}function m(){g.remove(),a.removeClass(n),l.removeClass(n)}var g=L(y(a).cloneNode(!0)),v=f(h(g));a.addClass(n),l.addClass(n),g.addClass(i),x.append(g);var w,$=c();if(!$&&(w=d(),!w))return m();var C=$||w;return{start:function(){function e(){n&&n.end()}var t,n=C.start();return n.done(function(){return n=null,!w&&(w=d())?(n=w.start(),n.done(function(){n=null,m(),t.complete()}),n):(m(),void t.complete())}),t=new s({end:e,cancel:e})}}}function g(e,t,n,i){var r=v(e,H),o=v(t,H),a=[];return j(i,function(e){var t=e.out,i=e["in"],r=m(n,t,i);r&&a.push(r)}),r||o||0!==a.length?{start:function(){function e(){j(t,function(e){e.end()})}var t=[];r&&t.push(r.start()),o&&t.push(o.start()),j(a,function(e){t.push(e.start())});var n=new s({end:e,cancel:e});return s.all(t,function(e){n.complete(e)}),n}}:void 0}function v(t){var n=t.element,i=t.options||{};t.structural&&(i.event=t.event,i.structural=!0,i.applyClassesEarly=!0,"leave"===t.event&&(i.onDone=i.domOperation)),i.preparationClasses&&(i.event=T(i.event,i.preparationClasses));var r=e(n,i);return r.$$willAnimate?r:null}if(!u.animations&&!u.transitions)return H;var b=d[0].body,w=y(l),x=L(t(w)||b.contains(w)?w:b);h(c);return function(e){return e.from&&e.to?g(e.from,e.to,e.classes,e.anchors):v(e)}}]}],ke=["$animateProvider",function(e){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(t,n,i){function r(n){n=V(n)?n:n.split(" ");for(var i=[],r={},o=0;o<n.length;o++){var a=n[o],s=e.$$registeredAnimations[a];s&&!r[a]&&(i.push(t.get(s)),r[a]=!0)}return i}var o=h(i);return function(e,t,i,a){function s(){a.domOperation(),o(e,a)}function l(){p=!0,s(),f(e,a)}function u(e,t,i,r,o){var a;switch(i){case"animate":a=[t,r.from,r.to,o];break;case"setClass":a=[t,v,y,o];break;case"addClass":a=[t,v,o];break;case"removeClass":a=[t,y,o];break;default:a=[t,o]}a.push(r);var s=e.apply(e,a);if(s)if(Y(s.start)&&(s=s.start()),s instanceof n)s.done(o);else if(Y(s))return s;return H}function c(e,t,i,r,o){var a=[];return j(r,function(r){var s=r[o];s&&a.push(function(){var r,o,a=!1,l=function(e){a||(a=!0,(o||H)(e),r.complete(!e))};return r=new n({end:function(){l()},cancel:function(){l(!0)}}),o=u(s,e,t,i,function(e){var t=e===!1;l(t)}),r})}),a}function h(e,t,i,r,o){var a=c(e,t,i,r,o);if(0===a.length){var s,l;"beforeSetClass"===o?(s=c(e,"removeClass",i,r,"beforeRemoveClass"),l=c(e,"addClass",i,r,"beforeAddClass")):"setClass"===o&&(s=c(e,"removeClass",i,r,"removeClass"),l=c(e,"addClass",i,r,"addClass")),s&&(a=a.concat(s)),l&&(a=a.concat(l))}if(0!==a.length)return function(e){var t=[];return a.length&&j(a,function(e){t.push(e())}),t.length?n.all(t,e):e(),function(e){j(t,function(t){e?t.cancel():t.end()})}}}var p=!1;3===arguments.length&&q(i)&&(a=i,i=null),a=d(a),i||(i=e.attr("class")||"",a.addClass&&(i+=" "+a.addClass),a.removeClass&&(i+=" "+a.removeClass));var m,g,v=a.addClass,y=a.removeClass,b=r(i);if(b.length){var w,x;"leave"==t?(x="leave",w="afterLeave"):(x="before"+t.charAt(0).toUpperCase()+t.substr(1),w=t),"enter"!==t&&"move"!==t&&(m=h(e,t,a,b,x)),g=h(e,t,a,b,w)}if(m||g){var $;return{$$willAnimate:!0,end:function(){return $?$.end():(l(),$=new n,$.complete(!0)),$},start:function(){function e(e){l(e),$.complete(e)}function t(t){p||((i||H)(t),e(t))}if($)return $;$=new n;var i,r=[];return m&&r.push(function(e){i=m(e)}),r.length?r.push(function(e){s(),e(!0)}):s(),g&&r.push(function(e){i=g(e)}),$.setHost({end:function(){t()},cancel:function(){t(!0)}}),n.chain(r,e),$}}}}}]}],Se=["$$animationProvider",function(e){e.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(e,t){function n(t){var n=t.element,i=t.event,r=t.options,o=t.classes;return e(n,i,o,r)}return function(e){if(e.from&&e.to){var i=n(e.from),r=n(e.to);if(!i&&!r)return;return{start:function(){function e(){return function(){j(o,function(e){e.end()})}}function n(e){a.complete(e)}var o=[];i&&o.push(i.start()),r&&o.push(r.start()),t.all(o,n);var a=new t({end:e(),cancel:e()});return a}}}return n(e)}}]}],Me="data-ng-animate",De="$ngAnimatePin",Ie=["$animateProvider",function(i){function r(e){if(!e)return null;var t=e.split(m),n=Object.create(null);return j(t,function(e){n[e]=!0}),n}function o(e,t){if(e&&t){var n=r(t);return e.split(m).some(function(e){return n[e]})}}function a(e,t,n,i){return v[e].some(function(e){return e(t,n,i)})}function u(e,t){var n=(e.addClass||"").length>0,i=(e.removeClass||"").length>0;return t?n&&i:n||i}var c=1,p=2,m=" ",v=this.rules={skip:[],cancel:[],join:[]};v.join.push(function(e,t,n){return!t.structural&&u(t)}),v.skip.push(function(e,t,n){return!t.structural&&!u(t)}),v.skip.push(function(e,t,n){return"leave"==n.event&&t.structural}),v.skip.push(function(e,t,n){return n.structural&&n.state===p&&!t.structural}),v.cancel.push(function(e,t,n){return n.structural&&t.structural}),v.cancel.push(function(e,t,n){return n.state===p&&t.structural}),v.cancel.push(function(e,t,n){if(n.structural)return!1;var i=t.addClass,r=t.removeClass,a=n.addClass,s=n.removeClass;return B(i)&&B(r)||B(a)&&B(s)?!1:o(i,s)||o(r,a)}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function(r,o,m,v,x,$,C,T,_,k){function S(){var e=!1;return function(t){e?t():o.$$postDigest(function(){e=!0,t()})}}function M(e,t){return g(e,t,{})}function D(e,t,n){var i=y(t),r=y(e),o=[],a=Z[n];return a&&j(a,function(e){re.call(e.node,i)?o.push(e.callback):"leave"===n&&re.call(e.node,r)&&o.push(e.callback)}),o}function I(e,t,n){var i=l(t);return e.filter(function(e){var t=e.node===i&&(!n||e.callback===n);return!t})}function E(e,t){"close"!==e||t[0].parentNode||oe.off(t)}function P(e,t,n){function i(t,n,i,o){_(function(){var t=D(m,e,n);t.length?r(function(){j(t,function(t){t(e,i,o)}),E(i,e)}):E(i,e)}),t.progress(n,i,o)}function l(t){w(e,x),ie(e,x),f(e,x),x.domOperation(),T.complete(!t)}var h,m,x=z(n);e=s(e),e&&(h=y(e),m=e.parent()),x=d(x);var T=new C,_=S();if(V(x.addClass)&&(x.addClass=x.addClass.join(" ")),x.addClass&&!W(x.addClass)&&(x.addClass=null),V(x.removeClass)&&(x.removeClass=x.removeClass.join(" ")),x.removeClass&&!W(x.removeClass)&&(x.removeClass=null),x.from&&!q(x.from)&&(x.from=null),x.to&&!q(x.to)&&(x.to=null),!h)return l(),T;var k=[h.className,x.addClass,x.removeClass].join(" ");if(!te(k))return l(),T;var I=["enter","move","leave"].indexOf(t)>=0,P=v[0].hidden,N=!J||P||G.get(h),F=!N&&Y.get(h)||{},L=!!F.state;if(N||L&&F.state==c||(N=!R(e,m,t)),N)return P&&i(T,t,"start"),l(),P&&i(T,t,"close"),T;I&&A(e);var B={structural:I,element:e,event:t,addClass:x.addClass,removeClass:x.removeClass,close:l,options:x,runner:T};if(L){var U=a("skip",e,B,F);if(U)return F.state===p?(l(),T):(g(e,F,B),F.runner);var X=a("cancel",e,B,F);if(X)if(F.state===p)F.runner.end();else{if(!F.structural)return g(e,F,B),F.runner;F.close()}else{var K=a("join",e,B,F);if(K){if(F.state!==p)return b(e,I?t:null,x),t=B.event=F.event,x=g(e,F,B),F.runner;M(e,B)}}}else M(e,B);var Q=B.structural;if(Q||(Q="animate"===B.event&&Object.keys(B.options.to||{}).length>0||u(B)),!Q)return l(),O(e),T;var Z=(F.counter||0)+1;return B.counter=Z,H(e,c,B),o.$$postDigest(function(){var n=Y.get(h),r=!n;n=n||{};var o=e.parent()||[],a=o.length>0&&("animate"===n.event||n.structural||u(n));if(r||n.counter!==Z||!a)return r&&(ie(e,x),f(e,x)),(r||I&&n.event!==t)&&(x.domOperation(),T.end()),void(a||O(e));t=!n.structural&&u(n,!0)?"setClass":n.event,H(e,p);var s=$(e,t,n.options);T.setHost(s),i(T,t,"start",{}),s.done(function(n){l(!n);var r=Y.get(h);r&&r.counter===Z&&O(y(e)),i(T,t,"close",{})})}),T}function A(e){var t=y(e),n=t.querySelectorAll("["+Me+"]");j(n,function(e){var t=parseInt(e.getAttribute(Me)),n=Y.get(e);if(n)switch(t){case p:n.runner.end();case c:Y.remove(e)}})}function O(e){var t=y(e);t.removeAttribute(Me),Y.remove(t)}function N(e,t){return y(e)===y(t)}function R(e,t,n){var i,r=L(v[0].body),o=N(e,r)||"HTML"===e[0].nodeName,a=N(e,m),s=!1,l=G.get(y(e)),u=L.data(e[0],De);for(u&&(t=u),t=y(t);t&&(a||(a=N(t,m)),t.nodeType===K);){var c=Y.get(t)||{};if(!s){var h=G.get(t);if(h===!0&&l!==!1){l=!0;break}h===!1&&(l=!1),s=c.structural}if(B(i)||i===!0){var d=L.data(t,ne);U(d)&&(i=d)}if(s&&i===!1)break;if(o||(o=N(t,r)),o&&a)break;t=a||!(u=L.data(t,De))?t.parentNode:y(u)}var f=(!s||i)&&l!==!0;return f&&a&&o}function H(e,t,n){n=n||{},n.state=t;var i=y(e);i.setAttribute(Me,t);var r=Y.get(i),o=r?F(r,n):n;Y.put(i,o)}var Y=new x,G=new x,J=null,Q=o.$watch(function(){return 0===T.totalPendingRequests},function(e){e&&(Q(),o.$$postDigest(function(){o.$$postDigest(function(){null===J&&(J=!0)})}))}),Z={},ee=i.classNameFilter(),te=ee?function(e){return ee.test(e)}:function(){return!0},ie=h(_),re=e.Node.prototype.contains||function(e){return this===e||!!(16&this.compareDocumentPosition(e))},oe={on:function(e,t,n){var i=l(t);Z[e]=Z[e]||[],Z[e].push({node:i,callback:n}),L(t).on("$destroy",function(){var r=Y.get(i);r||oe.off(e,t,n)})},off:function(e,n,i){if(1!==arguments.length||t.isString(arguments[0])){var r=Z[e];r&&(Z[e]=1===arguments.length?null:I(r,n,i))}else{n=arguments[0];for(var o in Z)Z[o]=I(Z[o],n)}},pin:function(e,t){n(X(e),"element","not an element"),n(X(t),"parentElement","not an element"),e.data(De,t)},push:function(e,t,n,i){return n=n||{},n.domOperation=i,P(e,t,n)},enabled:function(e,t){var n=arguments.length;if(0===n)t=!!J;else{var i=X(e);if(i){var r=y(e),o=G.get(r);1===n?t=!o:G.put(r,!t)}else t=J=!!e}return t}};return oe}]}],Ee=["$animateProvider",function(e){function t(e,t){e.data(s,t)}function n(e){e.removeData(s)}function r(e){return e.data(s)}var o="ng-animate-ref",a=this.drivers=[],s="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(e,s,l,u,c,p){function m(e){function t(e){if(e.processed)return e;e.processed=!0;var n=e.domNode,i=n.parentNode;o.put(n,e);for(var a;i;){if(a=o.get(i)){a.processed||(a=t(a));break}i=i.parentNode}return(a||r).children.push(e),e}function n(e){var t,n=[],i=[];for(t=0;t<e.children.length;t++)i.push(e.children[t]);var r=i.length,o=0,a=[];for(t=0;t<i.length;t++){var s=i[t];0>=r&&(r=o,o=0,n.push(a),a=[]),a.push(s.fn),s.children.forEach(function(e){o++,i.push(e)}),r--}return a.length&&n.push(a),n}var i,r={children:[]},o=new c;for(i=0;i<e.length;i++){var a=e[i];o.put(a.domNode,e[i]={domNode:a.domNode,fn:a.fn,children:[]})}for(i=0;i<e.length;i++)t(e[i]);return n(r)}var g=[],v=h(e);return function(c,h,b){function w(e){var t="["+o+"]",n=e.hasAttribute(o)?[e]:e.querySelectorAll(t),i=[];return j(n,function(e){var t=e.getAttribute(o);t&&t.length&&i.push(e)}),i}function x(e){var t=[],n={};j(e,function(e,i){var r=e.element,a=y(r),s=e.event,l=["enter","move"].indexOf(s)>=0,u=e.structural?w(a):[];if(u.length){var c=l?"to":"from";j(u,function(e){var t=e.getAttribute(o);n[t]=n[t]||{},n[t][c]={animationID:i,element:L(e)}})}else t.push(e)});var i={},r={};return j(n,function(n,o){var a=n.from,s=n.to;if(!a||!s){var l=a?a.animationID:s.animationID,u=l.toString();return void(i[u]||(i[u]=!0,t.push(e[l])))}var c=e[a.animationID],h=e[s.animationID],d=a.animationID.toString();if(!r[d]){var f=r[d]={structural:!0,beforeStart:function(){c.beforeStart(),h.beforeStart()},close:function(){c.close(),h.close()},classes:$(c.classes,h.classes),from:c,to:h,anchors:[]};f.classes.length?t.push(f):(t.push(c),t.push(h))}r[d].anchors.push({out:a.element,"in":s.element})}),t}function $(e,t){e=e.split(" "),t=t.split(" ");for(var n=[],i=0;i<e.length;i++){var r=e[i];if("ng-"!==r.substring(0,3))for(var o=0;o<t.length;o++)if(r===t[o]){n.push(r);break}}return n.join(" ")}function C(e){for(var t=a.length-1;t>=0;t--){var n=a[t];if(l.has(n)){var i=l.get(n),r=i(e);if(r)return r}}}function T(){c.addClass(te),E&&e.addClass(c,E),P&&(e.removeClass(c,P),P=null)}function _(e,t){function n(e){r(e).setHost(t)}e.from&&e.to?(n(e.from.element),n(e.to.element)):n(e.element)}function k(){var e=r(c);!e||"leave"===h&&b.$$domOperationFired||e.end()}function S(t){c.off("$destroy",k),n(c),v(c,b),f(c,b),b.domOperation(),E&&e.removeClass(c,E),c.removeClass(te),D.complete(!t)}b=d(b);var M=["enter","move","leave"].indexOf(h)>=0,D=new u({end:function(){S()},cancel:function(){S(!0)}});if(!a.length)return S(),D;t(c,D);var I=i(c.attr("class"),i(b.addClass,b.removeClass)),E=b.tempClasses;E&&(I+=" "+E,b.tempClasses=null);var P;return M&&(P="ng-"+h+ee,e.addClass(c,P)),g.push({element:c,classes:I,event:h,structural:M,options:b,beforeStart:T,close:S}),c.on("$destroy",k),g.length>1?D:(s.$$postDigest(function(){var e=[];j(g,function(t){r(t.element)?e.push(t):t.close()}),g.length=0;var t=x(e),n=[];j(t,function(e){n.push({domNode:y(e.from?e.from.element:e.element),fn:function(){e.beforeStart();var t,n=e.close,i=e.anchors?e.from.element||e.to.element:e.element;if(r(i)){var o=C(e);o&&(t=o.start)}if(t){var a=t();a.done(function(e){n(!e)}),_(e,a)}else n()}})}),p(m(n))}),D)}}]}],Pe=["$animate","$rootScope",function(e,t){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(t,n,i,r,o){var a,s;t.$watchCollection(i.ngAnimateSwap||i["for"],function(i){a&&e.leave(a),s&&(s.$destroy(),s=null),(i||0===i)&&(s=t.$new(),o(s,function(t){a=t,e.enter(t,null,n)}))})}}}];t.module("ngAnimate",[]).directive("ngAnimateSwap",Pe).directive("ngAnimateChildren",ve).factory("$$rAFScheduler",ge).provider("$$animateQueue",Ie).provider("$$animation",Ee).provider("$animateCss",Te).provider("$$animateCssDriver",_e).provider("$$animateJs",ke).provider("$$animateJsDriver",Se)}(window,window.angular),function(e,t){"use strict";function n(e){return null!=e&&""!==e&&"hasOwnProperty"!==e&&a.test("."+e)}function i(e,i){if(!n(i))throw o("badmember",'Dotted member path "@{0}" is invalid.',i);for(var r=i.split("."),a=0,s=r.length;s>a&&t.isDefined(e);a++){var l=r[a];e=null!==e?e[l]:void 0}return e}function r(e,n){n=n||{},t.forEach(n,function(e,t){delete n[t]});for(var i in e)!e.hasOwnProperty(i)||"$"===i.charAt(0)&&"$"===i.charAt(1)||(n[i]=e[i]);return n}var o=t.$$minErr("$resource"),a=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;t.module("ngResource",["ng"]).provider("$resource",function(){var e=/^https?:\/\/[^\/]*/,n=this;this.defaults={stripTrailingSlashes:!0,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}},this.$get=["$http","$log","$q","$timeout",function(a,s,l,u){function c(e){return h(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function h(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}function d(e,t){this.template=e,this.defaults=g({},n.defaults,t),this.urlParams={}}function f(e,c,h,b){function w(e,t){var n={};return t=g({},c,t),m(t,function(t,r){y(t)&&(t=t()),n[r]=t&&t.charAt&&"@"==t.charAt(0)?i(e,t.substr(1)):t}),n}function x(e){return e.resource}function $(e){r(e||{},this)}var C=new d(e,b);return h=g({},n.defaults.actions,h),$.prototype.toJSON=function(){var e=g({},this);return delete e.$promise,delete e.$resolved,e},m(h,function(e,i){var c=/^(POST|PUT|PATCH)$/i.test(e.method),h=e.timeout,d=t.isDefined(e.cancellable)?e.cancellable:b&&t.isDefined(b.cancellable)?b.cancellable:n.defaults.cancellable;h&&!t.isNumber(h)&&(s.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests. If you are looking for a way to cancel requests, you should use the `cancellable` option."),delete e.timeout,h=null),$[i]=function(n,s,f,b){var T,_,k,S={};switch(arguments.length){case 4:k=b,_=f;case 3:case 2:if(!y(s)){S=n,T=s,_=f;break}if(y(n)){_=n,k=s;break}_=s,k=f;case 1:y(n)?_=n:c?T=n:S=n;break;case 0:break;default:throw o("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var M,D,I=this instanceof $,E=I?T:e.isArray?[]:new $(T),P={},A=e.interceptor&&e.interceptor.response||x,O=e.interceptor&&e.interceptor.responseError||void 0;m(e,function(e,t){switch(t){default:P[t]=v(e);break;case"params":case"isArray":case"interceptor":case"cancellable":}}),!I&&d&&(M=l.defer(),P.timeout=M.promise,h&&(D=u(M.resolve,h))),c&&(P.data=T),C.setUrlParams(P,g({},w(T,e.params||{}),S),e.url);var N=a(P).then(function(n){var a=n.data;if(a){if(t.isArray(a)!==!!e.isArray)throw o("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})",i,e.isArray?"array":"object",t.isArray(a)?"array":"object",P.method,P.url);if(e.isArray)E.length=0,m(a,function(e){"object"==typeof e?E.push(new $(e)):E.push(e)});else{var s=E.$promise;r(a,E),E.$promise=s}}return n.resource=E,n},function(e){return(k||p)(e),l.reject(e)});return N["finally"](function(){E.$resolved=!0,!I&&d&&(E.$cancelRequest=t.noop,u.cancel(D),M=D=P.timeout=null)}),N=N.then(function(e){var t=A(e);return(_||p)(t,e.headers),t},O),I?N:(E.$promise=N,E.$resolved=!1,d&&(E.$cancelRequest=M.resolve),E)},$.prototype["$"+i]=function(e,t,n){y(e)&&(n=t,t=e,e={});var r=$[i].call(this,e,this,t,n);return r.$promise||r}}),$.bind=function(t){return f(e,g({},c,t),h)},$}var p=t.noop,m=t.forEach,g=t.extend,v=t.copy,y=t.isFunction;return d.prototype={setUrlParams:function(n,i,r){var a,s,l=this,u=r||l.template,d="",f=l.urlParams={};m(u.split(/\W/),function(e){if("hasOwnProperty"===e)throw o("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(e)&&e&&new RegExp("(^|[^\\\\]):"+e+"(\\W|$)").test(u)&&(f[e]={isQueryParamValue:new RegExp("\\?.*=:"+e+"(?:\\W|$)").test(u)})}),u=u.replace(/\\:/g,":"),u=u.replace(e,function(e){return d=e,""}),i=i||{},m(l.urlParams,function(e,n){a=i.hasOwnProperty(n)?i[n]:l.defaults[n],t.isDefined(a)&&null!==a?(s=e.isQueryParamValue?h(a,!0):c(a),u=u.replace(new RegExp(":"+n+"(\\W|$)","g"),function(e,t){return s+t})):u=u.replace(new RegExp("(/?):"+n+"(\\W|$)","g"),function(e,t,n){return"/"==n.charAt(0)?n:t+n})}),l.defaults.stripTrailingSlashes&&(u=u.replace(/\/+$/,"")||"/"),u=u.replace(/\/\.(?=\w+($|\?))/,"."),n.url=d+u.replace(/\/\\\./,"/."),m(i,function(e,t){l.urlParams[t]||(n.params=n.params||{},n.params[t]=e)})}},f}]})}(window,window.angular),function(e,t){"use strict";function n(){var e=!1;this.$get=["$$sanitizeUri",function(n){return e&&t.extend($,w),function(e){var t=[];return o(e,l(t,function(e,t){return!/^unsafe:/.test(n(e,t))})),t.join("")}}],this.enableSvg=function(n){return t.isDefined(n)?(e=n,this):e}}function i(e){var n=[],i=l(n,t.noop);return i.chars(e),n.join("")}function r(e,n){var i,r={},o=e.split(",");for(i=0;i<o.length;i++)r[n?t.lowercase(o[i]):o[i]]=!0;return r}function o(t,n){null===t||void 0===t?t="":"string"!=typeof t&&(t=""+t),c.innerHTML=t;var i=5;do{if(0===i)throw h("uinput","Failed to sanitize html because the input is unstable");i--,e.document.documentMode&&u(c),t=c.innerHTML,c.innerHTML=t}while(t!==c.innerHTML);for(var r=c.firstChild;r;){switch(r.nodeType){case 1:n.start(r.nodeName.toLowerCase(),a(r.attributes));break;case 3:n.chars(r.textContent)}var o;if(!(o=r.firstChild)&&(1==r.nodeType&&n.end(r.nodeName.toLowerCase()),o=r.nextSibling,!o))for(;null==o&&(r=r.parentNode,r!==c);)o=r.nextSibling,1==r.nodeType&&n.end(r.nodeName.toLowerCase());r=o}for(;r=c.firstChild;)c.removeChild(r)}function a(e){for(var t={},n=0,i=e.length;i>n;n++){var r=e[n];t[r.name]=r.value}return t}function s(e){return e.replace(/&/g,"&amp;").replace(d,function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(n-56320)+65536)+";"}).replace(f,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function l(e,n){var i=!1,r=t.bind(e,e.push);return{start:function(e,o){e=t.lowercase(e),!i&&x[e]&&(i=e),i||$[e]!==!0||(r("<"),r(e),t.forEach(o,function(i,o){var a=t.lowercase(o),l="img"===e&&"src"===a||"background"===a;k[a]!==!0||C[a]===!0&&!n(i,l)||(r(" "),r(o),r('="'),r(s(i)),r('"'))}),r(">"))},end:function(e){e=t.lowercase(e),i||$[e]!==!0||p[e]===!0||(r("</"),r(e),r(">")),e==i&&(i=!1)},chars:function(e){i||r(s(e))}}}function u(t){if(t.nodeType===e.Node.ELEMENT_NODE)for(var n=t.attributes,i=0,r=n.length;r>i;i++){var o=n[i],a=o.name.toLowerCase();"xmlns:ns1"!==a&&0!==a.indexOf("ns1:")||(t.removeAttributeNode(o),i--,r--)}var s=t.firstChild;s&&u(s),s=t.nextSibling,s&&u(s)}var c,h=t.$$minErr("$sanitize"),d=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,f=/([^\#-~ |!])/g,p=r("area,br,col,hr,img,wbr"),m=r("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),g=r("rp,rt"),v=t.extend({},g,m),y=t.extend({},m,r("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),b=t.extend({},g,r("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),w=r("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),x=r("script,style"),$=t.extend({},p,y,b,v),C=r("background,cite,href,longdesc,src,xlink:href"),T=r("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),_=r("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),k=t.extend({},C,_,T);
!function(e){var t;if(!e.document||!e.document.implementation)throw h("noinert","Can't create an inert html document");t=e.document.implementation.createHTMLDocument("inert");var n=t.documentElement||t.getDocumentElement(),i=n.getElementsByTagName("body");if(1===i.length)c=i[0];else{var r=t.createElement("html");c=t.createElement("body"),r.appendChild(c),t.appendChild(r)}}(e),t.module("ngSanitize",[]).provider("$sanitize",n),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,r=/^mailto:/i,o=t.$$minErr("linky"),a=t.isString;return function(s,l,u){function c(e){e&&g.push(i(e))}function h(e,n){var i;if(g.push("<a "),t.isFunction(u)&&(u=u(e)),t.isObject(u))for(i in u)g.push(i+'="'+u[i]+'" ');else u={};!t.isDefined(l)||"target"in u||g.push('target="',l,'" '),g.push('href="',e.replace(/"/g,"&quot;"),'">'),c(n),g.push("</a>")}if(null==s||""===s)return s;if(!a(s))throw o("notstring","Expected string but received: {0}",s);for(var d,f,p,m=s,g=[];d=m.match(n);)f=d[0],d[2]||d[4]||(f=(d[3]?"http://":"mailto:")+f),p=d.index,c(m.substr(0,p)),h(f,d[0].replace(r,"")),m=m.substring(p+d[0].length);return c(m),e(g.join(""))}}])}(window,window.angular),function(){function e(e,t){return e.set(t[0],t[1]),e}function t(e,t){return e.add(t),e}function n(e,t,n){var i=n.length;switch(i){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function i(e,t,n,i){for(var r=-1,o=e.length;++r<o;){var a=e[r];t(i,a,n(a),e)}return i}function r(e,t){for(var n=-1,i=e.length,r=-1,o=t.length,a=Array(i+o);++n<i;)a[n]=e[n];for(;++r<o;)a[n++]=t[r];return a}function o(e,t){for(var n=-1,i=e.length;++n<i&&t(e[n],n,e)!==!1;);return e}function a(e,t){for(var n=e.length;n--&&t(e[n],n,e)!==!1;);return e}function s(e,t){for(var n=-1,i=e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function l(e,t){for(var n=-1,i=e.length,r=0,o=[];++n<i;){var a=e[n];t(a,n,e)&&(o[r++]=a)}return o}function u(e,t){return!!e.length&&y(e,t,0)>-1}function c(e,t,n){for(var i=-1,r=e.length;++i<r;)if(n(t,e[i]))return!0;return!1}function h(e,t){for(var n=-1,i=e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}function d(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}function f(e,t,n,i){var r=-1,o=e.length;for(i&&o&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n}function p(e,t,n,i){var r=e.length;for(i&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}function m(e,t){for(var n=-1,i=e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}function g(e,t,n,i){var r;return n(e,function(e,n,o){return t(e,n,o)?(r=i?n:e,!1):void 0}),r}function v(e,t,n){for(var i=e.length,r=n?i:-1;n?r--:++r<i;)if(t(e[r],r,e))return r;return-1}function y(e,t,n){if(t!==t)return N(e,n);for(var i=n-1,r=e.length;++i<r;)if(e[i]===t)return i;return-1}function b(e,t,n,i){for(var r=n-1,o=e.length;++r<o;)if(i(e[r],t))return r;return-1}function w(e,t){var n=e?e.length:0;return n?C(e,t)/n:be}function x(e,t,n,i,r){return r(e,function(e,r,o){n=i?(i=!1,e):t(n,e,r,o)}),n}function $(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function C(e,t){for(var n,i=-1,r=e.length;++i<r;){var o=t(e[i]);o!==B&&(n=n===B?o:n+o)}return n}function T(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function _(e,t){return h(t,function(t){return[t,e[t]]})}function k(e){return function(t){return e(t)}}function S(e,t){return h(t,function(t){return e[t]})}function M(e,t){for(var n=-1,i=e.length;++n<i&&y(t,e[n],0)>-1;);return n}function D(e,t){for(var n=e.length;n--&&y(t,e[n],0)>-1;);return n}function I(e){return e&&e.Object===Object?e:null}function E(e,t){for(var n=e.length,i=0;n--;)e[n]===t&&i++;return i}function P(e){return $n[e]}function A(e){return Cn[e]}function O(e){return"\\"+kn[e]}function N(e,t,n){for(var i=e.length,r=t+(n?0:-1);n?r--:++r<i;){var o=e[r];if(o!==o)return r}return-1}function R(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function H(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function z(e){var t=-1,n=Array(e.size);return e.forEach(function(e,i){n[++t]=[i,e]}),n}function F(e,t){for(var n=-1,i=e.length,r=0,o=[];++n<i;){var a=e[n];a!==t&&a!==G||(e[n]=G,o[r++]=n)}return o}function L(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function j(e){if(!e||!gn.test(e))return e.length;for(var t=pn.lastIndex=0;pn.test(e);)t++;return t}function V(e){return e.match(pn)}function W(e){return Tn[e]}function q(I){function Mt(e){if(us(e)&&!eh(e)&&!(e instanceof Et)){if(e instanceof It)return e;if(pu.call(e,"__wrapped__"))return to(e)}return new It(e)}function Dt(){}function It(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=B}function Et(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=we,this.__views__=[]}function Pt(){var e=new Et(this.__wrapped__);return e.__actions__=Gi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Gi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Gi(this.__views__),e}function At(){if(this.__filtered__){var e=new Et(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Ot(){var e=this.__wrapped__.value(),t=this.__dir__,n=eh(e),i=0>t,r=n?e.length:0,o=Ar(0,r,this.__views__),a=o.start,s=o.end,l=s-a,u=i?s:a-1,c=this.__iteratees__,h=c.length,d=0,f=Fu(l,this.__takeCount__);if(!n||Y>r||r==l&&f==l)return Ei(e,this.__actions__);var p=[];e:for(;l--&&f>d;){u+=t;for(var m=-1,g=e[u];++m<h;){var v=c[m],y=v.iteratee,b=v.type,w=y(g);if(b==pe)g=w;else if(!w){if(b==fe)continue e;break e}}p[d++]=g}return p}function Nt(){}function Rt(e,t){return zt(e,t)&&delete e[t]}function Ht(e,t){if(Gu){var n=e[t];return n===K?B:n}return pu.call(e,t)?e[t]:B}function zt(e,t){return Gu?e[t]!==B:pu.call(e,t)}function Ft(e,t,n){e[t]=Gu&&n===B?K:n}function Lt(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function jt(){this.__data__={hash:new Nt,map:Uu?new Uu:[],string:new Nt}}function Vt(e){var t=this.__data__;return qr(e)?Rt("string"==typeof e?t.string:t.hash,e):Uu?t.map["delete"](e):tn(t.map,e)}function Wt(e){var t=this.__data__;return qr(e)?Ht("string"==typeof e?t.string:t.hash,e):Uu?t.map.get(e):nn(t.map,e)}function qt(e){var t=this.__data__;return qr(e)?zt("string"==typeof e?t.string:t.hash,e):Uu?t.map.has(e):rn(t.map,e)}function Bt(e,t){var n=this.__data__;return qr(e)?Ft("string"==typeof e?n.string:n.hash,e,t):Uu?n.map.set(e,t):an(n.map,e,t),this}function Ut(e){var t=-1,n=e?e.length:0;for(this.__data__=new Lt;++t<n;)this.push(e[t])}function Yt(e,t){var n=e.__data__;if(qr(t)){var i=n.__data__,r="string"==typeof t?i.string:i.hash;return r[t]===K}return n.has(t)}function Xt(e){var t=this.__data__;if(qr(e)){var n=t.__data__,i="string"==typeof e?n.string:n.hash;i[e]=K}else t.set(e,K)}function Kt(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Gt(){this.__data__={array:[],map:null}}function Jt(e){var t=this.__data__,n=t.array;return n?tn(n,e):t.map["delete"](e)}function Qt(e){var t=this.__data__,n=t.array;return n?nn(n,e):t.map.get(e)}function Zt(e){var t=this.__data__,n=t.array;return n?rn(n,e):t.map.has(e)}function en(e,t){var n=this.__data__,i=n.array;i&&(i.length<Y-1?an(i,e,t):(n.array=null,n.map=new Lt(i)));var r=n.map;return r&&r.set(e,t),this}function tn(e,t){var n=on(e,t);if(0>n)return!1;var i=e.length-1;return n==i?e.pop():Eu.call(e,n,1),!0}function nn(e,t){var n=on(e,t);return 0>n?B:e[n][1]}function rn(e,t){return on(e,t)>-1}function on(e,t){for(var n=e.length;n--;)if(Ua(e[n][0],t))return n;return-1}function an(e,t,n){var i=on(e,t);0>i?e.push([t,n]):e[i][1]=n}function sn(e,t,n,i){return e===B||Ua(e,hu[n])&&!pu.call(i,n)?t:e}function ln(e,t,n){(n===B||Ua(e[t],n))&&("number"!=typeof t||n!==B||t in e)||(e[t]=n)}function un(e,t,n){var i=e[t];pu.call(e,t)&&Ua(i,n)&&(n!==B||t in e)||(e[t]=n)}function cn(e,t,n,i){return lc(e,function(e,r,o){t(i,e,n(e),o)}),i}function hn(e,t){return e&&Ji(t,Ys(t),e)}function pn(e,t){for(var n=-1,i=null==e,r=t.length,o=Array(r);++n<r;)o[n]=i?B:qs(e,t[n]);return o}function $n(e,t,n){return e===e&&(n!==B&&(e=n>=e?e:n),t!==B&&(e=e>=t?e:t)),e}function Cn(e,t,n,i,r,a,s){var l;if(i&&(l=a?i(e,r,a,s):i(e)),l!==B)return l;if(!ls(e))return e;var u=eh(e);if(u){if(l=Nr(e),!t)return Gi(e,l)}else{var c=Pr(e),h=c==Me||c==De;if(th(e))return zi(e,t);if(c==Pe||c==Ce||h&&!a){if(R(e))return a?e:{};if(l=Rr(h?{}:e),!t)return Qi(e,hn(l,e))}else{if(!xn[c])return a?e:{};l=Hr(e,c,Cn,t)}}s||(s=new Kt);var d=s.get(e);if(d)return d;if(s.set(e,l),!u)var f=n?Cr(e):Ys(e);return o(f||e,function(r,o){f&&(o=r,r=e[o]),un(l,o,Cn(r,t,n,i,o,e,s))}),l}function Tn(e){var t=Ys(e),n=t.length;return function(i){if(null==i)return!n;for(var r=n;r--;){var o=t[r],a=e[o],s=i[o];if(s===B&&!(o in Object(i))||!a(s))return!1}return!0}}function _n(e){return ls(e)?Mu(e):{}}function kn(e,t,n){if("function"!=typeof e)throw new uu(X);return Iu(function(){e.apply(B,n)},t)}function Dn(e,t,n,i){var r=-1,o=u,a=!0,s=e.length,l=[],d=t.length;if(!s)return l;n&&(t=h(t,k(n))),i?(o=c,a=!1):t.length>=Y&&(o=Yt,a=!1,t=new Ut(t));e:for(;++r<s;){var f=e[r],p=n?n(f):f;if(f=i||0!==f?f:0,a&&p===p){for(var m=d;m--;)if(t[m]===p)continue e;l.push(f)}else o(t,p,i)||l.push(f)}return l}function In(e,t){var n=!0;return lc(e,function(e,i,r){return n=!!t(e,i,r)}),n}function Pn(e,t,n){for(var i=-1,r=e.length;++i<r;){var o=e[i],a=t(o);if(null!=a&&(s===B?a===a&&!Cs(a):n(a,s)))var s=a,l=o}return l}function An(e,t,n,i){var r=e.length;for(n=Ds(n),0>n&&(n=-n>r?0:r+n),i=i===B||i>r?r:Ds(i),0>i&&(i+=r),i=n>i?0:Is(i);i>n;)e[n++]=t;return e}function On(e,t){var n=[];return lc(e,function(e,i,r){t(e,i,r)&&n.push(e)}),n}function Nn(e,t,n,i,r){var o=-1,a=e.length;for(n||(n=Fr),r||(r=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?Nn(s,t-1,n,i,r):d(r,s):i||(r[r.length]=s)}return r}function zn(e,t){return e&&cc(e,t,Ys)}function Fn(e,t){return e&&hc(e,t,Ys)}function Ln(e,t){return l(t,function(t){return os(e[t])})}function jn(e,t){t=Wr(t,e)?[t]:Ri(t);for(var n=0,i=t.length;null!=e&&i>n;)e=e[Zr(t[n++])];return n&&n==i?e:B}function Vn(e,t,n){var i=t(e);return eh(e)?i:d(i,n(e))}function Wn(e,t){return e>t}function qn(e,t){return pu.call(e,t)||"object"==typeof e&&t in e&&null===Ir(e)}function Bn(e,t){return t in Object(e)}function Un(e,t,n){return e>=Fu(t,n)&&e<zu(t,n)}function Yn(e,t,n){for(var i=n?c:u,r=e[0].length,o=e.length,a=o,s=Array(o),l=1/0,d=[];a--;){var f=e[a];a&&t&&(f=h(f,k(t))),l=Fu(f.length,l),s[a]=!n&&(t||r>=120&&f.length>=120)?new Ut(a&&f):B}f=e[0];var p=-1,m=s[0];e:for(;++p<r&&d.length<l;){var g=f[p],v=t?t(g):g;if(g=n||0!==g?g:0,!(m?Yt(m,v):i(d,v,n))){for(a=o;--a;){var y=s[a];if(!(y?Yt(y,v):i(e[a],v,n)))continue e}m&&m.push(v),d.push(g)}}return d}function Xn(e,t,n,i){return zn(e,function(e,r,o){t(i,n(e),r,o)}),i}function Kn(e,t,i){Wr(t,e)||(t=Ri(t),e=Jr(e,t),t=xo(t));var r=null==e?e:e[Zr(t)];return null==r?B:n(r,e,i)}function Gn(e,t,n,i,r){return e===t?!0:null==e||null==t||!ls(e)&&!us(t)?e!==e&&t!==t:Jn(e,t,Gn,n,i,r)}function Jn(e,t,n,i,r,o){var a=eh(e),s=eh(t),l=Te,u=Te;a||(l=Pr(e),l=l==Ce?Pe:l),s||(u=Pr(t),u=u==Ce?Pe:u);var c=l==Pe&&!R(e),h=u==Pe&&!R(t),d=l==u;if(d&&!c)return o||(o=new Kt),a||Ts(e)?wr(e,t,n,i,r,o):xr(e,t,l,n,i,r,o);if(!(r&le)){var f=c&&pu.call(e,"__wrapped__"),p=h&&pu.call(t,"__wrapped__");if(f||p){var m=f?e.value():e,g=p?t.value():t;return o||(o=new Kt),n(m,g,i,r,o)}}return d?(o||(o=new Kt),$r(e,t,n,i,r,o)):!1}function Qn(e,t,n,i){var r=n.length,o=r,a=!i;if(null==e)return!o;for(e=Object(e);r--;){var s=n[r];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++r<o;){s=n[r];var l=s[0],u=e[l],c=s[1];if(a&&s[2]){if(u===B&&!(l in e))return!1}else{var h=new Kt;if(i)var d=i(u,c,l,e,t,h);if(!(d===B?Gn(c,u,i,se|le,h):d))return!1}}return!0}function Zn(e){return"function"==typeof e?e:null==e?zl:"object"==typeof e?eh(e)?oi(e[0],e[1]):ri(e):Ul(e)}function ei(e){return Hu(Object(e))}function ti(e){e=null==e?e:Object(e);var t=[];for(var n in e)t.push(n);return t}function ni(e,t){return t>e}function ii(e,t){var n=-1,i=Ka(e)?Array(e.length):[];return lc(e,function(e,r,o){i[++n]=t(e,r,o)}),i}function ri(e){var t=Sr(e);return 1==t.length&&t[0][2]?Xr(t[0][0],t[0][1]):function(n){return n===e||Qn(n,e,t)}}function oi(e,t){return Wr(e)&&Yr(t)?Xr(Zr(e),t):function(n){var i=qs(n,e);return i===B&&i===t?Us(n,e):Gn(t,i,B,se|le)}}function ai(e,t,n,i,r){if(e!==t){if(!eh(t)&&!Ts(t))var a=Xs(t);o(a||t,function(o,s){if(a&&(s=o,o=t[s]),ls(o))r||(r=new Kt),si(e,t,s,n,ai,i,r);else{var l=i?i(e[s],o,s+"",e,t,r):B;l===B&&(l=o),ln(e,s,l)}})}}function si(e,t,n,i,r,o,a){var s=e[n],l=t[n],u=a.get(l);if(u)return void ln(e,n,u);var c=o?o(s,l,n+"",e,t,a):B,h=c===B;h&&(c=l,eh(l)||Ts(l)?eh(s)?c=s:Ga(s)?c=Gi(s):(h=!1,c=Cn(l,!0)):ys(l)||Ya(l)?Ya(s)?c=Ps(s):!ls(s)||i&&os(s)?(h=!1,c=Cn(l,!0)):c=s:h=!1),a.set(l,c),h&&r(c,l,i,o,a),a["delete"](l),ln(e,n,c)}function li(e,t){var n=e.length;if(n)return t+=0>t?n:0,jr(t,n)?e[t]:B}function ui(e,t,n){var i=-1;t=h(t.length?t:[zl],k(kr()));var r=ii(e,function(e,n,r){var o=h(t,function(t){return t(e)});return{criteria:o,index:++i,value:e}});return $(r,function(e,t){return Yi(e,t,n)})}function ci(e,t){return e=Object(e),f(t,function(t,n){return n in e&&(t[n]=e[n]),t},{})}function hi(e,t){for(var n=-1,i=Tr(e),r=i.length,o={};++n<r;){var a=i[n],s=e[a];t(s,a)&&(o[a]=s)}return o}function di(e){return function(t){return null==t?B:t[e]}}function fi(e){return function(t){return jn(t,e)}}function pi(e,t,n,i){var r=i?b:y,o=-1,a=t.length,s=e;for(n&&(s=h(e,k(n)));++o<a;)for(var l=0,u=t[o],c=n?n(u):u;(l=r(s,c,l,i))>-1;)s!==e&&Eu.call(s,l,1),Eu.call(e,l,1);return e}function mi(e,t){for(var n=e?t.length:0,i=n-1;n--;){var r=t[n];if(n==i||r!==o){var o=r;if(jr(r))Eu.call(e,r,1);else if(Wr(r,e))delete e[Zr(r)];else{var a=Ri(r),s=Jr(e,a);null!=s&&delete s[Zr(xo(a))]}}}return e}function gi(e,t){return e+Au(ju()*(t-e+1))}function vi(e,t,n,i){for(var r=-1,o=zu(Pu((t-e)/(n||1)),0),a=Array(o);o--;)a[i?o:++r]=e,e+=n;return a}function yi(e,t){var n="";if(!e||1>t||t>ve)return n;do t%2&&(n+=e),t=Au(t/2),t&&(e+=e);while(t);return n}function bi(e,t,n,i){t=Wr(t,e)?[t]:Ri(t);for(var r=-1,o=t.length,a=o-1,s=e;null!=s&&++r<o;){var l=Zr(t[r]);if(ls(s)){var u=n;if(r!=a){var c=s[l];u=i?i(c,l,s):B,u===B&&(u=null==c?jr(t[r+1])?[]:{}:c)}un(s,l,u)}s=s[l]}return e}function wi(e,t,n){var i=-1,r=e.length;0>t&&(t=-t>r?0:r+t),n=n>r?r:n,0>n&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(r);++i<r;)o[i]=e[i+t];return o}function xi(e,t){var n;return lc(e,function(e,i,r){return n=t(e,i,r),!n}),!!n}function $i(e,t,n){var i=0,r=e?e.length:i;if("number"==typeof t&&t===t&&$e>=r){for(;r>i;){var o=i+r>>>1,a=e[o];null!==a&&!Cs(a)&&(n?t>=a:t>a)?i=o+1:r=o}return r}return Ci(e,t,zl,n)}function Ci(e,t,n,i){t=n(t);for(var r=0,o=e?e.length:0,a=t!==t,s=null===t,l=Cs(t),u=t===B;o>r;){var c=Au((r+o)/2),h=n(e[c]),d=h!==B,f=null===h,p=h===h,m=Cs(h);if(a)var g=i||p;else g=u?p&&(i||d):s?p&&d&&(i||!f):l?p&&d&&!f&&(i||!m):f||m?!1:i?t>=h:t>h;g?r=c+1:o=c}return Fu(o,xe)}function Ti(e,t){for(var n=-1,i=e.length,r=0,o=[];++n<i;){var a=e[n],s=t?t(a):a;if(!n||!Ua(s,l)){var l=s;o[r++]=0===a?0:a}}return o}function _i(e){return"number"==typeof e?e:Cs(e)?be:+e}function ki(e){if("string"==typeof e)return e;if(Cs(e))return sc?sc.call(e):"";var t=e+"";return"0"==t&&1/e==-ge?"-0":t}function Si(e,t,n){var i=-1,r=u,o=e.length,a=!0,s=[],l=s;if(n)a=!1,r=c;else if(o>=Y){var h=t?null:fc(e);if(h)return L(h);a=!1,r=Yt,l=new Ut}else l=t?[]:s;e:for(;++i<o;){var d=e[i],f=t?t(d):d;if(d=n||0!==d?d:0,a&&f===f){for(var p=l.length;p--;)if(l[p]===f)continue e;t&&l.push(f),s.push(d)}else r(l,f,n)||(l!==s&&l.push(f),s.push(d))}return s}function Mi(e,t){t=Wr(t,e)?[t]:Ri(t),e=Jr(e,t);var n=Zr(xo(t));return!(null!=e&&qn(e,n))||delete e[n]}function Di(e,t,n,i){return bi(e,t,n(jn(e,t)),i)}function Ii(e,t,n,i){for(var r=e.length,o=i?r:-1;(i?o--:++o<r)&&t(e[o],o,e););return n?wi(e,i?0:o,i?o+1:r):wi(e,i?o+1:0,i?r:o)}function Ei(e,t){var n=e;return n instanceof Et&&(n=n.value()),f(t,function(e,t){return t.func.apply(t.thisArg,d([e],t.args))},n)}function Pi(e,t,n){for(var i=-1,r=e.length;++i<r;)var o=o?d(Dn(o,e[i],t,n),Dn(e[i],o,t,n)):e[i];return o&&o.length?Si(o,t,n):[]}function Ai(e,t,n){for(var i=-1,r=e.length,o=t.length,a={};++i<r;){var s=o>i?t[i]:B;n(a,e[i],s)}return a}function Oi(e){return Ga(e)?e:[]}function Ni(e){return"function"==typeof e?e:zl}function Ri(e){return eh(e)?e:yc(e)}function Hi(e,t,n){var i=e.length;return n=n===B?i:n,!t&&n>=i?e:wi(e,t,n)}function zi(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}function Fi(e){var t=new e.constructor(e.byteLength);return new Cu(t).set(new Cu(e)),t}function Li(e,t){var n=t?Fi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function ji(t,n,i){var r=n?i(z(t),!0):z(t);return f(r,e,new t.constructor)}function Vi(e){var t=new e.constructor(e.source,yt.exec(e));return t.lastIndex=e.lastIndex,t}function Wi(e,n,i){var r=n?i(L(e),!0):L(e);return f(r,t,new e.constructor)}function qi(e){return ac?Object(ac.call(e)):{}}function Bi(e,t){var n=t?Fi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ui(e,t){if(e!==t){var n=e!==B,i=null===e,r=e===e,o=Cs(e),a=t!==B,s=null===t,l=t===t,u=Cs(t);if(!s&&!u&&!o&&e>t||o&&a&&l&&!s&&!u||i&&a&&l||!n&&l||!r)return 1;if(!i&&!o&&!u&&t>e||u&&n&&r&&!i&&!o||s&&n&&r||!a&&r||!l)return-1}return 0}function Yi(e,t,n){for(var i=-1,r=e.criteria,o=t.criteria,a=r.length,s=n.length;++i<a;){var l=Ui(r[i],o[i]);if(l){if(i>=s)return l;var u=n[i];return l*("desc"==u?-1:1)}}return e.index-t.index}function Xi(e,t,n,i){for(var r=-1,o=e.length,a=n.length,s=-1,l=t.length,u=zu(o-a,0),c=Array(l+u),h=!i;++s<l;)c[s]=t[s];for(;++r<a;)(h||o>r)&&(c[n[r]]=e[r]);for(;u--;)c[s++]=e[r++];return c}function Ki(e,t,n,i){for(var r=-1,o=e.length,a=-1,s=n.length,l=-1,u=t.length,c=zu(o-s,0),h=Array(c+u),d=!i;++r<c;)h[r]=e[r];for(var f=r;++l<u;)h[f+l]=t[l];for(;++a<s;)(d||o>r)&&(h[f+n[a]]=e[r++]);return h}function Gi(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}function Ji(e,t,n,i){n||(n={});for(var r=-1,o=t.length;++r<o;){var a=t[r],s=i?i(n[a],e[a],a,n,e):e[a];un(n,a,s)}return n}function Qi(e,t){return Ji(e,Er(e),t)}function Zi(e,t){return function(n,r){var o=eh(n)?i:cn,a=t?t():{};return o(n,e,kr(r),a)}}function er(e){return Ra(function(t,n){var i=-1,r=n.length,o=r>1?n[r-1]:B,a=r>2?n[2]:B;for(o="function"==typeof o?(r--,o):B,a&&Vr(n[0],n[1],a)&&(o=3>r?B:o,r=1),t=Object(t);++i<r;){var s=n[i];s&&e(t,s,i,o)}return t})}function tr(e,t){return function(n,i){if(null==n)return n;if(!Ka(n))return e(n,i);for(var r=n.length,o=t?r:-1,a=Object(n);(t?o--:++o<r)&&i(a[o],o,a)!==!1;);return n}}function nr(e){return function(t,n,i){for(var r=-1,o=Object(t),a=i(t),s=a.length;s--;){var l=a[e?s:++r];if(n(o[l],l,o)===!1)break}return t}}function ir(e,t,n){function i(){var t=this&&this!==Rn&&this instanceof i?o:e;return t.apply(r?n:this,arguments)}var r=t&J,o=ar(e);return i}function rr(e){return function(t){t=Os(t);var n=gn.test(t)?V(t):B,i=n?n[0]:t.charAt(0),r=n?Hi(n,1).join(""):t.slice(1);return i[e]()+r}}function or(e){return function(t){return f(Ol(pl(t).replace(dn,"")),e,"")}}function ar(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=_n(e.prototype),i=e.apply(n,t);return ls(i)?i:n}}function sr(e,t,i){function r(){for(var a=arguments.length,s=Array(a),l=a,u=Dr(r);l--;)s[l]=arguments[l];var c=3>a&&s[0]!==u&&s[a-1]!==u?[]:F(s,u);if(a-=c.length,i>a)return vr(e,t,ur,r.placeholder,B,s,c,B,B,i-a);var h=this&&this!==Rn&&this instanceof r?o:e;return n(h,this,s)}var o=ar(e);return r}function lr(e){return Ra(function(t){t=Nn(t,1);var n=t.length,i=n,r=It.prototype.thru;for(e&&t.reverse();i--;){var o=t[i];if("function"!=typeof o)throw new uu(X);if(r&&!a&&"wrapper"==_r(o))var a=new It([],!0)}for(i=a?i:n;++i<n;){o=t[i];var s=_r(o),l="wrapper"==s?pc(o):B;a=l&&Br(l[0])&&l[1]==(re|ee|ne|oe)&&!l[4].length&&1==l[9]?a[_r(l[0])].apply(a,l[3]):1==o.length&&Br(o)?a[s]():a.thru(o)}return function(){var e=arguments,i=e[0];if(a&&1==e.length&&eh(i)&&i.length>=Y)return a.plant(i).value();for(var r=0,o=n?t[r].apply(this,e):i;++r<n;)o=t[r].call(this,o);return o}})}function ur(e,t,n,i,r,o,a,s,l,u){function c(){for(var v=arguments.length,y=v,b=Array(v);y--;)b[y]=arguments[y];if(p)var w=Dr(c),x=E(b,w);if(i&&(b=Xi(b,i,r,p)),o&&(b=Ki(b,o,a,p)),v-=x,p&&u>v){var $=F(b,w);return vr(e,t,ur,c.placeholder,n,b,$,s,l,u-v)}var C=d?n:this,T=f?C[e]:e;return v=b.length,s?b=Qr(b,s):m&&v>1&&b.reverse(),h&&v>l&&(b.length=l),this&&this!==Rn&&this instanceof c&&(T=g||ar(T)),T.apply(C,b)}var h=t&re,d=t&J,f=t&Q,p=t&(ee|te),m=t&ae,g=f?B:ar(e);return c}function cr(e,t){return function(n,i){return Xn(n,e,t(i),{})}}function hr(e){return function(t,n){var i;if(t===B&&n===B)return 0;if(t!==B&&(i=t),n!==B){if(i===B)return n;"string"==typeof t||"string"==typeof n?(t=ki(t),n=ki(n)):(t=_i(t),n=_i(n)),i=e(t,n)}return i}}function dr(e){return Ra(function(t){return t=1==t.length&&eh(t[0])?h(t[0],k(kr())):h(Nn(t,1,Lr),k(kr())),Ra(function(i){var r=this;return e(t,function(e){return n(e,r,i)})})})}function fr(e,t){t=t===B?" ":ki(t);var n=t.length;if(2>n)return n?yi(t,e):t;var i=yi(t,Pu(e/j(t)));return gn.test(t)?Hi(V(i),0,e).join(""):i.slice(0,e)}function pr(e,t,i,r){function o(){for(var t=-1,l=arguments.length,u=-1,c=r.length,h=Array(c+l),d=this&&this!==Rn&&this instanceof o?s:e;++u<c;)h[u]=r[u];for(;l--;)h[u++]=arguments[++t];return n(d,a?i:this,h)}var a=t&J,s=ar(e);return o}function mr(e){return function(t,n,i){return i&&"number"!=typeof i&&Vr(t,n,i)&&(n=i=B),t=Es(t),t=t===t?t:0,n===B?(n=t,t=0):n=Es(n)||0,i=i===B?n>t?1:-1:Es(i)||0,vi(t,n,i,e)}}function gr(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=Es(t),n=Es(n)),e(t,n)}}function vr(e,t,n,i,r,o,a,s,l,u){var c=t&ee,h=c?a:B,d=c?B:a,f=c?o:B,p=c?B:o;t|=c?ne:ie,t&=~(c?ie:ne),t&Z||(t&=~(J|Q));var m=[e,t,r,f,h,p,d,s,l,u],g=n.apply(B,m);return Br(e)&&vc(g,m),g.placeholder=i,g}function yr(e){var t=su[e];return function(e,n){if(e=Es(e),n=Ds(n)){var i=(Os(e)+"e").split("e"),r=t(i[0]+"e"+(+i[1]+n));return i=(Os(r)+"e").split("e"),+(i[0]+"e"+(+i[1]-n))}return t(e)}}function br(e,t,n,i,r,o,a,s){var l=t&Q;if(!l&&"function"!=typeof e)throw new uu(X);var u=i?i.length:0;if(u||(t&=~(ne|ie),i=r=B),a=a===B?a:zu(Ds(a),0),s=s===B?s:Ds(s),u-=r?r.length:0,t&ie){var c=i,h=r;i=r=B}var d=l?B:pc(e),f=[e,t,n,i,r,c,h,o,a,s];if(d&&Kr(f,d),e=f[0],t=f[1],n=f[2],i=f[3],r=f[4],s=f[9]=null==f[9]?l?0:e.length:zu(f[9]-u,0),!s&&t&(ee|te)&&(t&=~(ee|te)),t&&t!=J)p=t==ee||t==te?sr(e,t,s):t!=ne&&t!=(J|ne)||r.length?ur.apply(B,f):pr(e,t,n,i);else var p=ir(e,t,n);var m=d?dc:vc;return m(p,f)}function wr(e,t,n,i,r,o){var a=-1,s=r&le,l=r&se,u=e.length,c=t.length;if(u!=c&&!(s&&c>u))return!1;var h=o.get(e);if(h)return h==t;var d=!0;for(o.set(e,t);++a<u;){var f=e[a],p=t[a];if(i)var g=s?i(p,f,a,t,e,o):i(f,p,a,e,t,o);if(g!==B){if(g)continue;d=!1;break}if(l){if(!m(t,function(e){return f===e||n(f,e,i,r,o)})){d=!1;break}}else if(f!==p&&!n(f,p,i,r,o)){d=!1;break}}return o["delete"](e),d}function xr(e,t,n,i,r,o,a){switch(n){case je:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Le:return!(e.byteLength!=t.byteLength||!i(new Cu(e),new Cu(t)));case _e:case ke:return+e==+t;case Se:return e.name==t.name&&e.message==t.message;case Ee:return e!=+e?t!=+t:e==+t;case Oe:case Re:return e==t+"";case Ie:var s=z;case Ne:var l=o&le;if(s||(s=L),e.size!=t.size&&!l)return!1;var u=a.get(e);return u?u==t:(o|=se,a.set(e,t),wr(s(e),s(t),i,r,o,a));case He:if(ac)return ac.call(e)==ac.call(t)}return!1}function $r(e,t,n,i,r,o){var a=r&le,s=Ys(e),l=s.length,u=Ys(t),c=u.length;if(l!=c&&!a)return!1;for(var h=l;h--;){var d=s[h];if(!(a?d in t:qn(t,d)))return!1}var f=o.get(e);if(f)return f==t;var p=!0;o.set(e,t);for(var m=a;++h<l;){d=s[h];var g=e[d],v=t[d];if(i)var y=a?i(v,g,d,t,e,o):i(g,v,d,e,t,o);if(!(y===B?g===v||n(g,v,i,r,o):y)){p=!1;break}m||(m="constructor"==d)}if(p&&!m){var b=e.constructor,w=t.constructor;b!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(p=!1)}return o["delete"](e),p}function Cr(e){return Vn(e,Ys,Er)}function Tr(e){return Vn(e,Xs,gc)}function _r(e){for(var t=e.name+"",n=Zu[t],i=pu.call(Zu,t)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==e)return r.name}return t}function kr(){var e=Mt.iteratee||Fl;return e=e===Fl?Zn:e,arguments.length?e(arguments[0],arguments[1]):e}function Sr(e){for(var t=nl(e),n=t.length;n--;)t[n][2]=Yr(t[n][1]);return t}function Mr(e,t){var n=e[t];return ps(n)?n:B}function Dr(e){var t=pu.call(Mt,"placeholder")?Mt:e;return t.placeholder}function Ir(e){return Ou(Object(e))}function Er(e){return ku(Object(e))}function Pr(e){return vu.call(e)}function Ar(e,t,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=Fu(t,e+a);break;case"takeRight":e=zu(e,t-a)}}return{start:e,end:t}}function Or(e,t,n){t=Wr(t,e)?[t]:Ri(t);for(var i,r=-1,o=t.length;++r<o;){var a=Zr(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}if(i)return i;var o=e?e.length:0;return!!o&&ss(o)&&jr(a,o)&&(eh(e)||$s(e)||Ya(e))}function Nr(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&pu.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Rr(e){return"function"!=typeof e.constructor||Ur(e)?{}:_n(Ir(e))}function Hr(e,t,n,i){var r=e.constructor;switch(t){case Le:return Fi(e);case _e:case ke:return new r(+e);case je:return Li(e,i);case Ve:case We:case qe:case Be:case Ue:case Ye:case Xe:case Ke:case Ge:return Bi(e,i);case Ie:return ji(e,i,n);case Ee:case Re:return new r(e);case Oe:return Vi(e);case Ne:return Wi(e,i,n);case He:return qi(e)}}function zr(e){var t=e?e.length:B;return ss(t)&&(eh(e)||$s(e)||Ya(e))?T(t,String):null}function Fr(e){return Ga(e)&&(eh(e)||Ya(e))}function Lr(e){return eh(e)&&!(2==e.length&&!os(e[0]))}function jr(e,t){return t=null==t?ve:t,!!t&&("number"==typeof e||Tt.test(e))&&e>-1&&e%1==0&&t>e}function Vr(e,t,n){if(!ls(n))return!1;var i=typeof t;return("number"==i?Ka(n)&&jr(t,n.length):"string"==i&&t in n)?Ua(n[t],e):!1}function Wr(e,t){if(eh(e))return!1;var n=typeof e;return"number"==n||"symbol"==n||"boolean"==n||null==e||Cs(e)?!0:lt.test(e)||!st.test(e)||null!=t&&e in Object(t)}function qr(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function Br(e){var t=_r(e),n=Mt[t];if("function"!=typeof n||!(t in Et.prototype))return!1;if(e===n)return!0;var i=pc(n);return!!i&&e===i[0]}function Ur(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||hu;return e===n}function Yr(e){return e===e&&!ls(e)}function Xr(e,t){return function(n){return null==n?!1:n[e]===t&&(t!==B||e in Object(n))}}function Kr(e,t){var n=e[1],i=t[1],r=n|i,o=(J|Q|re)>r,a=i==re&&n==ee||i==re&&n==oe&&e[7].length<=t[8]||i==(re|oe)&&t[7].length<=t[8]&&n==ee;if(!o&&!a)return e;i&J&&(e[2]=t[2],r|=n&J?0:Z);var s=t[3];if(s){var l=e[3];e[3]=l?Xi(l,s,t[4]):s,e[4]=l?F(e[3],G):t[4]}return s=t[5],s&&(l=e[5],e[5]=l?Ki(l,s,t[6]):s,e[6]=l?F(e[5],G):t[6]),s=t[7],s&&(e[7]=s),i&re&&(e[8]=null==e[8]?t[8]:Fu(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=r,e}function Gr(e,t,n,i,r,o){return ls(e)&&ls(t)&&ai(e,t,B,Gr,o.set(t,e)),e}function Jr(e,t){return 1==t.length?e:jn(e,wi(t,0,-1))}function Qr(e,t){for(var n=e.length,i=Fu(t.length,n),r=Gi(e);i--;){var o=t[i];e[i]=jr(o,n)?r[o]:B}return e}function Zr(e){if("string"==typeof e||Cs(e))return e;var t=e+"";return"0"==t&&1/e==-ge?"-0":t}function eo(e){if(null!=e){try{return fu.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function to(e){if(e instanceof Et)return e.clone();var t=new It(e.__wrapped__,e.__chain__);return t.__actions__=Gi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function no(e,t,n){t=(n?Vr(e,t,n):t===B)?1:zu(Ds(t),0);var i=e?e.length:0;if(!i||1>t)return[];for(var r=0,o=0,a=Array(Pu(i/t));i>r;)a[o++]=wi(e,r,r+=t);return a}function io(e){for(var t=-1,n=e?e.length:0,i=0,r=[];++t<n;){var o=e[t];o&&(r[i++]=o)}return r}function ro(){var e=arguments.length,t=ja(arguments[0]);if(2>e)return e?Gi(t):[];for(var n=Array(e-1);e--;)n[e-1]=arguments[e];return r(t,Nn(n,1))}function oo(e,t,n){var i=e?e.length:0;return i?(t=n||t===B?1:Ds(t),wi(e,0>t?0:t,i)):[]}function ao(e,t,n){var i=e?e.length:0;return i?(t=n||t===B?1:Ds(t),t=i-t,wi(e,0,0>t?0:t)):[]}function so(e,t){return e&&e.length?Ii(e,kr(t,3),!0,!0):[]}function lo(e,t){return e&&e.length?Ii(e,kr(t,3),!0):[]}function uo(e,t,n,i){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&Vr(e,t,n)&&(n=0,i=r),An(e,t,n,i)):[]}function co(e,t){return e&&e.length?v(e,kr(t,3)):-1}function ho(e,t){return e&&e.length?v(e,kr(t,3),!0):-1}function fo(e){var t=e?e.length:0;return t?Nn(e,1):[]}function po(e){var t=e?e.length:0;return t?Nn(e,ge):[]}function mo(e,t){var n=e?e.length:0;return n?(t=t===B?1:Ds(t),Nn(e,t)):[]}function go(e){for(var t=-1,n=e?e.length:0,i={};++t<n;){var r=e[t];i[r[0]]=r[1]}return i}function vo(e){return e&&e.length?e[0]:B}function yo(e,t,n){var i=e?e.length:0;return i?(n=Ds(n),0>n&&(n=zu(i+n,0)),y(e,t,n)):-1}function bo(e){return ao(e,1)}function wo(e,t){return e?Ru.call(e,t):""}function xo(e){var t=e?e.length:0;return t?e[t-1]:B}function $o(e,t,n){var i=e?e.length:0;if(!i)return-1;var r=i;if(n!==B&&(r=Ds(n),r=(0>r?zu(i+r,0):Fu(r,i-1))+1),t!==t)return N(e,r,!0);for(;r--;)if(e[r]===t)return r;return-1}function Co(e,t){return e&&e.length?li(e,Ds(t)):B}function To(e,t){return e&&e.length&&t&&t.length?pi(e,t):e}function _o(e,t,n){return e&&e.length&&t&&t.length?pi(e,t,kr(n)):e}function ko(e,t,n){return e&&e.length&&t&&t.length?pi(e,t,B,n):e}function So(e,t){var n=[];if(!e||!e.length)return n;var i=-1,r=[],o=e.length;for(t=kr(t,3);++i<o;){var a=e[i];t(a,i,e)&&(n.push(a),r.push(i))}return mi(e,r),n}function Mo(e){return e?Wu.call(e):e}function Do(e,t,n){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&Vr(e,t,n)?(t=0,n=i):(t=null==t?0:Ds(t),n=n===B?i:Ds(n)),wi(e,t,n)):[]}function Io(e,t){return $i(e,t)}function Eo(e,t,n){return Ci(e,t,kr(n))}function Po(e,t){var n=e?e.length:0;if(n){var i=$i(e,t);if(n>i&&Ua(e[i],t))return i}return-1}function Ao(e,t){return $i(e,t,!0)}function Oo(e,t,n){return Ci(e,t,kr(n),!0)}function No(e,t){var n=e?e.length:0;if(n){var i=$i(e,t,!0)-1;if(Ua(e[i],t))return i}return-1}function Ro(e){return e&&e.length?Ti(e):[]}function Ho(e,t){return e&&e.length?Ti(e,kr(t)):[]}function zo(e){return oo(e,1)}function Fo(e,t,n){return e&&e.length?(t=n||t===B?1:Ds(t),wi(e,0,0>t?0:t)):[]}function Lo(e,t,n){var i=e?e.length:0;return i?(t=n||t===B?1:Ds(t),t=i-t,wi(e,0>t?0:t,i)):[]}function jo(e,t){return e&&e.length?Ii(e,kr(t,3),!1,!0):[]}function Vo(e,t){return e&&e.length?Ii(e,kr(t,3)):[]}function Wo(e){return e&&e.length?Si(e):[]}function qo(e,t){return e&&e.length?Si(e,kr(t)):[]}function Bo(e,t){return e&&e.length?Si(e,B,t):[]}function Uo(e){if(!e||!e.length)return[];var t=0;return e=l(e,function(e){return Ga(e)?(t=zu(e.length,t),!0):void 0}),T(t,function(t){return h(e,di(t))})}function Yo(e,t){if(!e||!e.length)return[];var i=Uo(e);return null==t?i:h(i,function(e){return n(t,B,e)})}function Xo(e,t){return Ai(e||[],t||[],un)}function Ko(e,t){return Ai(e||[],t||[],bi)}function Go(e){var t=Mt(e);return t.__chain__=!0,t}function Jo(e,t){return t(e),e}function Qo(e,t){return t(e)}function Zo(){return Go(this)}function ea(){return new It(this.value(),this.__chain__)}function ta(){this.__values__===B&&(this.__values__=Ms(this.value()));var e=this.__index__>=this.__values__.length,t=e?B:this.__values__[this.__index__++];
return{done:e,value:t}}function na(){return this}function ia(e){for(var t,n=this;n instanceof Dt;){var i=to(n);i.__index__=0,i.__values__=B,t?r.__wrapped__=i:t=i;var r=i;n=n.__wrapped__}return r.__wrapped__=e,t}function ra(){var e=this.__wrapped__;if(e instanceof Et){var t=e;return this.__actions__.length&&(t=new Et(this)),t=t.reverse(),t.__actions__.push({func:Qo,args:[Mo],thisArg:B}),new It(t,this.__chain__)}return this.thru(Mo)}function oa(){return Ei(this.__wrapped__,this.__actions__)}function aa(e,t,n){var i=eh(e)?s:In;return n&&Vr(e,t,n)&&(t=B),i(e,kr(t,3))}function sa(e,t){var n=eh(e)?l:On;return n(e,kr(t,3))}function la(e,t){if(t=kr(t,3),eh(e)){var n=v(e,t);return n>-1?e[n]:B}return g(e,t,lc)}function ua(e,t){if(t=kr(t,3),eh(e)){var n=v(e,t,!0);return n>-1?e[n]:B}return g(e,t,uc)}function ca(e,t){return Nn(ga(e,t),1)}function ha(e,t){return Nn(ga(e,t),ge)}function da(e,t,n){return n=n===B?1:Ds(n),Nn(ga(e,t),n)}function fa(e,t){return"function"==typeof t&&eh(e)?o(e,t):lc(e,kr(t))}function pa(e,t){return"function"==typeof t&&eh(e)?a(e,t):uc(e,kr(t))}function ma(e,t,n,i){e=Ka(e)?e:ll(e),n=n&&!i?Ds(n):0;var r=e.length;return 0>n&&(n=zu(r+n,0)),$s(e)?r>=n&&e.indexOf(t,n)>-1:!!r&&y(e,t,n)>-1}function ga(e,t){var n=eh(e)?h:ii;return n(e,kr(t,3))}function va(e,t,n,i){return null==e?[]:(eh(t)||(t=null==t?[]:[t]),n=i?B:n,eh(n)||(n=null==n?[]:[n]),ui(e,t,n))}function ya(e,t,n){var i=eh(e)?f:x,r=arguments.length<3;return i(e,kr(t,4),n,r,lc)}function ba(e,t,n){var i=eh(e)?p:x,r=arguments.length<3;return i(e,kr(t,4),n,r,uc)}function wa(e,t){var n=eh(e)?l:On;return t=kr(t,3),n(e,function(e,n,i){return!t(e,n,i)})}function xa(e){var t=Ka(e)?e:ll(e),n=t.length;return n>0?t[gi(0,n-1)]:B}function $a(e,t,n){var i=-1,r=Ms(e),o=r.length,a=o-1;for(t=(n?Vr(e,t,n):t===B)?1:$n(Ds(t),0,o);++i<t;){var s=gi(i,a),l=r[s];r[s]=r[i],r[i]=l}return r.length=t,r}function Ca(e){return $a(e,we)}function Ta(e){if(null==e)return 0;if(Ka(e)){var t=e.length;return t&&$s(e)?j(e):t}if(us(e)){var n=Pr(e);if(n==Ie||n==Ne)return e.size}return Ys(e).length}function _a(e,t,n){var i=eh(e)?m:xi;return n&&Vr(e,t,n)&&(t=B),i(e,kr(t,3))}function ka(e,t){if("function"!=typeof t)throw new uu(X);return e=Ds(e),function(){return--e<1?t.apply(this,arguments):void 0}}function Sa(e,t,n){return t=n?B:t,t=e&&null==t?e.length:t,br(e,re,B,B,B,B,t)}function Ma(e,t){var n;if("function"!=typeof t)throw new uu(X);return e=Ds(e),function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=B),n}}function Da(e,t,n){t=n?B:t;var i=br(e,ee,B,B,B,B,B,t);return i.placeholder=Da.placeholder,i}function Ia(e,t,n){t=n?B:t;var i=br(e,te,B,B,B,B,B,t);return i.placeholder=Ia.placeholder,i}function Ea(e,t,n){function i(t){var n=d,i=f;return d=f=B,y=t,m=e.apply(i,n)}function r(e){return y=e,g=Iu(s,t),b?i(e):m}function o(e){var n=e-v,i=e-y,r=t-n;return w?Fu(r,p-i):r}function a(e){var n=e-v,i=e-y;return!v||n>=t||0>n||w&&i>=p}function s(){var e=Wc();return a(e)?l(e):void(g=Iu(s,o(e)))}function l(e){return Tu(g),g=B,x&&d?i(e):(d=f=B,m)}function u(){g!==B&&Tu(g),v=y=0,d=f=g=B}function c(){return g===B?m:l(Wc())}function h(){var e=Wc(),n=a(e);if(d=arguments,f=this,v=e,n){if(g===B)return r(v);if(w)return Tu(g),g=Iu(s,t),i(v)}return g===B&&(g=Iu(s,t)),m}var d,f,p,m,g,v=0,y=0,b=!1,w=!1,x=!0;if("function"!=typeof e)throw new uu(X);return t=Es(t)||0,ls(n)&&(b=!!n.leading,w="maxWait"in n,p=w?zu(Es(n.maxWait)||0,t):p,x="trailing"in n?!!n.trailing:x),h.cancel=u,h.flush=c,h}function Pa(e){return br(e,ae)}function Aa(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new uu(X);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=e.apply(this,i);return n.cache=o.set(r,a),a};return n.cache=new(Aa.Cache||Lt),n}function Oa(e){if("function"!=typeof e)throw new uu(X);return function(){return!e.apply(this,arguments)}}function Na(e){return Ma(2,e)}function Ra(e,t){if("function"!=typeof e)throw new uu(X);return t=zu(t===B?e.length-1:Ds(t),0),function(){for(var i=arguments,r=-1,o=zu(i.length-t,0),a=Array(o);++r<o;)a[r]=i[t+r];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,i[0],a);case 2:return e.call(this,i[0],i[1],a)}var s=Array(t+1);for(r=-1;++r<t;)s[r]=i[r];return s[t]=a,n(e,this,s)}}function Ha(e,t){if("function"!=typeof e)throw new uu(X);return t=t===B?0:zu(Ds(t),0),Ra(function(i){var r=i[t],o=Hi(i,0,t);return r&&d(o,r),n(e,this,o)})}function za(e,t,n){var i=!0,r=!0;if("function"!=typeof e)throw new uu(X);return ls(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),Ea(e,t,{leading:i,maxWait:t,trailing:r})}function Fa(e){return Sa(e,1)}function La(e,t){return t=null==t?zl:t,Kc(t,e)}function ja(){if(!arguments.length)return[];var e=arguments[0];return eh(e)?e:[e]}function Va(e){return Cn(e,!1,!0)}function Wa(e,t){return Cn(e,!1,!0,t)}function qa(e){return Cn(e,!0,!0)}function Ba(e,t){return Cn(e,!0,!0,t)}function Ua(e,t){return e===t||e!==e&&t!==t}function Ya(e){return Ga(e)&&pu.call(e,"callee")&&(!Du.call(e,"callee")||vu.call(e)==Ce)}function Xa(e){return us(e)&&vu.call(e)==Le}function Ka(e){return null!=e&&ss(mc(e))&&!os(e)}function Ga(e){return us(e)&&Ka(e)}function Ja(e){return e===!0||e===!1||us(e)&&vu.call(e)==_e}function Qa(e){return us(e)&&vu.call(e)==ke}function Za(e){return!!e&&1===e.nodeType&&us(e)&&!ys(e)}function es(e){if(Ka(e)&&(eh(e)||$s(e)||os(e.splice)||Ya(e)||th(e)))return!e.length;if(us(e)){var t=Pr(e);if(t==Ie||t==Ne)return!e.size}for(var n in e)if(pu.call(e,n))return!1;return!(Qu&&Ys(e).length)}function ts(e,t){return Gn(e,t)}function ns(e,t,n){n="function"==typeof n?n:B;var i=n?n(e,t):B;return i===B?Gn(e,t,n):!!i}function is(e){return us(e)?vu.call(e)==Se||"string"==typeof e.message&&"string"==typeof e.name:!1}function rs(e){return"number"==typeof e&&Nu(e)}function os(e){var t=ls(e)?vu.call(e):"";return t==Me||t==De}function as(e){return"number"==typeof e&&e==Ds(e)}function ss(e){return"number"==typeof e&&e>-1&&e%1==0&&ve>=e}function ls(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function us(e){return!!e&&"object"==typeof e}function cs(e){return us(e)&&Pr(e)==Ie}function hs(e,t){return e===t||Qn(e,t,Sr(t))}function ds(e,t,n){return n="function"==typeof n?n:B,Qn(e,t,Sr(t),n)}function fs(e){return vs(e)&&e!=+e}function ps(e){if(!ls(e))return!1;var t=os(e)||R(e)?bu:$t;return t.test(eo(e))}function ms(e){return null===e}function gs(e){return null==e}function vs(e){return"number"==typeof e||us(e)&&vu.call(e)==Ee}function ys(e){if(!us(e)||vu.call(e)!=Pe||R(e))return!1;var t=Ir(e);if(null===t)return!0;var n=pu.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&fu.call(n)==gu}function bs(e){return ls(e)&&vu.call(e)==Oe}function ws(e){return as(e)&&e>=-ve&&ve>=e}function xs(e){return us(e)&&Pr(e)==Ne}function $s(e){return"string"==typeof e||!eh(e)&&us(e)&&vu.call(e)==Re}function Cs(e){return"symbol"==typeof e||us(e)&&vu.call(e)==He}function Ts(e){return us(e)&&ss(e.length)&&!!wn[vu.call(e)]}function _s(e){return e===B}function ks(e){return us(e)&&Pr(e)==ze}function Ss(e){return us(e)&&vu.call(e)==Fe}function Ms(e){if(!e)return[];if(Ka(e))return $s(e)?V(e):Gi(e);if(Su&&e[Su])return H(e[Su]());var t=Pr(e),n=t==Ie?z:t==Ne?L:ll;return n(e)}function Ds(e){if(!e)return 0===e?e:0;if(e=Es(e),e===ge||e===-ge){var t=0>e?-1:1;return t*ye}var n=e%1;return e===e?n?e-n:e:0}function Is(e){return e?$n(Ds(e),0,we):0}function Es(e){if("number"==typeof e)return e;if(Cs(e))return be;if(ls(e)){var t=os(e.valueOf)?e.valueOf():e;e=ls(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(dt,"");var n=xt.test(e);return n||Ct.test(e)?Mn(e.slice(2),n?2:8):wt.test(e)?be:+e}function Ps(e){return Ji(e,Xs(e))}function As(e){return $n(Ds(e),-ve,ve)}function Os(e){return null==e?"":ki(e)}function Ns(e,t){var n=_n(e);return t?hn(n,t):n}function Rs(e,t){return g(e,kr(t,3),zn,!0)}function Hs(e,t){return g(e,kr(t,3),Fn,!0)}function zs(e,t){return null==e?e:cc(e,kr(t),Xs)}function Fs(e,t){return null==e?e:hc(e,kr(t),Xs)}function Ls(e,t){return e&&zn(e,kr(t))}function js(e,t){return e&&Fn(e,kr(t))}function Vs(e){return null==e?[]:Ln(e,Ys(e))}function Ws(e){return null==e?[]:Ln(e,Xs(e))}function qs(e,t,n){var i=null==e?B:jn(e,t);return i===B?n:i}function Bs(e,t){return null!=e&&Or(e,t,qn)}function Us(e,t){return null!=e&&Or(e,t,Bn)}function Ys(e){var t=Ur(e);if(!t&&!Ka(e))return ei(e);var n=zr(e),i=!!n,r=n||[],o=r.length;for(var a in e)!qn(e,a)||i&&("length"==a||jr(a,o))||t&&"constructor"==a||r.push(a);return r}function Xs(e){for(var t=-1,n=Ur(e),i=ti(e),r=i.length,o=zr(e),a=!!o,s=o||[],l=s.length;++t<r;){var u=i[t];a&&("length"==u||jr(u,l))||"constructor"==u&&(n||!pu.call(e,u))||s.push(u)}return s}function Ks(e,t){var n={};return t=kr(t,3),zn(e,function(e,i,r){n[t(e,i,r)]=e}),n}function Gs(e,t){var n={};return t=kr(t,3),zn(e,function(e,i,r){n[i]=t(e,i,r)}),n}function Js(e,t){return t=kr(t),hi(e,function(e,n){return!t(e,n)})}function Qs(e,t){return null==e?{}:hi(e,kr(t))}function Zs(e,t,n){t=Wr(t,e)?[t]:Ri(t);var i=-1,r=t.length;for(r||(e=B,r=1);++i<r;){var o=null==e?B:e[Zr(t[i])];o===B&&(i=r,o=n),e=os(o)?o.call(e):o}return e}function el(e,t,n){return null==e?e:bi(e,t,n)}function tl(e,t,n,i){return i="function"==typeof i?i:B,null==e?e:bi(e,t,n,i)}function nl(e){return _(e,Ys(e))}function il(e){return _(e,Xs(e))}function rl(e,t,n){var i=eh(e)||Ts(e);if(t=kr(t,4),null==n)if(i||ls(e)){var r=e.constructor;n=i?eh(e)?new r:[]:os(r)?_n(Ir(e)):{}}else n={};return(i?o:zn)(e,function(e,i,r){return t(n,e,i,r)}),n}function ol(e,t){return null==e?!0:Mi(e,t)}function al(e,t,n){return null==e?e:Di(e,t,Ni(n))}function sl(e,t,n,i){return i="function"==typeof i?i:B,null==e?e:Di(e,t,Ni(n),i)}function ll(e){return e?S(e,Ys(e)):[]}function ul(e){return null==e?[]:S(e,Xs(e))}function cl(e,t,n){return n===B&&(n=t,t=B),n!==B&&(n=Es(n),n=n===n?n:0),t!==B&&(t=Es(t),t=t===t?t:0),$n(Es(e),t,n)}function hl(e,t,n){return t=Es(t)||0,n===B?(n=t,t=0):n=Es(n)||0,e=Es(e),Un(e,t,n)}function dl(e,t,n){if(n&&"boolean"!=typeof n&&Vr(e,t,n)&&(t=n=B),n===B&&("boolean"==typeof t?(n=t,t=B):"boolean"==typeof e&&(n=e,e=B)),e===B&&t===B?(e=0,t=1):(e=Es(e)||0,t===B?(t=e,e=0):t=Es(t)||0),e>t){var i=e;e=t,t=i}if(n||e%1||t%1){var r=ju();return Fu(e+r*(t-e+Sn("1e-"+((r+"").length-1))),t)}return gi(e,t)}function fl(e){return _h(Os(e).toLowerCase())}function pl(e){return e=Os(e),e&&e.replace(_t,P).replace(fn,"")}function ml(e,t,n){e=Os(e),t=ki(t);var i=e.length;return n=n===B?i:$n(Ds(n),0,i),n-=t.length,n>=0&&e.indexOf(t,n)==n}function gl(e){return e=Os(e),e&&it.test(e)?e.replace(tt,A):e}function vl(e){return e=Os(e),e&&ht.test(e)?e.replace(ct,"\\$&"):e}function yl(e,t,n){e=Os(e),t=Ds(t);var i=t?j(e):0;if(!t||i>=t)return e;var r=(t-i)/2;return fr(Au(r),n)+e+fr(Pu(r),n)}function bl(e,t,n){e=Os(e),t=Ds(t);var i=t?j(e):0;return t&&t>i?e+fr(t-i,n):e}function wl(e,t,n){e=Os(e),t=Ds(t);var i=t?j(e):0;return t&&t>i?fr(t-i,n)+e:e}function xl(e,t,n){return n||null==t?t=0:t&&(t=+t),e=Os(e).replace(dt,""),Lu(e,t||(bt.test(e)?16:10))}function $l(e,t,n){return t=(n?Vr(e,t,n):t===B)?1:Ds(t),yi(Os(e),t)}function Cl(){var e=arguments,t=Os(e[0]);return e.length<3?t:Vu.call(t,e[1],e[2])}function Tl(e,t,n){return n&&"number"!=typeof n&&Vr(e,t,n)&&(t=n=B),(n=n===B?we:n>>>0)?(e=Os(e),e&&("string"==typeof t||null!=t&&!bs(t))&&(t=ki(t),""==t&&gn.test(e))?Hi(V(e),0,n):qu.call(e,t,n)):[]}function _l(e,t,n){return e=Os(e),n=$n(Ds(n),0,e.length),e.lastIndexOf(ki(t),n)==n}function kl(e,t,n){var i=Mt.templateSettings;n&&Vr(e,t,n)&&(t=B),e=Os(e),t=ah({},t,i,sn);var r,o,a=ah({},t.imports,i.imports,sn),s=Ys(a),l=S(a,s),u=0,c=t.interpolate||kt,h="__p += '",d=lu((t.escape||kt).source+"|"+c.source+"|"+(c===at?vt:kt).source+"|"+(t.evaluate||kt).source+"|$","g"),f="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++bn+"]")+"\n";e.replace(d,function(t,n,i,a,s,l){return i||(i=a),h+=e.slice(u,l).replace(St,O),n&&(r=!0,h+="' +\n__e("+n+") +\n'"),s&&(o=!0,h+="';\n"+s+";\n__p += '"),i&&(h+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),u=l+t.length,t}),h+="';\n";var p=t.variable;p||(h="with (obj) {\n"+h+"\n}\n"),h=(o?h.replace(Je,""):h).replace(Qe,"$1").replace(Ze,"$1;"),h="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var m=kh(function(){return Function(s,f+"return "+h).apply(B,l)});if(m.source=h,is(m))throw m;return m}function Sl(e){return Os(e).toLowerCase()}function Ml(e){return Os(e).toUpperCase()}function Dl(e,t,n){if(e=Os(e),e&&(n||t===B))return e.replace(dt,"");if(!e||!(t=ki(t)))return e;var i=V(e),r=V(t),o=M(i,r),a=D(i,r)+1;return Hi(i,o,a).join("")}function Il(e,t,n){if(e=Os(e),e&&(n||t===B))return e.replace(pt,"");if(!e||!(t=ki(t)))return e;var i=V(e),r=D(i,V(t))+1;return Hi(i,0,r).join("")}function El(e,t,n){if(e=Os(e),e&&(n||t===B))return e.replace(ft,"");if(!e||!(t=ki(t)))return e;var i=V(e),r=M(i,V(t));return Hi(i,r).join("")}function Pl(e,t){var n=ue,i=ce;if(ls(t)){var r="separator"in t?t.separator:r;n="length"in t?Ds(t.length):n,i="omission"in t?ki(t.omission):i}e=Os(e);var o=e.length;if(gn.test(e)){var a=V(e);o=a.length}if(n>=o)return e;var s=n-j(i);if(1>s)return i;var l=a?Hi(a,0,s).join(""):e.slice(0,s);if(r===B)return l+i;if(a&&(s+=l.length-s),bs(r)){if(e.slice(s).search(r)){var u,c=l;for(r.global||(r=lu(r.source,Os(yt.exec(r))+"g")),r.lastIndex=0;u=r.exec(c);)var h=u.index;l=l.slice(0,h===B?s:h)}}else if(e.indexOf(ki(r),s)!=s){var d=l.lastIndexOf(r);d>-1&&(l=l.slice(0,d))}return l+i}function Al(e){return e=Os(e),e&&nt.test(e)?e.replace(et,W):e}function Ol(e,t,n){return e=Os(e),t=n?B:t,t===B&&(t=vn.test(e)?mn:mt),e.match(t)||[]}function Nl(e){var t=e?e.length:0,i=kr();return e=t?h(e,function(e){if("function"!=typeof e[1])throw new uu(X);return[i(e[0]),e[1]]}):[],Ra(function(i){for(var r=-1;++r<t;){var o=e[r];if(n(o[0],this,i))return n(o[1],this,i)}})}function Rl(e){return Tn(Cn(e,!0))}function Hl(e){return function(){return e}}function zl(e){return e}function Fl(e){return Zn("function"==typeof e?e:Cn(e,!0))}function Ll(e){return ri(Cn(e,!0))}function jl(e,t){return oi(e,Cn(t,!0))}function Vl(e,t,n){var i=Ys(t),r=Ln(t,i);null!=n||ls(t)&&(r.length||!i.length)||(n=t,t=e,e=this,r=Ln(t,Ys(t)));var a=!(ls(n)&&"chain"in n&&!n.chain),s=os(e);return o(r,function(n){var i=t[n];e[n]=i,s&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__),r=n.__actions__=Gi(this.__actions__);return r.push({func:i,args:arguments,thisArg:e}),n.__chain__=t,n}return i.apply(e,d([this.value()],arguments))})}),e}function Wl(){return Rn._===this&&(Rn._=yu),this}function ql(){}function Bl(e){return e=Ds(e),Ra(function(t){return li(t,e)})}function Ul(e){return Wr(e)?di(Zr(e)):fi(e)}function Yl(e){return function(t){return null==e?B:jn(e,t)}}function Xl(e,t){if(e=Ds(e),1>e||e>ve)return[];var n=we,i=Fu(e,we);t=kr(t),e-=we;for(var r=T(i,t);++n<e;)t(n);return r}function Kl(e){return eh(e)?h(e,Zr):Cs(e)?[e]:Gi(yc(e))}function Gl(e){var t=++mu;return Os(e)+t}function Jl(e){return e&&e.length?Pn(e,zl,Wn):B}function Ql(e,t){return e&&e.length?Pn(e,kr(t),Wn):B}function Zl(e){return w(e,zl)}function eu(e,t){return w(e,kr(t))}function tu(e){return e&&e.length?Pn(e,zl,ni):B}function nu(e,t){return e&&e.length?Pn(e,kr(t),ni):B}function iu(e){return e&&e.length?C(e,zl):0}function ru(e,t){return e&&e.length?C(e,kr(t)):0}I=I?Hn.defaults({},I,Hn.pick(Rn,yn)):Rn;var ou=I.Date,au=I.Error,su=I.Math,lu=I.RegExp,uu=I.TypeError,cu=I.Array.prototype,hu=I.Object.prototype,du=I.String.prototype,fu=I.Function.prototype.toString,pu=hu.hasOwnProperty,mu=0,gu=fu.call(Object),vu=hu.toString,yu=Rn._,bu=lu("^"+fu.call(pu).replace(ct,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wu=En?I.Buffer:B,xu=I.Reflect,$u=I.Symbol,Cu=I.Uint8Array,Tu=I.clearTimeout,_u=xu?xu.enumerate:B,ku=Object.getOwnPropertySymbols,Su="symbol"==typeof(Su=$u&&$u.iterator)?Su:B,Mu=Object.create,Du=hu.propertyIsEnumerable,Iu=I.setTimeout,Eu=cu.splice,Pu=su.ceil,Au=su.floor,Ou=Object.getPrototypeOf,Nu=I.isFinite,Ru=cu.join,Hu=Object.keys,zu=su.max,Fu=su.min,Lu=I.parseInt,ju=su.random,Vu=du.replace,Wu=cu.reverse,qu=du.split,Bu=Mr(I,"DataView"),Uu=Mr(I,"Map"),Yu=Mr(I,"Promise"),Xu=Mr(I,"Set"),Ku=Mr(I,"WeakMap"),Gu=Mr(Object,"create"),Ju=Ku&&new Ku,Qu=!Du.call({valueOf:1},"valueOf"),Zu={},ec=eo(Bu),tc=eo(Uu),nc=eo(Yu),ic=eo(Xu),rc=eo(Ku),oc=$u?$u.prototype:B,ac=oc?oc.valueOf:B,sc=oc?oc.toString:B;Mt.templateSettings={escape:rt,evaluate:ot,interpolate:at,variable:"",imports:{_:Mt}},Mt.prototype=Dt.prototype,Mt.prototype.constructor=Mt,It.prototype=_n(Dt.prototype),It.prototype.constructor=It,Et.prototype=_n(Dt.prototype),Et.prototype.constructor=Et,Nt.prototype=Gu?Gu(null):hu,Lt.prototype.clear=jt,Lt.prototype["delete"]=Vt,Lt.prototype.get=Wt,Lt.prototype.has=qt,Lt.prototype.set=Bt,Ut.prototype.push=Xt,Kt.prototype.clear=Gt,Kt.prototype["delete"]=Jt,Kt.prototype.get=Qt,Kt.prototype.has=Zt,Kt.prototype.set=en;var lc=tr(zn),uc=tr(Fn,!0),cc=nr(),hc=nr(!0);_u&&!Du.call({valueOf:1},"valueOf")&&(ti=function(e){return H(_u(e))});var dc=Ju?function(e,t){return Ju.set(e,t),e}:zl,fc=Xu&&1/L(new Xu([,-0]))[1]==ge?function(e){return new Xu(e)}:ql,pc=Ju?function(e){return Ju.get(e)}:ql,mc=di("length");ku||(Er=function(){return[]});var gc=ku?function(e){for(var t=[];e;)d(t,Er(e)),e=Ir(e);return t}:Er;(Bu&&Pr(new Bu(new ArrayBuffer(1)))!=je||Uu&&Pr(new Uu)!=Ie||Yu&&Pr(Yu.resolve())!=Ae||Xu&&Pr(new Xu)!=Ne||Ku&&Pr(new Ku)!=ze)&&(Pr=function(e){var t=vu.call(e),n=t==Pe?e.constructor:B,i=n?eo(n):B;if(i)switch(i){case ec:return je;case tc:return Ie;case nc:return Ae;case ic:return Ne;case rc:return ze}return t});var vc=function(){var e=0,t=0;return function(n,i){var r=Wc(),o=de-(r-t);if(t=r,o>0){if(++e>=he)return n}else e=0;return dc(n,i)}}(),yc=Aa(function(e){var t=[];return Os(e).replace(ut,function(e,n,i,r){t.push(i?r.replace(gt,"$1"):n||e)}),t}),bc=Ra(function(e,t){return Ga(e)?Dn(e,Nn(t,1,Ga,!0)):[]}),wc=Ra(function(e,t){var n=xo(t);return Ga(n)&&(n=B),Ga(e)?Dn(e,Nn(t,1,Ga,!0),kr(n)):[]}),xc=Ra(function(e,t){var n=xo(t);return Ga(n)&&(n=B),Ga(e)?Dn(e,Nn(t,1,Ga,!0),B,n):[]}),$c=Ra(function(e){var t=h(e,Oi);return t.length&&t[0]===e[0]?Yn(t):[]}),Cc=Ra(function(e){var t=xo(e),n=h(e,Oi);return t===xo(n)?t=B:n.pop(),n.length&&n[0]===e[0]?Yn(n,kr(t)):[]}),Tc=Ra(function(e){var t=xo(e),n=h(e,Oi);return t===xo(n)?t=B:n.pop(),n.length&&n[0]===e[0]?Yn(n,B,t):[]}),_c=Ra(To),kc=Ra(function(e,t){t=Nn(t,1);var n=e?e.length:0,i=pn(e,t);return mi(e,h(t,function(e){return jr(e,n)?+e:e}).sort(Ui)),i}),Sc=Ra(function(e){return Si(Nn(e,1,Ga,!0))}),Mc=Ra(function(e){var t=xo(e);return Ga(t)&&(t=B),Si(Nn(e,1,Ga,!0),kr(t))}),Dc=Ra(function(e){var t=xo(e);return Ga(t)&&(t=B),Si(Nn(e,1,Ga,!0),B,t)}),Ic=Ra(function(e,t){return Ga(e)?Dn(e,t):[]}),Ec=Ra(function(e){return Pi(l(e,Ga))}),Pc=Ra(function(e){var t=xo(e);return Ga(t)&&(t=B),Pi(l(e,Ga),kr(t))}),Ac=Ra(function(e){var t=xo(e);return Ga(t)&&(t=B),Pi(l(e,Ga),B,t)}),Oc=Ra(Uo),Nc=Ra(function(e){var t=e.length,n=t>1?e[t-1]:B;return n="function"==typeof n?(e.pop(),n):B,Yo(e,n)}),Rc=Ra(function(e){e=Nn(e,1);var t=e.length,n=t?e[0]:0,i=this.__wrapped__,r=function(t){return pn(t,e)};return!(t>1||this.__actions__.length)&&i instanceof Et&&jr(n)?(i=i.slice(n,+n+(t?1:0)),i.__actions__.push({func:Qo,args:[r],thisArg:B}),new It(i,this.__chain__).thru(function(e){return t&&!e.length&&e.push(B),e})):this.thru(r)}),Hc=Zi(function(e,t,n){pu.call(e,n)?++e[n]:e[n]=1}),zc=Zi(function(e,t,n){pu.call(e,n)?e[n].push(t):e[n]=[t]}),Fc=Ra(function(e,t,i){var r=-1,o="function"==typeof t,a=Wr(t),s=Ka(e)?Array(e.length):[];return lc(e,function(e){var l=o?t:a&&null!=e?e[t]:B;s[++r]=l?n(l,e,i):Kn(e,t,i)}),s}),Lc=Zi(function(e,t,n){e[n]=t}),jc=Zi(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),Vc=Ra(function(e,t){if(null==e)return[];var n=t.length;return n>1&&Vr(e,t[0],t[1])?t=[]:n>2&&Vr(t[0],t[1],t[2])&&(t=[t[0]]),t=1==t.length&&eh(t[0])?t[0]:Nn(t,1,Lr),ui(e,t,[])}),Wc=ou.now,qc=Ra(function(e,t,n){var i=J;if(n.length){var r=F(n,Dr(qc));i|=ne}return br(e,i,t,n,r)}),Bc=Ra(function(e,t,n){var i=J|Q;if(n.length){var r=F(n,Dr(Bc));i|=ne}return br(t,i,e,n,r)}),Uc=Ra(function(e,t){return kn(e,1,t)}),Yc=Ra(function(e,t,n){return kn(e,Es(t)||0,n)});Aa.Cache=Lt;var Xc=Ra(function(e,t){t=1==t.length&&eh(t[0])?h(t[0],k(kr())):h(Nn(t,1,Lr),k(kr()));var i=t.length;return Ra(function(r){for(var o=-1,a=Fu(r.length,i);++o<a;)r[o]=t[o].call(this,r[o]);return n(e,this,r)})}),Kc=Ra(function(e,t){var n=F(t,Dr(Kc));return br(e,ne,B,t,n)}),Gc=Ra(function(e,t){var n=F(t,Dr(Gc));return br(e,ie,B,t,n)}),Jc=Ra(function(e,t){return br(e,oe,B,B,B,Nn(t,1))}),Qc=gr(Wn),Zc=gr(function(e,t){return e>=t}),eh=Array.isArray,th=wu?function(e){return e instanceof wu}:Hl(!1),nh=gr(ni),ih=gr(function(e,t){return t>=e}),rh=er(function(e,t){if(Qu||Ur(t)||Ka(t))return void Ji(t,Ys(t),e);for(var n in t)pu.call(t,n)&&un(e,n,t[n])}),oh=er(function(e,t){if(Qu||Ur(t)||Ka(t))return void Ji(t,Xs(t),e);for(var n in t)un(e,n,t[n])}),ah=er(function(e,t,n,i){Ji(t,Xs(t),e,i)}),sh=er(function(e,t,n,i){Ji(t,Ys(t),e,i)}),lh=Ra(function(e,t){return pn(e,Nn(t,1))}),uh=Ra(function(e){return e.push(B,sn),n(ah,B,e)}),ch=Ra(function(e){return e.push(B,Gr),n(mh,B,e)}),hh=cr(function(e,t,n){e[t]=n},Hl(zl)),dh=cr(function(e,t,n){pu.call(e,t)?e[t].push(n):e[t]=[n]},kr),fh=Ra(Kn),ph=er(function(e,t,n){ai(e,t,n)}),mh=er(function(e,t,n,i){ai(e,t,n,i)}),gh=Ra(function(e,t){return null==e?{}:(t=h(Nn(t,1),Zr),ci(e,Dn(Tr(e),t)))}),vh=Ra(function(e,t){return null==e?{}:ci(e,h(Nn(t,1),Zr))}),yh=or(function(e,t,n){return t=t.toLowerCase(),e+(n?fl(t):t)}),bh=or(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),wh=or(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),xh=rr("toLowerCase"),$h=or(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Ch=or(function(e,t,n){return e+(n?" ":"")+_h(t)}),Th=or(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),_h=rr("toUpperCase"),kh=Ra(function(e,t){try{return n(e,B,t)}catch(i){return is(i)?i:new au(i)}}),Sh=Ra(function(e,t){return o(Nn(t,1),function(t){t=Zr(t),e[t]=qc(e[t],e)}),e}),Mh=lr(),Dh=lr(!0),Ih=Ra(function(e,t){return function(n){return Kn(n,e,t)}}),Eh=Ra(function(e,t){return function(n){return Kn(e,n,t)}}),Ph=dr(h),Ah=dr(s),Oh=dr(m),Nh=mr(),Rh=mr(!0),Hh=hr(function(e,t){return e+t}),zh=yr("ceil"),Fh=hr(function(e,t){return e/t}),Lh=yr("floor"),jh=hr(function(e,t){return e*t}),Vh=yr("round"),Wh=hr(function(e,t){return e-t});return Mt.after=ka,Mt.ary=Sa,Mt.assign=rh,Mt.assignIn=oh,Mt.assignInWith=ah,Mt.assignWith=sh,Mt.at=lh,Mt.before=Ma,Mt.bind=qc,Mt.bindAll=Sh,Mt.bindKey=Bc,Mt.castArray=ja,Mt.chain=Go,Mt.chunk=no,Mt.compact=io,Mt.concat=ro,Mt.cond=Nl,Mt.conforms=Rl,Mt.constant=Hl,Mt.countBy=Hc,Mt.create=Ns,Mt.curry=Da,Mt.curryRight=Ia,Mt.debounce=Ea,Mt.defaults=uh,Mt.defaultsDeep=ch,Mt.defer=Uc,Mt.delay=Yc,Mt.difference=bc,Mt.differenceBy=wc,Mt.differenceWith=xc,Mt.drop=oo,Mt.dropRight=ao,Mt.dropRightWhile=so,Mt.dropWhile=lo,Mt.fill=uo,Mt.filter=sa,Mt.flatMap=ca,Mt.flatMapDeep=ha,Mt.flatMapDepth=da,Mt.flatten=fo,Mt.flattenDeep=po,Mt.flattenDepth=mo,Mt.flip=Pa,Mt.flow=Mh,Mt.flowRight=Dh,Mt.fromPairs=go,Mt.functions=Vs,Mt.functionsIn=Ws,Mt.groupBy=zc,Mt.initial=bo,Mt.intersection=$c,Mt.intersectionBy=Cc,Mt.intersectionWith=Tc,Mt.invert=hh,Mt.invertBy=dh,Mt.invokeMap=Fc,Mt.iteratee=Fl,Mt.keyBy=Lc,Mt.keys=Ys,Mt.keysIn=Xs,Mt.map=ga,Mt.mapKeys=Ks,Mt.mapValues=Gs,Mt.matches=Ll,Mt.matchesProperty=jl,Mt.memoize=Aa,Mt.merge=ph,Mt.mergeWith=mh,Mt.method=Ih,Mt.methodOf=Eh,Mt.mixin=Vl,Mt.negate=Oa,Mt.nthArg=Bl,Mt.omit=gh,Mt.omitBy=Js,Mt.once=Na,Mt.orderBy=va,Mt.over=Ph,Mt.overArgs=Xc,Mt.overEvery=Ah,Mt.overSome=Oh,Mt.partial=Kc,Mt.partialRight=Gc,Mt.partition=jc,Mt.pick=vh,Mt.pickBy=Qs,Mt.property=Ul,Mt.propertyOf=Yl,Mt.pull=_c,Mt.pullAll=To,Mt.pullAllBy=_o,Mt.pullAllWith=ko,Mt.pullAt=kc,Mt.range=Nh,Mt.rangeRight=Rh,Mt.rearg=Jc,Mt.reject=wa,Mt.remove=So,Mt.rest=Ra,Mt.reverse=Mo,Mt.sampleSize=$a,Mt.set=el,Mt.setWith=tl,Mt.shuffle=Ca,Mt.slice=Do,Mt.sortBy=Vc,Mt.sortedUniq=Ro,Mt.sortedUniqBy=Ho,Mt.split=Tl,Mt.spread=Ha,Mt.tail=zo,Mt.take=Fo,Mt.takeRight=Lo,Mt.takeRightWhile=jo,Mt.takeWhile=Vo,Mt.tap=Jo,Mt.throttle=za,Mt.thru=Qo,Mt.toArray=Ms,Mt.toPairs=nl,Mt.toPairsIn=il,Mt.toPath=Kl,Mt.toPlainObject=Ps,Mt.transform=rl,Mt.unary=Fa,Mt.union=Sc,Mt.unionBy=Mc,Mt.unionWith=Dc,Mt.uniq=Wo,Mt.uniqBy=qo,Mt.uniqWith=Bo,Mt.unset=ol,Mt.unzip=Uo,Mt.unzipWith=Yo,Mt.update=al,Mt.updateWith=sl,Mt.values=ll,Mt.valuesIn=ul,Mt.without=Ic,Mt.words=Ol,Mt.wrap=La,Mt.xor=Ec,Mt.xorBy=Pc,Mt.xorWith=Ac,Mt.zip=Oc,Mt.zipObject=Xo,Mt.zipObjectDeep=Ko,Mt.zipWith=Nc,Mt.entries=nl,Mt.entriesIn=il,Mt.extend=oh,Mt.extendWith=ah,Vl(Mt,Mt),Mt.add=Hh,Mt.attempt=kh,Mt.camelCase=yh,Mt.capitalize=fl,Mt.ceil=zh,Mt.clamp=cl,Mt.clone=Va,Mt.cloneDeep=qa,Mt.cloneDeepWith=Ba,Mt.cloneWith=Wa,Mt.deburr=pl,Mt.divide=Fh,Mt.endsWith=ml,Mt.eq=Ua,Mt.escape=gl,Mt.escapeRegExp=vl,Mt.every=aa,Mt.find=la,Mt.findIndex=co,Mt.findKey=Rs,Mt.findLast=ua,Mt.findLastIndex=ho,Mt.findLastKey=Hs,Mt.floor=Lh,Mt.forEach=fa,Mt.forEachRight=pa,Mt.forIn=zs,Mt.forInRight=Fs,Mt.forOwn=Ls,Mt.forOwnRight=js,Mt.get=qs,Mt.gt=Qc,Mt.gte=Zc,Mt.has=Bs,Mt.hasIn=Us,Mt.head=vo,Mt.identity=zl,Mt.includes=ma,Mt.indexOf=yo,Mt.inRange=hl,Mt.invoke=fh,Mt.isArguments=Ya,Mt.isArray=eh,Mt.isArrayBuffer=Xa,Mt.isArrayLike=Ka,Mt.isArrayLikeObject=Ga,Mt.isBoolean=Ja,Mt.isBuffer=th,Mt.isDate=Qa,Mt.isElement=Za,Mt.isEmpty=es,Mt.isEqual=ts,Mt.isEqualWith=ns,Mt.isError=is,Mt.isFinite=rs,Mt.isFunction=os,Mt.isInteger=as,Mt.isLength=ss,Mt.isMap=cs,Mt.isMatch=hs,Mt.isMatchWith=ds,Mt.isNaN=fs,Mt.isNative=ps,Mt.isNil=gs,Mt.isNull=ms,Mt.isNumber=vs,Mt.isObject=ls,Mt.isObjectLike=us,Mt.isPlainObject=ys,Mt.isRegExp=bs,Mt.isSafeInteger=ws,Mt.isSet=xs,Mt.isString=$s,Mt.isSymbol=Cs,Mt.isTypedArray=Ts,Mt.isUndefined=_s,Mt.isWeakMap=ks,Mt.isWeakSet=Ss,Mt.join=wo,Mt.kebabCase=bh,Mt.last=xo,Mt.lastIndexOf=$o,Mt.lowerCase=wh,Mt.lowerFirst=xh,Mt.lt=nh,Mt.lte=ih,Mt.max=Jl,Mt.maxBy=Ql,Mt.mean=Zl,Mt.meanBy=eu,Mt.min=tu,Mt.minBy=nu,Mt.multiply=jh,Mt.nth=Co,Mt.noConflict=Wl,Mt.noop=ql,Mt.now=Wc,Mt.pad=yl,Mt.padEnd=bl,Mt.padStart=wl,Mt.parseInt=xl,Mt.random=dl,Mt.reduce=ya,Mt.reduceRight=ba,Mt.repeat=$l,Mt.replace=Cl,Mt.result=Zs,Mt.round=Vh,Mt.runInContext=q,Mt.sample=xa,Mt.size=Ta,Mt.snakeCase=$h,Mt.some=_a,Mt.sortedIndex=Io,Mt.sortedIndexBy=Eo,Mt.sortedIndexOf=Po,Mt.sortedLastIndex=Ao,Mt.sortedLastIndexBy=Oo,Mt.sortedLastIndexOf=No,Mt.startCase=Ch,Mt.startsWith=_l,Mt.subtract=Wh,Mt.sum=iu,Mt.sumBy=ru,Mt.template=kl,Mt.times=Xl,Mt.toInteger=Ds,Mt.toLength=Is,Mt.toLower=Sl,Mt.toNumber=Es,Mt.toSafeInteger=As,Mt.toString=Os,Mt.toUpper=Ml,Mt.trim=Dl,Mt.trimEnd=Il,Mt.trimStart=El,Mt.truncate=Pl,Mt.unescape=Al,Mt.uniqueId=Gl,Mt.upperCase=Th,Mt.upperFirst=_h,Mt.each=fa,Mt.eachRight=pa,Mt.first=vo,Vl(Mt,function(){var e={};return zn(Mt,function(t,n){pu.call(Mt.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),Mt.VERSION=U,o(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){Mt[e].placeholder=Mt}),o(["drop","take"],function(e,t){Et.prototype[e]=function(n){var i=this.__filtered__;if(i&&!t)return new Et(this);n=n===B?1:zu(Ds(n),0);var r=this.clone();return i?r.__takeCount__=Fu(n,r.__takeCount__):r.__views__.push({size:Fu(n,we),type:e+(r.__dir__<0?"Right":"")}),r},Et.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),o(["filter","map","takeWhile"],function(e,t){var n=t+1,i=n==fe||n==me;Et.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:kr(e,3),type:n}),t.__filtered__=t.__filtered__||i,t}}),o(["head","last"],function(e,t){var n="take"+(t?"Right":"");Et.prototype[e]=function(){return this[n](1).value()[0]}}),o(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");Et.prototype[e]=function(){return this.__filtered__?new Et(this):this[n](1)}}),Et.prototype.compact=function(){return this.filter(zl)},Et.prototype.find=function(e){return this.filter(e).head()},Et.prototype.findLast=function(e){return this.reverse().find(e)},Et.prototype.invokeMap=Ra(function(e,t){return"function"==typeof e?new Et(this):this.map(function(n){return Kn(n,e,t)})}),Et.prototype.reject=function(e){return e=kr(e,3),this.filter(function(t){return!e(t)})},Et.prototype.slice=function(e,t){e=Ds(e);var n=this;return n.__filtered__&&(e>0||0>t)?new Et(n):(0>e?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==B&&(t=Ds(t),n=0>t?n.dropRight(-t):n.take(t-e)),n)},Et.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Et.prototype.toArray=function(){return this.take(we)},zn(Et.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),r=Mt[i?"take"+("last"==t?"Right":""):t],o=i||/^find/.test(t);r&&(Mt.prototype[t]=function(){var t=this.__wrapped__,a=i?[1]:arguments,s=t instanceof Et,l=a[0],u=s||eh(t),c=function(e){var t=r.apply(Mt,d([e],a));return i&&h?t[0]:t};u&&n&&"function"==typeof l&&1!=l.length&&(s=u=!1);var h=this.__chain__,f=!!this.__actions__.length,p=o&&!h,m=s&&!f;if(!o&&u){t=m?t:new Et(this);var g=e.apply(t,a);return g.__actions__.push({func:Qo,args:[c],thisArg:B}),new It(g,h)}return p&&m?e.apply(this,a):(g=this.thru(c),p?i?g.value()[0]:g.value():g)})}),o(["pop","push","shift","sort","splice","unshift"],function(e){var t=cu[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);Mt.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var r=this.value();return t.apply(eh(r)?r:[],e)}return this[n](function(n){return t.apply(eh(n)?n:[],e)})}}),zn(Et.prototype,function(e,t){var n=Mt[t];if(n){var i=n.name+"",r=Zu[i]||(Zu[i]=[]);r.push({name:t,func:n})}}),Zu[ur(B,Q).name]=[{name:"wrapper",func:B}],Et.prototype.clone=Pt,Et.prototype.reverse=At,Et.prototype.value=Ot,Mt.prototype.at=Rc,Mt.prototype.chain=Zo,Mt.prototype.commit=ea,Mt.prototype.next=ta,Mt.prototype.plant=ia,Mt.prototype.reverse=ra,Mt.prototype.toJSON=Mt.prototype.valueOf=Mt.prototype.value=oa,Su&&(Mt.prototype[Su]=na),Mt}var B,U="4.11.2",Y=200,X="Expected a function",K="__lodash_hash_undefined__",G="__lodash_placeholder__",J=1,Q=2,Z=4,ee=8,te=16,ne=32,ie=64,re=128,oe=256,ae=512,se=1,le=2,ue=30,ce="...",he=150,de=16,fe=1,pe=2,me=3,ge=1/0,ve=9007199254740991,ye=1.7976931348623157e308,be=NaN,we=4294967295,xe=we-1,$e=we>>>1,Ce="[object Arguments]",Te="[object Array]",_e="[object Boolean]",ke="[object Date]",Se="[object Error]",Me="[object Function]",De="[object GeneratorFunction]",Ie="[object Map]",Ee="[object Number]",Pe="[object Object]",Ae="[object Promise]",Oe="[object RegExp]",Ne="[object Set]",Re="[object String]",He="[object Symbol]",ze="[object WeakMap]",Fe="[object WeakSet]",Le="[object ArrayBuffer]",je="[object DataView]",Ve="[object Float32Array]",We="[object Float64Array]",qe="[object Int8Array]",Be="[object Int16Array]",Ue="[object Int32Array]",Ye="[object Uint8Array]",Xe="[object Uint8ClampedArray]",Ke="[object Uint16Array]",Ge="[object Uint32Array]",Je=/\b__p \+= '';/g,Qe=/\b(__p \+=) '' \+/g,Ze=/(__e\(.*?\)|\b__t\)) \+\n'';/g,et=/&(?:amp|lt|gt|quot|#39|#96);/g,tt=/[&<>"'`]/g,nt=RegExp(et.source),it=RegExp(tt.source),rt=/<%-([\s\S]+?)%>/g,ot=/<%([\s\S]+?)%>/g,at=/<%=([\s\S]+?)%>/g,st=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,lt=/^\w*$/,ut=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,ct=/[\\^$.*+?()[\]{}|]/g,ht=RegExp(ct.source),dt=/^\s+|\s+$/g,ft=/^\s+/,pt=/\s+$/,mt=/[a-zA-Z0-9]+/g,gt=/\\(\\)?/g,vt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,yt=/\w*$/,bt=/^0x/i,wt=/^[-+]0x[0-9a-f]+$/i,xt=/^0b[01]+$/i,$t=/^\[object .+?Constructor\]$/,Ct=/^0o[0-7]+$/i,Tt=/^(?:0|[1-9]\d*)$/,_t=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,kt=/($^)/,St=/['\n\r\u2028\u2029\\]/g,Mt="\\ud800-\\udfff",Dt="\\u0300-\\u036f\\ufe20-\\ufe23",It="\\u20d0-\\u20f0",Et="\\u2700-\\u27bf",Pt="a-z\\xdf-\\xf6\\xf8-\\xff",At="\\xac\\xb1\\xd7\\xf7",Ot="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Nt="\\u2000-\\u206f",Rt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ht="A-Z\\xc0-\\xd6\\xd8-\\xde",zt="\\ufe0e\\ufe0f",Ft=At+Ot+Nt+Rt,Lt="[']",jt="["+Mt+"]",Vt="["+Ft+"]",Wt="["+Dt+It+"]",qt="\\d+",Bt="["+Et+"]",Ut="["+Pt+"]",Yt="[^"+Mt+Ft+qt+Et+Pt+Ht+"]",Xt="\\ud83c[\\udffb-\\udfff]",Kt="(?:"+Wt+"|"+Xt+")",Gt="[^"+Mt+"]",Jt="(?:\\ud83c[\\udde6-\\uddff]){2}",Qt="[\\ud800-\\udbff][\\udc00-\\udfff]",Zt="["+Ht+"]",en="\\u200d",tn="(?:"+Ut+"|"+Yt+")",nn="(?:"+Zt+"|"+Yt+")",rn="(?:"+Lt+"(?:d|ll|m|re|s|t|ve))?",on="(?:"+Lt+"(?:D|LL|M|RE|S|T|VE))?",an=Kt+"?",sn="["+zt+"]?",ln="(?:"+en+"(?:"+[Gt,Jt,Qt].join("|")+")"+sn+an+")*",un=sn+an+ln,cn="(?:"+[Bt,Jt,Qt].join("|")+")"+un,hn="(?:"+[Gt+Wt+"?",Wt,Jt,Qt,jt].join("|")+")",dn=RegExp(Lt,"g"),fn=RegExp(Wt,"g"),pn=RegExp(Xt+"(?="+Xt+")|"+hn+un,"g"),mn=RegExp([Zt+"?"+Ut+"+"+rn+"(?="+[Vt,Zt,"$"].join("|")+")",nn+"+"+on+"(?="+[Vt,Zt+tn,"$"].join("|")+")",Zt+"?"+tn+"+"+rn,Zt+"+"+on,qt,cn].join("|"),"g"),gn=RegExp("["+en+Mt+Dt+It+zt+"]"),vn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,yn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","Reflect","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],bn=-1,wn={};
wn[Ve]=wn[We]=wn[qe]=wn[Be]=wn[Ue]=wn[Ye]=wn[Xe]=wn[Ke]=wn[Ge]=!0,wn[Ce]=wn[Te]=wn[Le]=wn[_e]=wn[je]=wn[ke]=wn[Se]=wn[Me]=wn[Ie]=wn[Ee]=wn[Pe]=wn[Oe]=wn[Ne]=wn[Re]=wn[ze]=!1;var xn={};xn[Ce]=xn[Te]=xn[Le]=xn[je]=xn[_e]=xn[ke]=xn[Ve]=xn[We]=xn[qe]=xn[Be]=xn[Ue]=xn[Ie]=xn[Ee]=xn[Pe]=xn[Oe]=xn[Ne]=xn[Re]=xn[He]=xn[Ye]=xn[Xe]=xn[Ke]=xn[Ge]=!0,xn[Se]=xn[Me]=xn[ze]=!1;var $n={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},Cn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Tn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},_n={"function":!0,object:!0},kn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Sn=parseFloat,Mn=parseInt,Dn=_n[typeof exports]&&exports&&!exports.nodeType?exports:B,In=_n[typeof module]&&module&&!module.nodeType?module:B,En=In&&In.exports===Dn?Dn:B,Pn=I(Dn&&In&&"object"==typeof global&&global),An=I(_n[typeof self]&&self),On=I(_n[typeof window]&&window),Nn=I(_n[typeof this]&&this),Rn=Pn||On!==(Nn&&Nn.window)&&On||An||Nn||Function("return this")(),Hn=q();(On||An||{})._=Hn,"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return Hn}):Dn&&In?(En&&((In.exports=Hn)._=Hn),Dn._=Hn):Rn._=Hn}.call(this),angular.module("ngRangeFilter",[]).filter("range",range),"undefined"==typeof cornerstone&&(cornerstone={internal:{},rendering:{}}),function(e){"use strict";function t(t){if(void 0===t)throw"disable: element element must not be undefined";for(var n=e.getEnabledElements(),i=0;i<n.length;i++)if(n[i].element===t){var r={element:t};return $(t).trigger("CornerstoneElementDisabled",r),n[i].element.removeChild(n[i].canvas),void n.splice(i,1)}}e.disable=t}(cornerstone),function(e,t){"use strict";function n(n,i,r){if(void 0===n)throw"displayImage: parameter element cannot be undefined";if(void 0===i)throw"displayImage: parameter image cannot be undefined";var o=t.getEnabledElement(n);if(o.image=i,void 0===o.viewport&&(o.viewport=t.internal.getDefaultViewport(o.canvas,i)),r)for(var a in r)null!==r[a]&&(o.viewport[a]=r[a]);var s,l=new Date;if(void 0!==o.lastImageTimeStamp){var u=l.getTime()-o.lastImageTimeStamp;s=(1e3/u).toFixed()}o.lastImageTimeStamp=l.getTime();var c={viewport:o.viewport,element:o.element,image:o.image,enabledElement:o,frameRate:s};e(o.element).trigger("CornerstoneNewImage",c),t.updateImage(n)}t.displayImage=n}($,cornerstone),function(e,t){"use strict";function n(e){var n=t.getEnabledElement(e);if(void 0===n.image)throw"draw: image has not been loaded yet";t.drawImage(n)}t.draw=n}($,cornerstone),function(e,t){"use strict";function n(){for(var e=t.getEnabledElements(),n=0;n<e.length;n++){var i=e[n];i.invalid===!0&&t.drawImage(i)}}t.drawInvalidated=n}($,cornerstone),function(e){"use strict";function t(t){if(void 0===t)throw"enable: parameter element cannot be undefined";var n=document.createElement("canvas");t.appendChild(n);var i={element:t,canvas:n,image:void 0,invalid:!1,data:{}};return e.addEnabledElement(i),e.resize(t,!0),t}e.enable=t}(cornerstone),function(e){"use strict";function t(t,n){var i=e.getEnabledElement(t);return i.data.hasOwnProperty(n)===!1&&(i.data[n]={}),i.data[n]}function n(t,n){var i=e.getEnabledElement(t);delete i.data[n]}e.getElementData=t,e.removeElementData=n}(cornerstone),function(e){"use strict";function t(e){if(void 0===e)throw"getEnabledElement: parameter element must not be undefined";for(var t=0;t<o.length;t++)if(o[t].element==e)return o[t];throw"element not enabled"}function n(e){if(void 0===e)throw"getEnabledElement: enabledElement element must not be undefined";o.push(e)}function i(e){var t=[];return o.forEach(function(n){n.image&&n.image.imageId===e&&t.push(n)}),t}function r(){return o}var o=[];e.getEnabledElement=t,e.addEnabledElement=n,e.getEnabledElementsByImageId=i,e.getEnabledElements=r}(cornerstone),function(e){"use strict";function t(e){return 0===e.viewport.rotation||180===e.viewport.rotation?{width:e.image.width,height:e.image.height}:{width:e.image.height,height:e.image.width}}function n(n){var i=e.getEnabledElement(n),r=t(i),o=i.canvas.height/r.height,a=i.canvas.width/r.width;o>a?i.viewport.scale=a:i.viewport.scale=o,i.viewport.translation.x=0,i.viewport.translation.y=0,e.updateImage(n)}e.fitToWindow=n}(cornerstone),function(e,t){"use strict";function n(e,n){var i=t.getEnabledElement(e),r=t.internal.getDefaultViewport(i.canvas,n);return r}t.getDefaultViewportForImage=n}($,cornerstone),function(e,t){"use strict";function n(e){var n=t.getEnabledElement(e);return n.image}t.getImage=n}($,cornerstone),function(e){"use strict";function t(t,n,i,r,o){var a=e.getStoredPixels(t,n,i,r,o),s=e.getEnabledElement(t),l=e.internal.getModalityLUT(s.image.slope,s.image.intercept,s.viewport.modalityLUT),u=a.map(l);return u}e.getPixels=t}(cornerstone),function(e){"use strict";function t(t,n,i,r,o){if(void 0===t)throw"getStoredPixels: parameter element must not be undefined";n=Math.round(n),i=Math.round(i);for(var a=e.getEnabledElement(t),s=[],l=0,u=a.image.getPixelData(),c=0;o>c;c++)for(var h=0;r>h;h++){var d=(c+i)*a.image.columns+(h+n);s[l++]=u[d]}return s}e.getStoredPixels=t}(cornerstone),function(e){"use strict";function t(t){var n=e.getEnabledElement(t),i=n.viewport;return void 0!==i?{scale:i.scale,translation:{x:i.translation.x,y:i.translation.y},voi:{windowWidth:i.voi.windowWidth,windowCenter:i.voi.windowCenter},invert:i.invert,pixelReplication:i.pixelReplication,rotation:i.rotation,hflip:i.hflip,vflip:i.vflip,modalityLUT:i.modalityLUT,voiLUT:i.voiLUT}:void 0}e.getViewport=t}(cornerstone),function(e){"use strict";function t(e){if(void 0===e)throw"setMaximumSizeBytes: parameter numBytes must not be undefined";if(void 0===e.toFixed)throw"setMaximumSizeBytes: parameter numBytes must be a number";f=e,n()}function n(){function t(e,t){return e.timeStamp>t.timeStamp?-1:e.timeStamp<t.timeStamp?1:0}if(!(f>=p)){for(d.sort(t);p>f;){var n=d[d.length-1];p-=n.sizeInBytes,delete c[n.imageId],n.imagePromise.reject(),d.pop(),$(e).trigger("CornerstoneImageCachePromiseRemoved",{imageId:n.imageId})}var i=e.imageCache.getCacheInfo();$(e).trigger("CornerstoneImageCacheFull",i)}}function i(e,t){if(void 0===e)throw"getImagePromise: imageId must not be undefined";if(void 0===t)throw"getImagePromise: imagePromise must not be undefined";if(c.hasOwnProperty(e)===!0)throw"putImagePromise: imageId already in cache";var i={loaded:!1,imageId:e,sharedCacheKey:void 0,imagePromise:t,timeStamp:new Date,sizeInBytes:0};c[e]=i,d.push(i),t.then(function(e){if(i.loaded=!0,void 0===e.sizeInBytes)throw"putImagePromise: image does not have sizeInBytes property or";if(void 0===e.sizeInBytes.toFixed)throw"putImagePromise: image.sizeInBytes is not a number";e.sharedCacheKey?(i.sizeInBytes=e.sizeInBytes,i.sharedCacheKey=e.sharedCacheKey,h[e.sharedCacheKey]?h[e.sharedCacheKey]++:(h[e.sharedCacheKey]=1,p+=i.sizeInBytes)):(i.sizeInBytes=e.sizeInBytes,p+=i.sizeInBytes),n()})}function r(e){if(void 0===e)throw"getImagePromise: imageId must not be undefined";var t=c[e];if(void 0!==t)return t.timeStamp=new Date,t.imagePromise}function o(e){if(void 0===e)throw"removeImagePromise: imageId must not be undefined";var t=c[e];if(void 0===t)throw"removeImagePromise: imageId must not be undefined";return d.splice(d.indexOf(t),1),d.sharedCacheKey?1===h[d.sharedCacheKey]?(p-=t.sizeInBytes,delete h[d.sharedCacheKey]):h[d.sharedCacheKey]--:p-=t.sizeInBytes,delete c[e],s(t.imagePromise,t.imageId),t.imagePromise}function a(){return{maximumSizeInBytes:f,cacheSizeInBytes:p,numberOfImagesCached:d.length}}function s(e,t){e.then(function(n){n.decache&&n.decache(),e.reject(),delete c[t]}).always(function(){delete c[t]})}function l(){for(;d.length>0;){var e=d.pop();s(e.imagePromise,e.imageId)}p=0}function u(e,t){var n=c[e];n&&n.imagePromise.then(function(e){var n=t-e.sizeInBytes;e.sizeInBytes=t,p+=n})}var c={},h={},d=[],f=1073741824,p=0;e.imageCache={putImagePromise:i,getImagePromise:r,removeImagePromise:o,setMaximumSizeBytes:t,getCacheInfo:a,purgeCache:l,cachedImages:d,changeImageIdCacheSize:u}}(cornerstone),function(e,t){"use strict";function n(n){var i,r=n.indexOf(":"),o=n.substring(0,r),a=l[o];return void 0===a||null===a?void 0!==s?i=s(n):void 0:(i=a(n),i.then(function(n){e(t).trigger("CornerstoneImageLoaded",{image:n})}),i)}function i(e){if(void 0===e)throw"loadImage: parameter imageId must not be undefined";var i=t.imageCache.getImagePromise(e);if(void 0!==i)return i;if(i=n(e),void 0===i)throw"loadImage: no image loader for imageId";return i}function r(e){if(void 0===e)throw"loadAndCacheImage: parameter imageId must not be undefined";var i=t.imageCache.getImagePromise(e);if(void 0!==i)return i;if(i=n(e),void 0===i)throw"loadAndCacheImage: no image loader for imageId";return t.imageCache.putImagePromise(e,i),i}function o(e,t){l[e]=t}function a(e){var t=s;return s=e,t}var s,l={};t.loadImage=i,t.loadAndCacheImage=r,t.registerImageLoader=o,t.registerUnknownImageLoader=a}($,cornerstone),function(e){"use strict";function t(t,n){var i=new e.internal.Transform;i.translate(t.canvas.width/2,t.canvas.height/2);var r=t.viewport.rotation;0!==r&&i.rotate(r*Math.PI/180);var o=t.viewport.scale,a=t.viewport.scale;return t.image.rowPixelSpacing<t.image.columnPixelSpacing?o*=t.image.columnPixelSpacing/t.image.rowPixelSpacing:t.image.columnPixelSpacing<t.image.rowPixelSpacing&&(a*=t.image.rowPixelSpacing/t.image.columnPixelSpacing),i.scale(o,a),0!==r&&i.rotate(-r*Math.PI/180),i.translate(t.viewport.translation.x,t.viewport.translation.y),0!==r&&i.rotate(r*Math.PI/180),void 0!==n&&i.scale(n,n),t.viewport.hflip&&i.scale(-1,1),t.viewport.vflip&&i.scale(1,-1),i.translate(-t.image.width/2,-t.image.height/2),i}e.internal.calculateTransform=t}(cornerstone),function(e,t){"use strict";function n(t,n){var i=new Date;t.image.render(t,n);var r=t.canvas.getContext("2d"),o=new Date,a=o-i,s={viewport:t.viewport,element:t.element,image:t.image,enabledElement:t,canvasContext:r,renderTimeInMs:a};e(t.element).trigger("CornerstoneImageRendered",s),t.invalid=!1}t.internal.drawImage=n,t.drawImage=n}($,cornerstone),function(e){"use strict";function t(t,n,i,r,o,a){void 0===t.lut&&(t.lut=new Int16Array(t.maxPixelValue-Math.min(t.minPixelValue,0)+1));var s=t.lut,l=t.maxPixelValue,u=t.minPixelValue,c=e.internal.getModalityLUT(t.slope,t.intercept,o),h=e.internal.getVOILUT(n,i,a),d=0;0>u&&(d=u);var f,p,m,g;for(f=t.minPixelValue;l>=f;f++)p=c(f),m=h(p),g=Math.min(Math.max(m,0),255),r?s[f+-d]=Math.round(255-g):s[f+-d]=Math.round(g);return s}function n(e,n,i,r,o,a){if(o||a)return t(e,n,i,r,o,a);void 0===e.lut&&(e.lut=new Int16Array(e.maxPixelValue-Math.min(e.minPixelValue,0)+1));var s,l,u,c,h=e.lut,d=e.maxPixelValue,f=e.minPixelValue,p=e.slope,m=e.intercept,g=n,v=i,y=0;if(0>f&&(y=f),r===!0)for(c=e.minPixelValue;d>=c;c++)s=c*p+m,l=255*((s-v)/g+.5),u=Math.min(Math.max(l,0),255),h[c+-y]=Math.round(255-u);else for(c=e.minPixelValue;d>=c;c++)s=c*p+m,l=255*((s-v)/g+.5),u=Math.min(Math.max(l,0),255),h[c+-y]=Math.round(u)}e.internal.generateLutNew=t,e.internal.generateLut=n,e.generateLutNew=t,e.generateLut=n}(cornerstone),function(e){"use strict";function t(e,t){if(void 0===e)throw"getDefaultViewport: parameter canvas must not be undefined";if(void 0===t)throw"getDefaultViewport: parameter image must not be undefined";var n={scale:1,translation:{x:0,y:0},voi:{windowWidth:t.windowWidth,windowCenter:t.windowCenter},invert:t.invert,pixelReplication:!1,rotation:0,hflip:!1,vflip:!1,modalityLUT:t.modalityLUT,voiLUT:t.voiLUT},i=e.height/t.rows,r=e.width/t.columns;return i>r?n.scale=r:n.scale=i,n}e.internal.getDefaultViewport=t,e.getDefaultViewport=t}(cornerstone),function(e){"use strict";function t(t){var n=e.internal.calculateTransform(t);return n}e.internal.getTransform=t}(cornerstone),function(e,t){"use strict";t.drawImage=t.internal.drawImage,t.generateLut=t.internal.generateLut,t.storedPixelDataToCanvasImageData=t.internal.storedPixelDataToCanvasImageData,t.storedColorPixelDataToCanvasImageData=t.internal.storedColorPixelDataToCanvasImageData}($,cornerstone),function(e){"use strict";function t(e,t){var n=e,i=t;return function(e){return e*n+i}}function n(e){var t=e.lut[0],n=e.lut[e.lut.length-1],i=e.firstValueMapped+e.lut.length;return function(r){return r<e.firstValueMapped?t:r>=i?n:e.lut[r]}}function i(e,i,r){return r?n(r):t(e,i)}e.internal.getModalityLUT=i}(cornerstone),function(e){"use strict";function t(e,t,n){var i=e.minPixelValue,r=0,o=0,a=e.width*e.height*4,s=e.getPixelData(),l=t,u=n;if(0>i)for(;a>o;)u[r++]=l[s[o++]+-i],u[r++]=l[s[o++]+-i],u[r]=l[s[o]+-i],o+=2,r+=2;else for(;a>o;)u[r++]=l[s[o++]],u[r++]=l[s[o++]],u[r]=l[s[o]],o+=2,r+=2}e.internal.storedColorPixelDataToCanvasImageData=t,e.storedColorPixelDataToCanvasImageData=t}(cornerstone),function(e){"use strict";function t(e,t,n){var i=e.getPixelData(),r=e.minPixelValue,o=3,a=0,s=i.length,l=i,u=t,c=n;if(0>r)for(;s>a;)c[o]=u[l[a++]+-r],o+=4;else for(;s>a;)c[o]=u[l[a++]],o+=4}e.internal.storedPixelDataToCanvasImageData=t,e.storedPixelDataToCanvasImageData=t}(cornerstone),function(e){"use strict";function t(){this.reset()}t.prototype.reset=function(){this.m=[1,0,0,1,0,0]},t.prototype.clone=function(){var e=new t;return e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5],e},t.prototype.multiply=function(e){var t=this.m[0]*e.m[0]+this.m[2]*e.m[1],n=this.m[1]*e.m[0]+this.m[3]*e.m[1],i=this.m[0]*e.m[2]+this.m[2]*e.m[3],r=this.m[1]*e.m[2]+this.m[3]*e.m[3],o=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],a=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];this.m[0]=t,this.m[1]=n,this.m[2]=i,this.m[3]=r,this.m[4]=o,this.m[5]=a},t.prototype.invert=function(){var e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),t=this.m[3]*e,n=-this.m[1]*e,i=-this.m[2]*e,r=this.m[0]*e,o=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),a=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);this.m[0]=t,this.m[1]=n,this.m[2]=i,this.m[3]=r,this.m[4]=o,this.m[5]=a},t.prototype.rotate=function(e){var t=Math.cos(e),n=Math.sin(e),i=this.m[0]*t+this.m[2]*n,r=this.m[1]*t+this.m[3]*n,o=this.m[0]*-n+this.m[2]*t,a=this.m[1]*-n+this.m[3]*t;this.m[0]=i,this.m[1]=r,this.m[2]=o,this.m[3]=a},t.prototype.translate=function(e,t){this.m[4]+=this.m[0]*e+this.m[2]*t,this.m[5]+=this.m[1]*e+this.m[3]*t},t.prototype.scale=function(e,t){this.m[0]*=e,this.m[1]*=e,this.m[2]*=t,this.m[3]*=t},t.prototype.transformPoint=function(e,t){var n=e,i=t;return e=n*this.m[0]+i*this.m[2]+this.m[4],t=n*this.m[1]+i*this.m[3]+this.m[5],{x:e,y:t}},e.internal.Transform=t}(cornerstone),function(e){"use strict";function t(e,t){return function(n){return 255*((n-t)/e+.5)}}function n(e){var t=e.numBitsPerEntry-8,n=e.lut[0]>>t,i=e.lut[e.lut.length-1]>>t,r=e.firstValueMapped+e.lut.length-1;return function(o){return o<e.firstValueMapped?n:o>=r?i:e.lut[o-e.firstValueMapped]>>t}}function i(e,i,r){return r?n(r):t(e,i)}e.internal.getVOILUT=i}(cornerstone),function(e){"use strict";function t(t){var n=e.getEnabledElement(t);n.invalid=!0;var i={element:t};$(n.element).trigger("CornerstoneInvalidated",i)}e.invalidate=t}(cornerstone),function(e){"use strict";function t(t){var n=e.getEnabledElementsByImageId(t);n.forEach(function(t){e.drawImage(t,!0)})}e.invalidateImageId=t}(cornerstone),function(e){"use strict";function t(t,n,i){var r=e.getEnabledElement(t);if(void 0===r.image)throw"image has not been loaded yet";var o=(r.image,t.getBoundingClientRect()),a=n-o.left-window.pageXOffset,s=i-o.top-window.pageYOffset,l={x:a,y:s},u=e.internal.getTransform(r);return u.invert(),u.transformPoint(l.x,l.y)}e.pageToPixel=t}(cornerstone),function(e){"use strict";function t(t,n){var i=e.getEnabledElement(t),r=e.internal.getTransform(i);return r.transformPoint(n.x,n.y)}e.pixelToCanvas=t}(cornerstone),function(e){"use strict";function t(e){u.width=e.width,u.height=e.height,a=u.getContext("2d"),a.fillStyle="white",a.fillRect(0,0,u.width,u.height),s=a.getImageData(0,0,e.width,e.height)}function n(t,n){return void 0!==t.lut&&t.lut.windowCenter===n.voi.windowCenter&&t.lut.windowWidth===n.voi.windowWidth&&t.lut.invert===n.invert?t.lut:(e.generateLut(t,n.voi.windowWidth,n.voi.windowCenter,n.invert),t.lut.windowWidth=n.voi.windowWidth,t.lut.windowCenter=n.voi.windowCenter,t.lut.invert=n.invert,t.lut)}function i(e,t){return t.imageId!==l||c.windowCenter!==e.viewport.voi.windowCenter||c.windowWidth!==e.viewport.voi.windowWidth||c.invert!==e.viewport.invert||c.rotation!==e.viewport.rotation||c.hflip!==e.viewport.hflip||c.vflip!==e.viewport.vflip}function r(r,o,l){if(255===r.viewport.voi.windowWidth&&128===r.viewport.voi.windowCenter&&r.viewport.invert===!1&&o.getCanvas&&o.getCanvas())return o.getCanvas();if(i(r,o)===!1&&l!==!0)return u;u.width===o.width&&u.height==o.height||t(o);var c=n(o,r.viewport);return e.storedColorPixelDataToCanvasImageData(o,c,s.data),a.putImageData(s,0,0),u}function o(t,n){if(void 0===t)throw"drawImage: enabledElement parameter must not be undefined";var i=t.image;if(void 0===i)throw"drawImage: image must be loaded before it can be drawn";var o=t.canvas.getContext("2d");o.setTransform(1,0,0,1,0,0),o.fillStyle="black",o.fillRect(0,0,t.canvas.width,t.canvas.height),t.viewport.pixelReplication===!0?(o.imageSmoothingEnabled=!1,o.mozImageSmoothingEnabled=!1):(o.imageSmoothingEnabled=!0,o.mozImageSmoothingEnabled=!0),o.save(),e.setToPixelCoordinateSystem(t,o);var a=r(t,i,n);o.drawImage(a,0,0,i.width,i.height,0,0,i.width,i.height),o.restore(),l=i.imageId,c.windowCenter=t.viewport.voi.windowCenter,c.windowWidth=t.viewport.voi.windowWidth,c.invert=t.viewport.invert,c.rotation=t.viewport.rotation,c.hflip=t.viewport.hflip,c.vflip=t.viewport.vflip}var a,s,l,u=document.createElement("canvas"),c={};e.rendering.colorImage=o,e.renderColorImage=o}(cornerstone),function(e){"use strict";function t(e){c.width=e.width,c.height=e.height,s=c.getContext("2d"),s.fillStyle="white",s.fillRect(0,0,c.width,c.height),l=s.getImageData(0,0,e.width,e.height)}function n(e,t){return e||t?e&&t?e.id!==t.id:!1:!0}function i(t,i,r){return void 0!==t.lut&&t.lut.windowCenter===i.voi.windowCenter&&t.lut.windowWidth===i.voi.windowWidth&&n(t.lut.modalityLUT,i.modalityLUT)&&n(t.lut.voiLUT,i.voiLUT)&&t.lut.invert===i.invert&&r!==!0?t.lut:(e.generateLut(t,i.voi.windowWidth,i.voi.windowCenter,i.invert,i.modalityLUT,i.voiLUT),t.lut.windowWidth=i.voi.windowWidth,t.lut.windowCenter=i.voi.windowCenter,t.lut.invert=i.invert,t.lut.voiLUT=i.voiLUT,t.lut.modalityLUT=i.modalityLUT,t.lut)}function r(e,t){return t.imageId!==u||h.windowCenter!==e.viewport.voi.windowCenter||h.windowWidth!==e.viewport.voi.windowWidth||h.invert!==e.viewport.invert||h.rotation!==e.viewport.rotation||h.hflip!==e.viewport.hflip||h.vflip!==e.viewport.vflip||h.modalityLUT!==e.viewport.modalityLUT||h.voiLUT!==e.viewport.voiLUT}function o(n,o,a){if(r(n,o)===!1&&a!==!0)return c;c.width===o.width&&c.height==o.height||t(o);var u=i(o,n.viewport,a);return e.storedPixelDataToCanvasImageData(o,u,l.data),s.putImageData(l,0,0),c}function a(t,n){if(void 0===t)throw"drawImage: enabledElement parameter must not be undefined";var i=t.image;if(void 0===i)throw"drawImage: image must be loaded before it can be drawn";var r=t.canvas.getContext("2d");r.setTransform(1,0,0,1,0,0),r.fillStyle="black",r.fillRect(0,0,t.canvas.width,t.canvas.height),t.viewport.pixelReplication===!0?(r.imageSmoothingEnabled=!1,r.mozImageSmoothingEnabled=!1):(r.imageSmoothingEnabled=!0,r.mozImageSmoothingEnabled=!0),e.setToPixelCoordinateSystem(t,r);var a=o(t,i,n);r.drawImage(a,0,0,i.width,i.height,0,0,i.width,i.height),u=i.imageId,h.windowCenter=t.viewport.voi.windowCenter,h.windowWidth=t.viewport.voi.windowWidth,h.invert=t.viewport.invert,h.rotation=t.viewport.rotation,h.hflip=t.viewport.hflip,h.vflip=t.viewport.vflip,h.modalityLUT=t.viewport.modalityLUT,h.voiLUT=t.viewport.voiLUT}var s,l,u,c=document.createElement("canvas"),h={};e.rendering.grayscaleImage=a,e.renderGrayscaleImage=a}(cornerstone),function(e){"use strict";function t(t,n){if(void 0===t)throw"drawImage: enabledElement parameter must not be undefined";var i=t.image;if(void 0===i)throw"drawImage: image must be loaded before it can be drawn";var r=t.canvas.getContext("2d");r.setTransform(1,0,0,1,0,0),r.fillStyle="black",r.fillRect(0,0,t.canvas.width,t.canvas.height),t.viewport.pixelReplication===!0?(r.imageSmoothingEnabled=!1,r.mozImageSmoothingEnabled=!1):(r.imageSmoothingEnabled=!0,r.mozImageSmoothingEnabled=!0),e.setToPixelCoordinateSystem(t,r),t.viewport.voi.windowWidth===t.image.windowWidth&&t.viewport.voi.windowCenter===t.image.windowCenter&&t.viewport.invert===!1?r.drawImage(i.getImage(),0,0,i.width,i.height,0,0,i.width,i.height):e.renderColorImage(t,n)}e.rendering.webImage=t,e.renderWebImage=t}(cornerstone),function(e){"use strict";function t(t){var n=e.getEnabledElement(t),i=e.internal.getDefaultViewport(n.canvas,n.image);n.viewport=i,e.updateImage(t)}e.reset=t}(cornerstone),function(e){"use strict";function t(e,t){t.width=e.clientWidth,t.height=e.clientHeight,t.style.width=e.clientWidth+"px",t.style.height=e.clientHeight+"px"}function n(n,i){var r=e.getEnabledElement(n);t(n,r.canvas),void 0!==r.image&&(i===!0?e.fitToWindow(n):e.updateImage(n))}e.resize=n}(cornerstone),function(e){"use strict";function t(t,n,i){if(void 0===t)throw"setToPixelCoordinateSystem: parameter enabledElement must not be undefined";if(void 0===n)throw"setToPixelCoordinateSystem: parameter context must not be undefined";var r=e.internal.calculateTransform(t,i);n.setTransform(r.m[0],r.m[1],r.m[2],r.m[3],r.m[4],r.m[5],r.m[6])}e.setToPixelCoordinateSystem=t}(cornerstone),function(e){"use strict";function t(t,n){var i=e.getEnabledElement(t);i.viewport.scale=n.scale,i.viewport.translation.x=n.translation.x,i.viewport.translation.y=n.translation.y,i.viewport.voi.windowWidth=n.voi.windowWidth,i.viewport.voi.windowCenter=n.voi.windowCenter,i.viewport.invert=n.invert,i.viewport.pixelReplication=n.pixelReplication,i.viewport.rotation=n.rotation,i.viewport.hflip=n.hflip,i.viewport.vflip=n.vflip,i.viewport.modalityLUT=n.modalityLUT,i.viewport.voiLUT=n.voiLUT,i.viewport.voi.windowWidth<1e-6&&(i.viewport.voi.windowWidth=1e-6),i.viewport.scale<1e-4&&(i.viewport.scale=.25),360!==i.viewport.rotation&&-360!==i.viewport.rotation||(i.viewport.rotation=0),e.updateImage(t)}e.setViewport=t}(cornerstone),function(e){"use strict";function t(t,n){var i=e.getEnabledElement(t);if(void 0===i.image)throw"updateImage: image has not been loaded yet";e.drawImage(i,n)}e.updateImage=t}(cornerstone);var cornerstoneMath=function(e){"use strict";return void 0===e&&(e={}),e.Vector3=function(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0},e.Vector3.prototype={constructor:e.Vector3,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("DEPRECATED: Vector3's .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},sub:function(e,t){return void 0!==t?(console.warn("DEPRECATED: Vector3's .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("DEPRECATED: Vector3's .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyAxisAngle:function(){var t;return function(n,i){return void 0===t&&(t=new e.Quaternion),this.applyQuaternion(t.setFromAxisAngle(n,i)),this}}(),applyMatrix3:function(e){var t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6]*i,this.y=r[1]*t+r[4]*n+r[7]*i,this.z=r[2]*t+r[5]*n+r[8]*i,this},applyMatrix4:function(e){var t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[4]*n+r[8]*i+r[12],this.y=r[1]*t+r[5]*n+r[9]*i+r[13],this.z=r[2]*t+r[6]*n+r[10]*i+r[14],this},applyProjection:function(e){var t=this.x,n=this.y,i=this.z,r=e.elements,o=1/(r[3]*t+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*t+r[4]*n+r[8]*i+r[12])*o,this.y=(r[1]*t+r[5]*n+r[9]*i+r[13])*o,this.z=(r[2]*t+r[6]*n+r[10]*i+r[14])*o,this},applyQuaternion:function(e){var t=this.x,n=this.y,i=this.z,r=e.x,o=e.y,a=e.z,s=e.w,l=s*t+o*i-a*n,u=s*n+a*t-r*i,c=s*i+r*n-o*t,h=-r*t-o*n-a*i;return this.x=l*s+h*-r+u*-a-c*-o,this.y=u*s+h*-o+c*-r-l*-a,this.z=c*s+h*-a+l*-o-u*-r,this},transformDirection:function(e){var t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[4]*n+r[8]*i,this.y=r[1]*t+r[5]*n+r[9]*i,this.z=r[2]*t+r[6]*n+r[10]*i,this.normalize(),this},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){if(0!==e){var t=1/e;this.x*=t,this.y*=t,this.z*=t}else this.x=0,this.y=0,this.z=0;return this},min:function(e){return this.x>e.x&&(this.x=e.x),this.y>e.y&&(this.y=e.y),this.z>e.z&&(this.z=e.z),this},max:function(e){return this.x<e.x&&(this.x=e.x),this.y<e.y&&(this.y=e.y),this.z<e.z&&(this.z=e.z),this},clamp:function(e,t){return this.x<e.x?this.x=e.x:this.x>t.x&&(this.x=t.x),this.y<e.y?this.y=e.y:this.y>t.y&&(this.y=t.y),this.z<e.z?this.z=e.z:this.z>t.z&&(this.z=t.z),this},clampScalar:function(){var t,n;return function(i,r){return void 0===t&&(t=new e.Vector3,n=new e.Vector3),t.set(i,i,i),n.set(r,r,r),this.clamp(t,n)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.multiplyScalar(-1)},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(e){var t=this.length();return 0!==t&&e!==t&&this.multiplyScalar(e/t),this},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},cross:function(e,t){if(void 0!==t)return console.warn("DEPRECATED: Vector3's .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t);var n=this.x,i=this.y,r=this.z;return this.x=i*e.z-r*e.y,this.y=r*e.x-n*e.z,this.z=n*e.y-i*e.x,this},crossVectors:function(e,t){var n=e.x,i=e.y,r=e.z,o=t.x,a=t.y,s=t.z;return this.x=i*s-r*a,this.y=r*o-n*s,this.z=n*a-i*o,this},projectOnVector:function(){var t,n;return function(i){return void 0===t&&(t=new e.Vector3),t.copy(i).normalize(),n=this.dot(t),this.copy(t).multiplyScalar(n)}}(),projectOnPlane:function(){var t;return function(n){return void 0===t&&(t=new e.Vector3),t.copy(this).projectOnVector(n),this.sub(t)}}(),reflect:function(){var t;return function(n){return void 0===t&&(t=new e.Vector3),this.sub(t.copy(n).multiplyScalar(2*this.dot(n)))}}(),angleTo:function(t){var n=this.dot(t)/(this.length()*t.length());return Math.acos(e.clamp(n,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i},setEulerFromRotationMatrix:function(e,t){console.error("REMOVED: Vector3's setEulerFromRotationMatrix has been removed in favor of Euler.setFromRotationMatrix(), please update your code.")},setEulerFromQuaternion:function(e,t){console.error("REMOVED: Vector3's setEulerFromQuaternion: has been removed in favor of Euler.setFromQuaternion(), please update your code.")},getPositionFromMatrix:function(e){return console.warn("DEPRECATED: Vector3's .getPositionFromMatrix() has been renamed to .setFromMatrixPosition(). Please update your code."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("DEPRECATED: Vector3's .getScaleFromMatrix() has been renamed to .setFromMatrixScale(). Please update your code."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("DEPRECATED: Vector3's .getColumnFromMatrix() has been renamed to .setFromMatrixColumn(). Please update your code."),this.setFromMatrixColumn(e,t)},setFromMatrixPosition:function(e){return this.x=e.elements[12],this.y=e.elements[13],this.z=e.elements[14],this},setFromMatrixScale:function(e){var t=this.set(e.elements[0],e.elements[1],e.elements[2]).length(),n=this.set(e.elements[4],e.elements[5],e.elements[6]).length(),i=this.set(e.elements[8],e.elements[9],e.elements[10]).length();return this.x=t,this.y=n,this.z=i,this},setFromMatrixColumn:function(e,t){var n=4*e,i=t.elements;return this.x=i[n],this.y=i[n+1],this.z=i[n+2],this},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e){return this.x=e[0],this.y=e[1],this.z=e[2],this},toArray:function(){return[this.x,this.y,this.z]},clone:function(){return new e.Vector3(this.x,this.y,this.z)}},e}(cornerstoneMath),cornerstoneMath=function(e){"use strict";return void 0===e&&(e={}),e.Line3=function(t,n){this.start=void 0!==t?t:new e.Vector3,this.end=void 0!==n?n:new e.Vector3},e.Line3.prototype={constructor:e.Line3,set:function(e,t){return this.start.copy(e),this.end.copy(t),this},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},center:function(t){var n=t||new e.Vector3;return n.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){var n=t||new e.Vector3;return n.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,n){var i=n||new e.Vector3;return this.delta(i).multiplyScalar(t).add(this.start)},closestPointToPointParameter:function(){var t=new e.Vector3,n=new e.Vector3;return function(i,r){t.subVectors(i,this.start),n.subVectors(this.end,this.start);var o=n.dot(n),a=n.dot(t),s=a/o;return r&&(s=e.Math.clamp(s,0,1)),s}}(),closestPointToPoint:function(t,n,i){var r=this.closestPointToPointParameter(t,n),o=i||new e.Vector3;return this.delta(o).multiplyScalar(r).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)},clone:function(){return(new e.Line3).copy(this)},intersectLine:function(e){var t=this.end.clone().sub(this.start),n=e.end.clone().sub(e.start),i=e.start.clone().sub(this.start),r=t.clone().cross(n),o=i.clone().cross(n);if(0!==i.dot(t)){
var a=o.dot(r)/r.lengthSq();if(!(a>1||isNaN(a))){var s=this.start.clone().add(t.clone().multiplyScalar(a)),l=s.clone().sub(e.start).lengthSq()+s.clone().sub(e.end).lengthSq();return l<=e.distanceSq()?s:void 0}}}},e}(cornerstoneMath),cornerstoneMath=function(e){"use strict";function t(e){return e*e}function n(e,n){return t(e.x-n.x)+t(e.y-n.y)}function i(e,t){var i=n(e.start,e.end);if(0===i)return n(t,e.start);var r=((t.x-e.start.x)*(e.end.x-e.start.x)+(t.y-e.start.y)*(e.end.y-e.start.y))/i;if(0>r)return n(t,e.start);if(r>1)return n(t,e.end);var o={x:e.start.x+r*(e.end.x-e.start.x),y:e.start.y+r*(e.end.y-e.start.y)};return n(t,o)}function r(e,t){return Math.sqrt(i(e,t))}function o(t,n){var i,r,o,a,s,l,u,c,h,d,f,p,m={},g=t.start.x,v=t.start.y,y=t.end.x,b=t.end.y,w=n.start.x,x=n.start.y,$=n.end.x,C=n.end.y;if(i=b-v,o=g-y,s=y*v-g*b,h=i*w+o*x+s,d=i*$+o*C+s,(0===h||0===d||e.sign(h)!==e.sign(d))&&(r=C-x,a=w-$,l=$*x-w*C,u=r*g+a*v+l,c=r*y+a*b+l,0===u||0===c||e.sign(u)!==e.sign(c))){f=i*a-r*o,p=o*l-a*s;var T=parseFloat(p/f);p=r*s-i*l;var _=parseFloat(p/f);return m.x=T,m.y=_,m}}return void 0===e&&(e={}),e.lineSegment={distanceToPoint:r,intersectLine:o},e}(cornerstoneMath),cornerstoneMath=function(e){"use strict";function t(e,t,n){return t>e?t:e>n?n:e}function n(e){var t=Math.PI/180;return e*t}function i(e){var t=180/Math.PI;return e*t}function r(e){return"number"==typeof e?e?0>e?-1:1:e===e?0:NaN:NaN}return void 0===e&&(e={}),e.clamp=t,e.degToRad=n,e.radToDeg=i,e.sign=r,e}(cornerstoneMath),cornerstoneMath=function(e){"use strict";return void 0===e&&(e={}),e.Matrix4=function(e,t,n,i,r,o,a,s,l,u,c,h,d,f,p,m){this.elements=new Float32Array(16);var g=this.elements;g[0]=void 0!==e?e:1,g[4]=t||0,g[8]=n||0,g[12]=i||0,g[1]=r||0,g[5]=void 0!==o?o:1,g[9]=a||0,g[13]=s||0,g[2]=l||0,g[6]=u||0,g[10]=void 0!==c?c:1,g[14]=h||0,g[3]=d||0,g[7]=f||0,g[11]=p||0,g[15]=void 0!==m?m:1},e.Matrix4.prototype.makeRotationFromQuaternion=function(e){var t=this.elements,n=e.x,i=e.y,r=e.z,o=e.w,a=n+n,s=i+i,l=r+r,u=n*a,c=n*s,h=n*l,d=i*s,f=i*l,p=r*l,m=o*a,g=o*s,v=o*l;return t[0]=1-(d+p),t[4]=c-v,t[8]=h+g,t[1]=c+v,t[5]=1-(u+p),t[9]=f-m,t[2]=h-g,t[6]=f+m,t[10]=1-(u+d),t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},e.Matrix4.prototype.multiplyMatrices=function(e,t){var n=e.elements,i=t.elements,r=this.elements,o=n[0],a=n[4],s=n[8],l=n[12],u=n[1],c=n[5],h=n[9],d=n[13],f=n[2],p=n[6],m=n[10],g=n[14],v=n[3],y=n[7],b=n[11],w=n[15],x=i[0],$=i[4],C=i[8],T=i[12],_=i[1],k=i[5],S=i[9],M=i[13],D=i[2],I=i[6],E=i[10],P=i[14],A=i[3],O=i[7],N=i[11],R=i[15];return r[0]=o*x+a*_+s*D+l*A,r[4]=o*$+a*k+s*I+l*O,r[8]=o*C+a*S+s*E+l*N,r[12]=o*T+a*M+s*P+l*R,r[1]=u*x+c*_+h*D+d*A,r[5]=u*$+c*k+h*I+d*O,r[9]=u*C+c*S+h*E+d*N,r[13]=u*T+c*M+h*P+d*R,r[2]=f*x+p*_+m*D+g*A,r[6]=f*$+p*k+m*I+g*O,r[10]=f*C+p*S+m*E+g*N,r[14]=f*T+p*M+m*P+g*R,r[3]=v*x+y*_+b*D+w*A,r[7]=v*$+y*k+b*I+w*O,r[11]=v*C+y*S+b*E+w*N,r[15]=v*T+y*M+b*P+w*R,this},e.Matrix4.prototype.multiply=function(e,t){return void 0!==t?(console.warn("DEPRECATED: Matrix4's .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},e.Matrix4.prototype.getInverse=function(e,t){var n=this.elements,i=e.elements,r=i[0],o=i[4],a=i[8],s=i[12],l=i[1],u=i[5],c=i[9],h=i[13],d=i[2],f=i[6],p=i[10],m=i[14],g=i[3],v=i[7],y=i[11],b=i[15];n[0]=c*m*v-h*p*v+h*f*y-u*m*y-c*f*b+u*p*b,n[4]=s*p*v-a*m*v-s*f*y+o*m*y+a*f*b-o*p*b,n[8]=a*h*v-s*c*v+s*u*y-o*h*y-a*u*b+o*c*b,n[12]=s*c*f-a*h*f-s*u*p+o*h*p+a*u*m-o*c*m,n[1]=h*p*g-c*m*g-h*d*y+l*m*y+c*d*b-l*p*b,n[5]=a*m*g-s*p*g+s*d*y-r*m*y-a*d*b+r*p*b,n[9]=s*c*g-a*h*g-s*l*y+r*h*y+a*l*b-r*c*b,n[13]=a*h*d-s*c*d+s*l*p-r*h*p-a*l*m+r*c*m,n[2]=u*m*g-h*f*g+h*d*v-l*m*v-u*d*b+l*f*b,n[6]=s*f*g-o*m*g-s*d*v+r*m*v+o*d*b-r*f*b,n[10]=o*h*g-s*u*g+s*l*v-r*h*v-o*l*b+r*u*b,n[14]=s*u*d-o*h*d-s*l*f+r*h*f+o*l*m-r*u*m,n[3]=c*f*g-u*p*g-c*d*v+l*p*v+u*d*y-l*f*y,n[7]=o*p*g-a*f*g+a*d*v-r*p*v-o*d*y+r*f*y,n[11]=a*u*g-o*c*g-a*l*v+r*c*v+o*l*y-r*u*y,n[15]=o*c*d-a*u*d+a*l*f-r*c*f-o*l*p+r*u*p;var w=r*n[0]+l*n[4]+d*n[8]+g*n[12];if(0===w){var x="Matrix4.getInverse(): can't invert matrix, determinant is 0";if(t)throw new Error(x);return console.warn(x),this.identity(),this}return this.multiplyScalar(1/w),this},e.Matrix4.prototype.applyToVector3Array=function(){var t=new e.Vector3;return function(e,n,i){void 0===n&&(n=0),void 0===i&&(i=e.length);for(var r=0,o=n;i>r;r+=3,o+=3)t.x=e[o],t.y=e[o+1],t.z=e[o+2],t.applyMatrix4(this),e[o]=t.x,e[o+1]=t.y,e[o+2]=t.z;return e}},e.Matrix4.prototype.makeTranslation=function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},e.Matrix4.prototype.multiplyScalar=function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},e.Matrix4.prototype.set=function(e,t,n,i,r,o,a,s,l,u,c,h,d,f,p,m){var g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=i,g[1]=r,g[5]=o,g[9]=a,g[13]=s,g[2]=l,g[6]=u,g[10]=c,g[14]=h,g[3]=d,g[7]=f,g[11]=p,g[15]=m,this},e.Matrix4.prototype.makeScale=function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},e}(cornerstoneMath),cornerstoneMath=function(e){"use strict";return void 0===e&&(e={}),e.Plane=function(t,n){this.normal=void 0!==t?t:new e.Vector3(1,0,0),this.constant=void 0!==n?n:0},e.Plane.prototype={constructor:e.Plane,set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(){var t=new e.Vector3,n=new e.Vector3;return function(e,i,r){var o=t.subVectors(r,i).cross(n.subVectors(e,i)).normalize();return this.setFromNormalAndCoplanarPoint(o,e),this}}(),copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return this.orthoPoint(e,t).sub(e).negate()},orthoPoint:function(t,n){var i=this.distanceToPoint(t),r=n||new e.Vector3;return r.copy(this.normal).multiplyScalar(i)},isIntersectionLine:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return 0>t&&n>0||0>n&&t>0},intersectLine:function(){var t=new e.Vector3;return function(n,i){var r=i||new e.Vector3,o=n.delta(t),a=this.normal.dot(o);if(0!==a){var s=-(n.start.dot(this.normal)+this.constant)/a;if(!(0>s||s>1))return r.copy(o).multiplyScalar(s).add(n.start)}else if(0===this.distanceToPoint(n.start))return r.copy(n.start)}}(),intersectPlane:function(t){var n=this.normal.clone().cross(t.normal),i=new e.Vector3,r={origin:i,direction:n};if(this.normal.clone().cross(t.normal).length<1e-10)return r.direction=new e.Vector3,r;var o=this.constant,a=t.constant,s=this.normal.clone().dot(t.normal),l=-(o-a*s)/(1-s*s),u=-(a-o*s)/(1-s*s);return r.origin=this.normal.clone().multiplyScalar(l).add(t.normal.clone().multiplyScalar(u)),r},coplanarPoint:function(t){var n=t||new e.Vector3;return n.copy(this.normal).multiplyScalar(-this.constant)},translate:function(e){return this.constant=this.constant-e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant==this.constant},clone:function(){return(new e.Plane).copy(this)}},e}(cornerstoneMath),cornerstoneMath=function(e){"use strict";function t(e){return{x:e.pageX,y:e.pageY}}function n(e,t){return{x:e.x-t.x,y:e.y-t.y}}function i(e){return{x:e.x,y:e.y}}function r(e,t){return Math.sqrt(o(e,t))}function o(e,t){var i=n(e,t);return i.x*i.x+i.y*i.y}function a(e,t){return!(e.x<t.left||e.x>t.left+t.width||e.y<t.top||e.y>t.top+t.height)}function s(t,n){var i,r=[];t.forEach(function(t,o){var a=e.point.distance(t,n);r.push(a),i=0===o?a:Math.min(a,i)});var o=r.indexOf(i);return t[o]}return void 0===e&&(e={}),e.point={subtract:n,copy:i,pageToPoint:t,distance:r,distanceSquared:o,insideRect:a,findClosestPoint:s},e}(cornerstoneMath),cornerstoneMath=function(e){"use strict";return void 0===e&&(e={}),e.Quaternion=function(e,t,n,i){this.x=e||0,this.y=t||0,this.z=n||0,this.w=void 0!==i?i:1},e.Quaternion.prototype.setFromAxisAngle=function(e,t){var n=t/2,i=Math.sin(n);return this.x=e.x*i,this.y=e.y*i,this.z=e.z*i,this.w=Math.cos(n),this},e.Quaternion.prototype.multiplyQuaternions=function(e,t){var n=e.x,i=e.y,r=e.z,o=e.w,a=t.x,s=t.y,l=t.z,u=t.w;return this.x=n*u+o*a+i*l-r*s,this.y=i*u+o*s+r*a-n*l,this.z=r*u+o*l+n*s-i*a,this.w=o*u-n*a-i*s-r*l,this},e.Quaternion.prototype.setFromRotationMatrix=function(e){var t,n=e.elements,i=n[0],r=n[4],o=n[8],a=n[1],s=n[5],l=n[9],u=n[2],c=n[6],h=n[10],d=i+s+h;return d>0?(t=.5/Math.sqrt(d+1),this.w=.25/t,this.x=(c-l)*t,this.y=(o-u)*t,this.z=(a-r)*t):i>s&&i>h?(t=2*Math.sqrt(1+i-s-h),this.w=(c-l)/t,this.x=.25*t,this.y=(r+a)/t,this.z=(o+u)/t):s>h?(t=2*Math.sqrt(1+s-i-h),this.w=(o-u)/t,this.x=(r+a)/t,this.y=.25*t,this.z=(l+c)/t):(t=2*Math.sqrt(1+h-i-s),this.w=(a-r)/t,this.x=(o+u)/t,this.y=(l+c)/t,this.z=.25*t),this},e}(cornerstoneMath),cornerstoneMath=function(e){"use strict";function t(e){var t={start:{x:e.left,y:e.top},end:{x:e.left+e.width,y:e.top}},n={start:{x:e.left+e.width,y:e.top},end:{x:e.left+e.width,y:e.top+e.height}},i={start:{x:e.left+e.width,y:e.top+e.height},end:{x:e.left,y:e.top+e.height}},r={start:{x:e.left,y:e.top+e.height},end:{x:e.left,y:e.top}},o=[t,n,i,r];return o}function n(n,i){var r=655535,o=t(n);return o.forEach(function(t){var n=e.lineSegment.distanceToPoint(t,i);r>n&&(r=n)}),r}function i(e){var t={topLeft:{x:e.left,y:e.top},bottomRight:{x:e.left+e.width,y:e.top+e.height}};return t}function r(e,t){var n,r,o=i(e),a=i(t);return n=e.width>=0?t.width>=0?!(o.bottomRight.x<=a.topLeft.x||a.bottomRight.x<=o.topLeft.x):!(o.bottomRight.x<=a.bottomRight.x||a.topLeft.x<=o.topLeft.x):t.width>=0?!(o.topLeft.x<=a.topLeft.x||a.bottomRight.x<=o.bottomRight.x):!(o.topLeft.x<=a.bottomRight.x||a.topLeft.x<=o.bottomRight.x),r=e.height>=0?t.height>=0?!(o.bottomRight.y<=a.topLeft.y||a.bottomRight.y<=o.topLeft.y):!(o.bottomRight.y<=a.bottomRight.y||a.topLeft.y<=o.topLeft.y):t.height>=0?!(o.topLeft.y<=a.topLeft.y||a.bottomRight.y<=o.bottomRight.y):!(o.topLeft.y<=a.bottomRight.y||a.top<=o.bottomRight.y),n&&r}function o(e,t){var n={topLeft:{},bottomRight:{}};if(r(e,t)){var o=i(e),a=i(t);return e.width>=0?t.width>=0?(n.topLeft.x=Math.max(o.topLeft.x,a.topLeft.x),n.bottomRight.x=Math.min(o.bottomRight.x,a.bottomRight.x)):(n.topLeft.x=Math.max(o.topLeft.x,a.bottomRight.x),n.bottomRight.x=Math.min(o.bottomRight.x,a.topLeft.x)):t.width>=0?(n.topLeft.x=Math.min(o.topLeft.x,a.bottomRight.x),n.bottomRight.x=Math.max(o.bottomRight.x,a.topLeft.x)):(n.topLeft.x=Math.min(o.topLeft.x,a.topLeft.x),n.bottomRight.x=Math.max(o.bottomRight.x,a.bottomRight.x)),e.height>=0?t.height>=0?(n.topLeft.y=Math.max(o.topLeft.y,a.topLeft.y),n.bottomRight.y=Math.min(o.bottomRight.y,a.bottomRight.y)):(n.topLeft.y=Math.max(o.topLeft.y,a.bottomRight.y),n.bottomRight.y=Math.min(o.bottomRight.y,a.topLeft.y)):t.height>=0?(n.topLeft.y=Math.min(o.topLeft.y,a.bottomRight.y),n.bottomRight.y=Math.max(o.bottomRight.y,a.topLeft.y)):(n.topLeft.y=Math.min(o.topLeft.y,a.topLeft.y),n.bottomRight.y=Math.max(o.bottomRight.y,a.bottomRight.y)),n}}return void 0===e&&(e={}),e.rect={distanceToPoint:n,getIntersectionRect:o},e}(cornerstoneMath);!function(e,t,n,i){"use strict";function r(e,t,n){return setTimeout(u(e,n),t)}function o(e,t,n){return Array.isArray(e)?(a(e,n[t],n),!0):!1}function a(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==i)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function s(t,n,i){var r="DEPRECATED METHOD: "+n+"\n"+i+" AT \n";return function(){var n=new Error("get-stack-trace"),i=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=e.console&&(e.console.warn||e.console.log);return o&&o.call(e.console,r,i),t.apply(this,arguments)}}function l(e,t,n){var i,r=t.prototype;i=e.prototype=Object.create(r),i.constructor=e,i._super=r,n&&he(i,n)}function u(e,t){return function(){return e.apply(t,arguments)}}function c(e,t){return typeof e==pe?e.apply(t?t[0]||i:i,t):e}function h(e,t){return e===i?t:e}function d(e,t,n){a(g(t),function(t){e.addEventListener(t,n,!1)})}function f(e,t,n){a(g(t),function(t){e.removeEventListener(t,n,!1)})}function p(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function m(e,t){return e.indexOf(t)>-1}function g(e){return e.trim().split(/\s+/g)}function v(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var i=0;i<e.length;){if(n&&e[i][n]==t||!n&&e[i]===t)return i;i++}return-1}function y(e){return Array.prototype.slice.call(e,0)}function b(e,t,n){for(var i=[],r=[],o=0;o<e.length;){var a=t?e[o][t]:e[o];v(r,a)<0&&i.push(e[o]),r[o]=a,o++}return n&&(i=t?i.sort(function(e,n){return e[t]>n[t]}):i.sort()),i}function w(e,t){for(var n,r,o=t[0].toUpperCase()+t.slice(1),a=0;a<de.length;){if(n=de[a],r=n?n+o:t,r in e)return r;a++}return i}function x(){return we++}function $(t){var n=t.ownerDocument||t;return n.defaultView||n.parentWindow||e}function C(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){c(e.options.enable,[e])&&n.handler(t)},this.init()}function T(e){var t,n=e.options.inputClass;return new(t=n?n:Ce?z:Te?j:$e?W:H)(e,_)}function _(e,t,n){var i=n.pointers.length,r=n.changedPointers.length,o=t&Ie&&i-r===0,a=t&(Pe|Ae)&&i-r===0;n.isFirst=!!o,n.isFinal=!!a,o&&(e.session={}),n.eventType=t,k(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function k(e,t){var n=e.session,i=t.pointers,r=i.length;n.firstInput||(n.firstInput=D(t)),r>1&&!n.firstMultiple?n.firstMultiple=D(t):1===r&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,l=t.center=I(i);t.timeStamp=ve(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=O(s,l),t.distance=A(s,l),S(n,t),t.offsetDirection=P(t.deltaX,t.deltaY);var u=E(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=u.x,t.overallVelocityY=u.y,t.overallVelocity=ge(u.x)>ge(u.y)?u.x:u.y,t.scale=a?R(a.pointers,i):1,t.rotation=a?N(a.pointers,i):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,M(n,t);var c=e.element;p(t.srcEvent.target,c)&&(c=t.srcEvent.target),t.target=c}function S(e,t){var n=t.center,i=e.offsetDelta||{},r=e.prevDelta||{},o=e.prevInput||{};t.eventType!==Ie&&o.eventType!==Pe||(r=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=r.x+(n.x-i.x),t.deltaY=r.y+(n.y-i.y)}function M(e,t){var n,r,o,a,s=e.lastInterval||t,l=t.timeStamp-s.timeStamp;if(t.eventType!=Ae&&(l>De||s.velocity===i)){var u=t.deltaX-s.deltaX,c=t.deltaY-s.deltaY,h=E(l,u,c);r=h.x,o=h.y,n=ge(h.x)>ge(h.y)?h.x:h.y,a=P(u,c),e.lastInterval=t}else n=s.velocity,r=s.velocityX,o=s.velocityY,a=s.direction;t.velocity=n,t.velocityX=r,t.velocityY=o,t.direction=a}function D(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:me(e.pointers[n].clientX),clientY:me(e.pointers[n].clientY)},n++;return{timeStamp:ve(),pointers:t,center:I(t),deltaX:e.deltaX,deltaY:e.deltaY}}function I(e){var t=e.length;if(1===t)return{x:me(e[0].clientX),y:me(e[0].clientY)};for(var n=0,i=0,r=0;t>r;)n+=e[r].clientX,i+=e[r].clientY,r++;return{x:me(n/t),y:me(i/t)}}function E(e,t,n){return{x:t/e||0,y:n/e||0}}function P(e,t){return e===t?Oe:ge(e)>=ge(t)?0>e?Ne:Re:0>t?He:ze}function A(e,t,n){n||(n=Ve);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return Math.sqrt(i*i+r*r)}function O(e,t,n){n||(n=Ve);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return 180*Math.atan2(r,i)/Math.PI}function N(e,t){return O(t[1],t[0],We)+O(e[1],e[0],We)}function R(e,t){return A(t[0],t[1],We)/A(e[0],e[1],We)}function H(){this.evEl=Be,this.evWin=Ue,this.pressed=!1,C.apply(this,arguments)}function z(){this.evEl=Ke,this.evWin=Ge,C.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function F(){this.evTarget=Qe,this.evWin=Ze,this.started=!1,C.apply(this,arguments)}function L(e,t){var n=y(e.touches),i=y(e.changedTouches);return t&(Pe|Ae)&&(n=b(n.concat(i),"identifier",!0)),[n,i]}function j(){this.evTarget=tt,this.targetIds={},C.apply(this,arguments)}function V(e,t){var n=y(e.touches),i=this.targetIds;if(t&(Ie|Ee)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,a=y(e.changedTouches),s=[],l=this.target;if(o=n.filter(function(e){return p(e.target,l)}),t===Ie)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;for(r=0;r<a.length;)i[a[r].identifier]&&s.push(a[r]),t&(Pe|Ae)&&delete i[a[r].identifier],r++;return s.length?[b(o.concat(s),"identifier",!0),s]:void 0}function W(){C.apply(this,arguments);var e=u(this.handler,this);this.touch=new j(this.manager,e),this.mouse=new H(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function q(e,t){e&Ie?(this.primaryTouch=t.changedPointers[0].identifier,B.call(this,t)):e&(Pe|Ae)&&B.call(this,t)}function B(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var i=this.lastTouches,r=function(){var e=i.indexOf(n);e>-1&&i.splice(e,1)};setTimeout(r,nt)}}function U(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(t-r.x),a=Math.abs(n-r.y);if(it>=o&&it>=a)return!0}return!1}function Y(e,t){this.manager=e,this.set(t)}function X(e){if(m(e,ut))return ut;var t=m(e,ct),n=m(e,ht);return t&&n?ut:t||n?t?ct:ht:m(e,lt)?lt:st}function K(){if(!ot)return!1;var t={},n=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){t[i]=n?e.CSS.supports("touch-action",i):!0}),t}function G(e){this.options=he({},this.defaults,e||{}),this.id=x(),this.manager=null,this.options.enable=h(this.options.enable,!0),this.state=ft,this.simultaneous={},this.requireFail=[]}function J(e){return e&yt?"cancel":e&gt?"end":e&mt?"move":e&pt?"start":""}function Q(e){return e==ze?"down":e==He?"up":e==Ne?"left":e==Re?"right":""}function Z(e,t){var n=t.manager;return n?n.get(e):e}function ee(){G.apply(this,arguments)}function te(){ee.apply(this,arguments),this.pX=null,this.pY=null}function ne(){ee.apply(this,arguments)}function ie(){G.apply(this,arguments),this._timer=null,this._input=null}function re(){ee.apply(this,arguments)}function oe(){ee.apply(this,arguments)}function ae(){G.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function se(e,t){return t=t||{},t.recognizers=h(t.recognizers,se.defaults.preset),new le(e,t)}function le(e,t){this.options=he({},se.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=T(this),this.touchAction=new Y(this,this.options.touchAction),ue(this,!0),a(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function ue(e,t){var n=e.element;if(n.style){var i;a(e.options.cssProps,function(r,o){i=w(n.style,o),t?(e.oldCssProps[i]=n.style[i],n.style[i]=r):n.style[i]=e.oldCssProps[i]||""}),t||(e.oldCssProps={})}}function ce(e,n){var i=t.createEvent("Event");i.initEvent(e,!0,!0),i.gesture=n,n.target.dispatchEvent(i)}var he,de=["","webkit","Moz","MS","ms","o"],fe=t.createElement("div"),pe="function",me=Math.round,ge=Math.abs,ve=Date.now;he="function"!=typeof Object.assign?function(e){if(e===i||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==i&&null!==r)for(var o in r)r.hasOwnProperty(o)&&(t[o]=r[o])}return t}:Object.assign;var ye=s(function(e,t,n){for(var r=Object.keys(t),o=0;o<r.length;)(!n||n&&e[r[o]]===i)&&(e[r[o]]=t[r[o]]),o++;return e},"extend","Use `assign`."),be=s(function(e,t){return ye(e,t,!0)},"merge","Use `assign`."),we=1,xe=/mobile|tablet|ip(ad|hone|od)|android/i,$e="ontouchstart"in e,Ce=w(e,"PointerEvent")!==i,Te=$e&&xe.test(navigator.userAgent),_e="touch",ke="pen",Se="mouse",Me="kinect",De=25,Ie=1,Ee=2,Pe=4,Ae=8,Oe=1,Ne=2,Re=4,He=8,ze=16,Fe=Ne|Re,Le=He|ze,je=Fe|Le,Ve=["x","y"],We=["clientX","clientY"];C.prototype={handler:function(){},init:function(){this.evEl&&d(this.element,this.evEl,this.domHandler),this.evTarget&&d(this.target,this.evTarget,this.domHandler),this.evWin&&d($(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&f(this.element,this.evEl,this.domHandler),this.evTarget&&f(this.target,this.evTarget,this.domHandler),this.evWin&&f($(this.element),this.evWin,this.domHandler)}};var qe={mousedown:Ie,mousemove:Ee,mouseup:Pe},Be="mousedown",Ue="mousemove mouseup";l(H,C,{handler:function(e){var t=qe[e.type];t&Ie&&0===e.button&&(this.pressed=!0),t&Ee&&1!==e.which&&(t=Pe),this.pressed&&(t&Pe&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:Se,srcEvent:e}))}});var Ye={pointerdown:Ie,pointermove:Ee,pointerup:Pe,pointercancel:Ae,pointerout:Ae},Xe={2:_e,3:ke,4:Se,5:Me},Ke="pointerdown",Ge="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&(Ke="MSPointerDown",Ge="MSPointerMove MSPointerUp MSPointerCancel"),l(z,C,{handler:function(e){var t=this.store,n=!1,i=e.type.toLowerCase().replace("ms",""),r=Ye[i],o=Xe[e.pointerType]||e.pointerType,a=o==_e,s=v(t,e.pointerId,"pointerId");r&Ie&&(0===e.button||a)?0>s&&(t.push(e),s=t.length-1):r&(Pe|Ae)&&(n=!0),0>s||(t[s]=e,this.callback(this.manager,r,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(s,1))}});var Je={touchstart:Ie,touchmove:Ee,touchend:Pe,touchcancel:Ae},Qe="touchstart",Ze="touchstart touchmove touchend touchcancel";l(F,C,{handler:function(e){var t=Je[e.type];if(t===Ie&&(this.started=!0),this.started){var n=L.call(this,e,t);t&(Pe|Ae)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:_e,srcEvent:e})}}});var et={touchstart:Ie,touchmove:Ee,touchend:Pe,touchcancel:Ae},tt="touchstart touchmove touchend touchcancel";l(j,C,{handler:function(e){var t=et[e.type],n=V.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:_e,srcEvent:e})}});var nt=2500,it=25;l(W,C,{handler:function(e,t,n){var i=n.pointerType==_e,r=n.pointerType==Se;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)q.call(this,t,n);else if(r&&U.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var rt=w(fe.style,"touchAction"),ot=rt!==i,at="compute",st="auto",lt="manipulation",ut="none",ct="pan-x",ht="pan-y",dt=K();Y.prototype={set:function(e){e==at&&(e=this.compute()),ot&&this.manager.element.style&&dt[e]&&(this.manager.element.style[rt]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return a(this.manager.recognizers,function(t){c(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),X(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)return void t.preventDefault();var i=this.actions,r=m(i,ut)&&!dt[ut],o=m(i,ht)&&!dt[ht],a=m(i,ct)&&!dt[ct];if(r){var s=1===e.pointers.length,l=e.distance<2,u=e.deltaTime<250;if(s&&l&&u)return}return a&&o?void 0:r||o&&n&Fe||a&&n&Le?this.preventSrc(t):void 0},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var ft=1,pt=2,mt=4,gt=8,vt=gt,yt=16,bt=32;G.prototype={defaults:{},set:function(e){return he(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(o(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=Z(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return o(e,"dropRecognizeWith",this)?this:(e=Z(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(o(e,"requireFailure",this))return this;var t=this.requireFail;return e=Z(e,this),-1===v(t,e)&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(o(e,"dropRequireFailure",this))return this;e=Z(e,this);var t=v(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function t(t){n.manager.emit(t,e)}var n=this,i=this.state;gt>i&&t(n.options.event+J(i)),t(n.options.event),e.additionalEvent&&t(e.additionalEvent),i>=gt&&t(n.options.event+J(i))},tryEmit:function(e){return this.canEmit()?this.emit(e):void(this.state=bt)},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(bt|ft)))return!1;e++}return!0},recognize:function(e){var t=he({},e);return c(this.options.enable,[this,t])?(this.state&(vt|yt|bt)&&(this.state=ft),this.state=this.process(t),void(this.state&(pt|mt|gt|yt)&&this.tryEmit(t))):(this.reset(),void(this.state=bt))},process:function(e){},getTouchAction:function(){},reset:function(){}},l(ee,G,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,i=t&(pt|mt),r=this.attrTest(e);return i&&(n&Ae||!r)?t|yt:i||r?n&Pe?t|gt:t&pt?t|mt:pt:bt}}),l(te,ee,{defaults:{event:"pan",threshold:10,pointers:1,direction:je},getTouchAction:function(){var e=this.options.direction,t=[];return e&Fe&&t.push(ht),e&Le&&t.push(ct),t},directionTest:function(e){var t=this.options,n=!0,i=e.distance,r=e.direction,o=e.deltaX,a=e.deltaY;return r&t.direction||(t.direction&Fe?(r=0===o?Oe:0>o?Ne:Re,n=o!=this.pX,i=Math.abs(e.deltaX)):(r=0===a?Oe:0>a?He:ze,n=a!=this.pY,i=Math.abs(e.deltaY))),e.direction=r,n&&i>t.threshold&&r&t.direction},attrTest:function(e){return ee.prototype.attrTest.call(this,e)&&(this.state&pt||!(this.state&pt)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=Q(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),l(ne,ee,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ut]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&pt)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),l(ie,G,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[st]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,o=e.deltaTime>t.time;if(this._input=e,!i||!n||e.eventType&(Pe|Ae)&&!o)this.reset();else if(e.eventType&Ie)this.reset(),this._timer=r(function(){this.state=vt,this.tryEmit()},t.time,this);else if(e.eventType&Pe)return vt;return bt},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===vt&&(e&&e.eventType&Pe?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=ve(),this.manager.emit(this.options.event,this._input)))}}),l(re,ee,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ut]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&pt)}}),l(oe,ee,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Fe|Le,pointers:1},getTouchAction:function(){return te.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(Fe|Le)?t=e.overallVelocity:n&Fe?t=e.overallVelocityX:n&Le&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&ge(t)>this.options.velocity&&e.eventType&Pe},emit:function(e){var t=Q(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),l(ae,G,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[lt]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,o=e.deltaTime<t.time;if(this.reset(),e.eventType&Ie&&0===this.count)return this.failTimeout();if(i&&o&&n){if(e.eventType!=Pe)return this.failTimeout();var a=this.pTime?e.timeStamp-this.pTime<t.interval:!0,s=!this.pCenter||A(this.pCenter,e.center)<t.posThreshold;this.pTime=e.timeStamp,this.pCenter=e.center,s&&a?this.count+=1:this.count=1,this._input=e;var l=this.count%t.taps;if(0===l)return this.hasRequireFailures()?(this._timer=r(function(){this.state=vt,this.tryEmit()},t.interval,this),pt):vt}return bt},failTimeout:function(){return this._timer=r(function(){this.state=bt},this.options.interval,this),bt},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==vt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),se.VERSION="2.0.7",se.defaults={domEvents:!1,touchAction:at,enable:!0,inputTarget:null,inputClass:null,preset:[[re,{enable:!1}],[ne,{enable:!1},["rotate"]],[oe,{direction:Fe}],[te,{direction:Fe},["swipe"]],[ae],[ae,{event:"doubletap",taps:2},["tap"]],[ie]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var wt=1,xt=2;le.prototype={set:function(e){return he(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?xt:wt},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var n,i=this.recognizers,r=t.curRecognizer;(!r||r&&r.state&vt)&&(r=t.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],t.stopped===xt||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(e),!r&&n.state&(pt|mt|gt)&&(r=t.curRecognizer=n),o++}},get:function(e){if(e instanceof G)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(o(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(o(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=v(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==i&&t!==i){var n=this.handlers;return a(g(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this}},off:function(e,t){if(e!==i){var n=this.handlers;return a(g(e),function(e){t?n[e]&&n[e].splice(v(n[e],t),1):delete n[e]}),this}},emit:function(e,t){this.options.domEvents&&ce(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](t),i++}},destroy:function(){this.element&&ue(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},he(se,{INPUT_START:Ie,INPUT_MOVE:Ee,INPUT_END:Pe,INPUT_CANCEL:Ae,STATE_POSSIBLE:ft,STATE_BEGAN:pt,STATE_CHANGED:mt,STATE_ENDED:gt,STATE_RECOGNIZED:vt,STATE_CANCELLED:yt,STATE_FAILED:bt,DIRECTION_NONE:Oe,DIRECTION_LEFT:Ne,DIRECTION_RIGHT:Re,DIRECTION_UP:He,DIRECTION_DOWN:ze,DIRECTION_HORIZONTAL:Fe,DIRECTION_VERTICAL:Le,DIRECTION_ALL:je,Manager:le,Input:C,TouchAction:Y,TouchInput:j,MouseInput:H,PointerEventInput:z,TouchMouseInput:W,SingleTouchInput:F,Recognizer:G,AttrRecognizer:ee,Tap:ae,Pan:te,Swipe:oe,Pinch:ne,Rotate:re,Press:ie,on:d,off:f,each:a,merge:be,extend:ye,assign:he,inherit:l,bindFn:u,prefixed:w});var $t="undefined"!=typeof e?e:"undefined"!=typeof self?self:{};$t.Hammer=se,"function"==typeof define&&define.amd?define(function(){
return se}):"undefined"!=typeof module&&module.exports?module.exports=se:e[n]=se}(window,document,"Hammer"),"undefined"==typeof cornerstone&&(cornerstone={}),"undefined"==typeof cornerstoneTools&&(cornerstoneTools={referenceLines:{},orientation:{}}),function(e,t,n){"use strict";function i(n){if(!("mousewheel"===n.originalEvent.type&&0===n.originalEvent.wheelDeltaY||"DOMMouseScroll"===n.originalEvent.type&&1===n.originalEvent.axis)){var i=n.currentTarget,r=t.pageToPixel(i,n.pageX||n.originalEvent.pageX,n.pageY||n.originalEvent.pageY);n=window.event||n;var o=n.wheelDelta||-n.detail||-n.originalEvent.detail,a=Math.max(-1,Math.min(1,o)),s={element:i,viewport:t.getViewport(i),image:t.getEnabledElement(i).image,direction:a,pageX:n.pageX||n.originalEvent.pageX,pageY:n.pageY||n.originalEvent.pageY,imageX:r.x,imageY:r.y};e(i).trigger("CornerstoneToolsMouseWheel",s)}}function r(t){o(t),e(t).on(a,i)}function o(t){e(t).unbind(a,i)}var a="mousewheel DOMMouseScroll";n.mouseWheelInput={enable:r,disable:o}}($,cornerstone,cornerstoneTools),function(e,t,n,i){"use strict";function r(){h=!1}function o(t){e(t.element).trigger("CornerstoneToolsMouseDownActivate",t)}function a(r){var o=r.currentTarget,a="CornerstoneToolsMouseDoubleClick",s={page:n.point.pageToPoint(r),image:t.pageToPixel(o,r.pageX,r.pageY),client:{x:r.clientX,y:r.clientY}};s.canvas=t.pixelToCanvas(o,s.image);var l=i.copyPoints(s),u={event:r,which:r.which,viewport:t.getViewport(o),image:t.getEnabledElement(o).image,element:o,startPoints:s,lastPoints:l,currentPoints:s,deltaPoints:{x:0,y:0},type:a},c=e.Event(a,u);e(u.element).trigger(c,u)}function s(a){function s(r){var o="CornerstoneToolsMouseDrag",a={page:n.point.pageToPoint(r),image:t.pageToPixel(c,r.pageX,r.pageY),client:{x:r.clientX,y:r.clientY}};a.canvas=t.pixelToCanvas(c,a.image);var s={page:n.point.subtract(a.page,g.page),image:n.point.subtract(a.image,g.image),client:n.point.subtract(a.client,g.client),canvas:n.point.subtract(a.canvas,g.canvas)},l={which:b,viewport:t.getViewport(c),image:t.getEnabledElement(c).image,element:c,startPoints:m,lastPoints:g,currentPoints:a,deltaPoints:s,type:o};return e(l.element).trigger(o,l),g=i.copyPoints(a),i.pauseEvent(r)}function u(i){clearTimeout(d);var r="CornerstoneToolsMouseUp";h&&(r="CornerstoneToolsMouseClick");var o={page:n.point.pageToPoint(i),image:t.pageToPixel(c,i.pageX,i.pageY),client:{x:i.clientX,y:i.clientY}};o.canvas=t.pixelToCanvas(c,o.image);var a={page:n.point.subtract(o.page,g.page),image:n.point.subtract(o.image,g.image),client:n.point.subtract(o.client,g.client),canvas:n.point.subtract(o.canvas,g.canvas)},f={event:i,which:b,viewport:t.getViewport(c),image:t.getEnabledElement(c).image,element:c,startPoints:m,lastPoints:g,currentPoints:o,deltaPoints:a,type:r},p=e.Event(r,f);e(f.element).trigger(p,f),e(document).off("mousemove",s),e(document).off("mouseup",u),e(f.element).on("mousemove",l),h=!0}d=setTimeout(r,f);var c=a.currentTarget,p="CornerstoneToolsMouseDown";e(c).off("mousemove",l);var m={page:n.point.pageToPoint(a),image:t.pageToPixel(c,a.pageX,a.pageY),client:{x:a.clientX,y:a.clientY}};m.canvas=t.pixelToCanvas(c,m.image);var g=i.copyPoints(m),v={event:a,which:a.which,viewport:t.getViewport(c),image:t.getEnabledElement(c).image,element:c,startPoints:m,lastPoints:g,currentPoints:m,deltaPoints:{x:0,y:0},type:p},y=e.Event(p,v);if(e(v.element).trigger(y,v),y.isImmediatePropagationStopped()===!1&&o(v)===!0)return i.pauseEvent(a);var b=a.which;return e(document).on("mousemove",s),e(document).on("mouseup",u),i.pauseEvent(a)}function l(r){var o=r.currentTarget,a="CornerstoneToolsMouseMove",s={page:n.point.pageToPoint(r),image:t.pageToPixel(o,r.pageX,r.pageY),client:{x:r.clientX,y:r.clientY}};s.canvas=t.pixelToCanvas(o,s.image);var l=i.copyPoints(s),u=r.which,c={page:n.point.pageToPoint(r),image:t.pageToPixel(o,r.pageX,r.pageY),client:{x:r.clientX,y:r.clientY}};c.canvas=t.pixelToCanvas(o,c.image);var h={page:n.point.subtract(c.page,l.page),image:n.point.subtract(c.image,l.image),client:n.point.subtract(c.client,l.client),canvas:n.point.subtract(c.canvas,l.canvas)},d={which:u,viewport:t.getViewport(o),image:t.getEnabledElement(o).image,element:o,startPoints:s,lastPoints:l,currentPoints:c,deltaPoints:h,type:a};e(o).trigger(a,d),l=i.copyPoints(c)}function u(t){e(t).off("mousedown",s),e(t).off("mousemove",l),e(t).off("dblclick",a)}function c(t){u(t),e(t).on("mousedown",s),e(t).on("mousemove",l),e(t).on("dblclick",a)}var h,d,f=200;i.mouseInput={enable:c,disable:u}}($,cornerstone,cornerstoneMath,cornerstoneTools),function(e,t,n,i){"use strict";function r(r){var o,a,x=r.target.parentNode;switch(r.preventDefault(),(r.pointers&&r.pointers.length>1||r.originalEvent&&r.originalEvent.touches&&r.originalEvent.touches.length>1)&&(y=!1,clearTimeout(f)),r.type){case"tap":y=!1,clearTimeout(f),l={page:n.point.pageToPoint(r.pointers[0]),image:t.pageToPixel(x,r.pointers[0].pageX,r.pointers[0].pageY),client:{x:r.pointers[0].clientX,y:r.pointers[0].clientY}},l.canvas=t.pixelToCanvas(x,l.image),a="CornerstoneToolsTap",h={event:r,viewport:t.getViewport(x),image:t.getEnabledElement(x).image,element:x,currentPoints:l,type:a,isTouchEvent:!0},o=e.Event(a,h),e(x).trigger(o,h);break;case"doubletap":y=!1,clearTimeout(f),l={page:n.point.pageToPoint(r.pointers[0]),image:t.pageToPixel(x,r.pointers[0].pageX,r.pointers[0].pageY),client:{x:r.pointers[0].clientX,y:r.pointers[0].clientY}},l.canvas=t.pixelToCanvas(x,l.image),a="CornerstoneToolsDoubleTap",h={event:r,viewport:t.getViewport(x),image:t.getEnabledElement(x).image,element:x,currentPoints:l,type:a,isTouchEvent:!0},o=e.Event(a,h),e(x).trigger(o,h);break;case"pinchstart":y=!1,clearTimeout(f),m=1;break;case"pinchmove":if(y=!1,clearTimeout(f),w===!0){m=r.scale,w=!1;break}var $=(r.scale-m)/m;s={page:r.center,image:t.pageToPixel(x,r.center.x,r.center.y)},s.canvas=t.pixelToCanvas(x,s.image),a="CornerstoneToolsTouchPinch",h={event:r,startPoints:s,viewport:t.getViewport(x),image:t.getEnabledElement(x).image,element:x,direction:r.scale<1?1:-1,scaleChange:$,type:a,isTouchEvent:!0},o=e.Event(a,h),e(x).trigger(o,h),m=r.scale;break;case"touchstart":m=1,clearTimeout(f),clearTimeout(d),d=setTimeout(function(){s={page:n.point.pageToPoint(r.originalEvent.touches[0]),image:t.pageToPixel(x,r.originalEvent.touches[0].pageX,r.originalEvent.touches[0].pageY),client:{x:r.originalEvent.touches[0].clientX,y:r.originalEvent.touches[0].clientY}},s.canvas=t.pixelToCanvas(x,s.image),a="CornerstoneToolsTouchStart",r.originalEvent.touches.length>1&&(a="CornerstoneToolsMultiTouchStart"),h={event:r,viewport:t.getViewport(x),image:t.getEnabledElement(x).image,element:x,startPoints:s,currentPoints:s,type:a,isTouchEvent:!0},o=e.Event(a,h),e(x).trigger(o,h),o.isImmediatePropagationStopped()===!1&&(a="CornerstoneToolsTouchStartActive",r.originalEvent.touches.length>1&&(a="CornerstoneToolsMultiTouchStartActive"),h.type=a,e(x).trigger(a,h)),u=i.copyPoints(s)},50),y=!0,p=0,f=setTimeout(function(){y&&(l={page:n.point.pageToPoint(r.originalEvent.touches[0]),image:t.pageToPixel(x,r.originalEvent.touches[0].pageX,r.originalEvent.touches[0].pageY),client:{x:r.originalEvent.touches[0].clientX,y:r.originalEvent.touches[0].clientY}},l.canvas=t.pixelToCanvas(x,s.image),a="CornerstoneToolsTouchPress",h={event:r,viewport:t.getViewport(x),image:t.getEnabledElement(x).image,element:x,currentPoints:l,type:a,isTouchEvent:!0},o=e.Event(a,h),e(x).trigger(o,h))},v);break;case"touchend":m=1,y=!1,clearTimeout(f),s={page:n.point.pageToPoint(r.originalEvent.changedTouches[0]),image:t.pageToPixel(x,r.originalEvent.changedTouches[0].pageX,r.originalEvent.changedTouches[0].pageY),client:{x:r.originalEvent.changedTouches[0].clientX,y:r.originalEvent.changedTouches[0].clientY}},s.canvas=t.pixelToCanvas(x,s.image),a="CornerstoneToolsTouchEnd",h={event:r,viewport:t.getViewport(x),image:t.getEnabledElement(x).image,element:x,startPoints:s,currentPoints:s,type:a,isTouchEvent:!0},o=e.Event(a,h),e(x).trigger(o,h);break;case"panmove":l={page:n.point.pageToPoint(r.pointers[0]),image:t.pageToPixel(x,r.pointers[0].pageX,r.pointers[0].pageY),client:{x:r.pointers[0].clientX,y:r.pointers[0].clientY}},l.canvas=t.pixelToCanvas(x,l.image),c={page:n.point.subtract(l.page,u.page),image:n.point.subtract(l.image,u.image),client:n.point.subtract(l.client,u.client),canvas:n.point.subtract(l.canvas,u.canvas)},p+=Math.sqrt(c.page.x*c.page.x+c.page.y*c.page.y),p>b&&(y=!1,clearTimeout(f)),a="CornerstoneToolsTouchDrag",r.pointers.length>1&&(a="CornerstoneToolsMultiTouchDrag"),h={viewport:t.getViewport(x),image:t.getEnabledElement(x).image,element:x,startPoints:s,lastPoints:u,currentPoints:l,deltaPoints:c,numPointers:r.pointers.length,type:a,isTouchEvent:!0},o=e.Event(a,h),e(x).trigger(o,h),u=i.copyPoints(l);break;case"panstart":l={page:n.point.pageToPoint(r.pointers[0]),image:t.pageToPixel(x,r.pointers[0].pageX,r.pointers[0].pageY),client:{x:r.pointers[0].clientX,y:r.pointers[0].clientY}},l.canvas=t.pixelToCanvas(x,l.image),u=i.copyPoints(l);break;case"panend":if(y=!1,clearTimeout(f),!u)return!1;l={page:n.point.pageToPoint(r.pointers[0]),image:t.pageToPixel(x,r.pointers[0].pageX,r.pointers[0].pageY),client:{x:r.pointers[0].clientX,y:r.pointers[0].clientY}},l.canvas=t.pixelToCanvas(x,l.image),c={page:n.point.subtract(l.page,u.page),image:n.point.subtract(l.image,u.image),client:n.point.subtract(l.client,u.client),canvas:n.point.subtract(l.canvas,u.canvas)},a="CornerstoneToolsDragEnd",h={event:r.srcEvent,viewport:t.getViewport(x),image:t.getEnabledElement(x).image,element:x,startPoints:s,lastPoints:u,currentPoints:l,deltaPoints:c,type:a,isTouchEvent:!0},o=e.Event(a,h),e(x).trigger(o,h);var C=r.pointers.length-r.changedPointers.length;return 2===C&&(w=!0),i.pauseEvent(r);case"rotatemove":y=!1,clearTimeout(f);var T=r.rotation-g;g=r.rotation,a="CornerstoneToolsTouchRotate",h={event:r.srcEvent,viewport:t.getViewport(x),image:t.getEnabledElement(x).image,element:x,rotation:T,type:a},o=e.Event(a,h),e(x).trigger(o,h)}return!1}function o(t){a(t);var n={inputClass:Hammer.SUPPORT_POINTER_EVENTS?Hammer.PointerEventInput:Hammer.TouchInput},o=new Hammer.Manager(t,n),s={pointers:0,direction:Hammer.DIRECTION_ALL,threshold:0},l=new Hammer.Pan(s),u=new Hammer.Pinch({threshold:0}),c=new Hammer.Rotate({threshold:0});u.recognizeWith(l),u.recognizeWith(c),o.add([l,c,u]),o.on("tap doubletap panstart panmove panend pinchstart pinchmove rotatemove",r),i.preventGhostClick.enable(t),e(t).on("touchstart touchend",r),e(t).data("hammer",o)}function a(t){i.preventGhostClick.disable(t),e(t).off("touchstart touchend",r);var n=e(t).data("hammer");n&&n.off("tap doubletap panstart panmove panend pinchmove rotatemove",r)}var s,l,u,c,h,d,f,p,m=1,g=0,v=700,y=!1,b=5,w=!1;i.touchInput={enable:o,disable:a}}($,cornerstone,cornerstoneMath,cornerstoneTools),function(e,t,n){"use strict";function i(t){var n={},i={activate:function(n,i,r){e(n).off("CornerstoneToolsMouseDownActivate",t);var o={mouseButtonMask:i,options:r};e(n).on("CornerstoneToolsMouseDownActivate",o,t)},disable:function(n){e(n).off("CornerstoneToolsMouseDownActivate",t)},enable:function(n){e(n).off("CornerstoneToolsMouseDownActivate",t)},deactivate:function(n){e(n).off("CornerstoneToolsMouseDownActivate",t)},getConfiguration:function(){return n},setConfiguration:function(e){n=e}};return i}n.simpleMouseButtonTool=i}($,cornerstone,cornerstoneTools),function(e,t,n,i){"use strict";function r(n){function r(r){var l=r.element,u=n.createNewMeasurement(r);if(u){var c={mouseButtonMask:r.which};i.addToolState(r.element,n.toolType,u),e(l).off("CornerstoneToolsMouseMove",n.mouseMoveCallback||a),e(l).off("CornerstoneToolsMouseDown",n.mouseDownCallback||s),e(l).off("CornerstoneToolsMouseDownActivate",n.mouseDownActivateCallback||o),n.mouseDoubleClickCallback&&e(l).off("CornerstoneToolsMouseDoubleClick",n.mouseDoubleClickCallback),t.updateImage(l);var h;h=1===Object.keys(u.handles).length?i.moveHandle:i.moveNewHandle;var d;d=n.options&&void 0!==n.options.preventHandleOutsideImage?n.options.preventHandleOutsideImage:!1,h(r,n.toolType,u,u.handles.end,function(){u.active=!1,u.invalidated=!0,i.anyHandlesOutsideImage(r,u.handles)&&i.removeToolState(l,n.toolType,u),e(l).on("CornerstoneToolsMouseMove",c,n.mouseMoveCallback||a),e(l).on("CornerstoneToolsMouseDown",c,n.mouseDownCallback||s),e(l).on("CornerstoneToolsMouseDownActivate",c,n.mouseDownActivateCallback||o),n.mouseDoubleClickCallback&&e(l).on("CornerstoneToolsMouseDoubleClick",c,n.mouseDoubleClickCallback),t.updateImage(l)},d)}}function o(e,t){return i.isMouseButtonEnabled(t.which,e.data.mouseButtonMask)?(n.addNewMeasurement?n.addNewMeasurement(t):r(t),!1):void 0}function a(e,r){if(i.toolCoordinates.setCoords(r),0===r.which){var o=i.getToolState(r.element,n.toolType);if(o){for(var a=!1,s=0;s<o.data.length;s++){var l=r.currentPoints.canvas,u=o.data[s];i.handleActivator(r.element,u.handles,l)===!0&&(a=!0),(n.pointNearTool(r.element,u,l)&&!u.active||!n.pointNearTool(r.element,u,l)&&u.active)&&(u.active=!u.active,a=!0)}a===!0&&t.updateImage(r.element)}}}function s(r,o){function s(){l.active=!1,l.invalidated=!0,i.anyHandlesOutsideImage(o,l.handles)&&i.removeToolState(u,n.toolType,l),t.updateImage(u),e(u).on("CornerstoneToolsMouseMove",o,n.mouseMoveCallback||a)}var l,u=o.element;if(i.isMouseButtonEnabled(o.which,r.data.mouseButtonMask)){var c,h=o.startPoints.canvas,d=i.getToolState(r.currentTarget,n.toolType);if(d){var f;for(f=n.options&&void 0!==n.options.preventHandleOutsideImage?n.options.preventHandleOutsideImage:!1,c=0;c<d.data.length;c++){l=d.data[c];var p=25,m=i.getHandleNearImagePoint(u,l.handles,h,p);if(m)return e(u).off("CornerstoneToolsMouseMove",n.mouseMoveCallback||a),l.active=!0,i.moveHandle(o,n.toolType,l,m,s,f),r.stopImmediatePropagation(),!1}}if(d&&n.pointNearTool){var g=n.options||{deleteIfHandleOutsideImage:!0,preventHandleOutsideImage:!1};for(c=0;c<d.data.length;c++)if(l=d.data[c],n.pointNearTool(u,l,h))return e(u).off("CornerstoneToolsMouseMove",n.mouseMoveCallback||a),i.moveAllHandles(r,l,d,n.toolType,g,s),r.stopImmediatePropagation(),!1}}}function l(i){e(i).off("CornerstoneImageRendered",n.onImageRendered),e(i).off("CornerstoneToolsMouseMove",n.mouseMoveCallback||a),e(i).off("CornerstoneToolsMouseDown",n.mouseDownCallback||s),e(i).off("CornerstoneToolsMouseDownActivate",n.mouseDownActivateCallback||o),n.mouseDoubleClickCallback&&e(i).off("CornerstoneToolsMouseDoubleClick",n.mouseDoubleClickCallback),t.updateImage(i)}function u(i){e(i).off("CornerstoneImageRendered",n.onImageRendered),e(i).off("CornerstoneToolsMouseMove",n.mouseMoveCallback||a),e(i).off("CornerstoneToolsMouseDown",n.mouseDownCallback||s),e(i).off("CornerstoneToolsMouseDownActivate",n.mouseDownActivateCallback||o),n.mouseDoubleClickCallback&&e(i).off("CornerstoneToolsMouseDoubleClick",n.mouseDoubleClickCallback),e(i).on("CornerstoneImageRendered",n.onImageRendered),t.updateImage(i)}function c(i,r){var l={mouseButtonMask:r};e(i).off("CornerstoneImageRendered",n.onImageRendered),e(i).off("CornerstoneToolsMouseMove",n.mouseMoveCallback||a),e(i).off("CornerstoneToolsMouseDown",n.mouseDownCallback||s),e(i).off("CornerstoneToolsMouseDownActivate",n.mouseDownActivateCallback||o),e(i).on("CornerstoneImageRendered",n.onImageRendered),e(i).on("CornerstoneToolsMouseMove",l,n.mouseMoveCallback||a),e(i).on("CornerstoneToolsMouseDown",l,n.mouseDownCallback||s),e(i).on("CornerstoneToolsMouseDownActivate",l,n.mouseDownActivateCallback||o),n.mouseDoubleClickCallback&&(e(i).off("CornerstoneToolsMouseDoubleClick",n.mouseDoubleClickCallback),e(i).on("CornerstoneToolsMouseDoubleClick",l,n.mouseDoubleClickCallback)),t.updateImage(i)}function h(i,r){var l={mouseButtonMask:r};e(i).off("CornerstoneImageRendered",n.onImageRendered),e(i).off("CornerstoneToolsMouseMove",n.mouseMoveCallback||a),e(i).off("CornerstoneToolsMouseDown",n.mouseDownCallback||s),e(i).off("CornerstoneToolsMouseDownActivate",n.mouseDownActivateCallback||o),e(i).on("CornerstoneImageRendered",n.onImageRendered),e(i).on("CornerstoneToolsMouseMove",l,n.mouseMoveCallback||a),e(i).on("CornerstoneToolsMouseDown",l,n.mouseDownCallback||s),n.mouseDoubleClickCallback&&(e(i).off("CornerstoneToolsMouseDoubleClick",n.mouseDoubleClickCallback),e(i).on("CornerstoneToolsMouseDoubleClick",l,n.mouseDoubleClickCallback)),t.updateImage(i)}function d(){return p}function f(e){p=e}var p={},m={enable:u,disable:l,activate:c,deactivate:h,getConfiguration:d,setConfiguration:f,mouseDownCallback:s,mouseMoveCallback:a,mouseDownActivateCallback:o};return n.pointNearTool&&(m.pointNearTool=n.pointNearTool),n.mouseDoubleClickCallback&&(m.mouseDoubleClickCallback=n.mouseDoubleClickCallback),n.addNewMeasurement&&(m.addNewMeasurement=n.addNewMeasurement),m}i.mouseButtonTool=r}($,cornerstone,cornerstoneMath,cornerstoneTools),function(e,t,n,i){"use strict";function r(n,r){function o(t){var o=n.createNewMeasurement(t);o&&(i.addToolState(t.element,n.toolType,o),e(t.element).off("CornerstoneToolsMouseMove",s),i.moveHandle(t,n.toolType,o,o.handles.end,function(){o.active=!1,i.anyHandlesOutsideImage(t,o.handles)&&i.removeToolState(t.element,n.toolType,o),e(t.element).on("CornerstoneToolsMouseMove",s)},r))}function a(e,t){return i.isMouseButtonEnabled(t.which,e.data.mouseButtonMask)?(o(t),!1):void 0}function s(e,r){if(i.toolCoordinates.setCoords(r),0===r.which){var o=i.getToolState(r.element,n.toolType);if(void 0!==o){for(var a=!1,s=r.currentPoints.canvas,l=0;l<o.data.length;l++){var u=o.data[l];i.handleActivator(r.element,u.handles,s)===!0&&(a=!0),(n.pointInsideRect(r.element,u,s)&&!u.active||!n.pointInsideRect(r.element,u,s)&&u.active)&&(u.active=!u.active,a=!0)}a===!0&&t.updateImage(r.element)}}}function l(o,a){function l(){u.active=!1,i.anyHandlesOutsideImage(a,u.handles)&&i.removeToolState(a.element,n.toolType,u),t.updateImage(a.element),e(a.element).on("CornerstoneToolsMouseMove",s)}var u;if(i.isMouseButtonEnabled(a.which,o.data.mouseButtonMask)){var c,h=a.startPoints.canvas,d=i.getToolState(o.currentTarget,n.toolType),f=25;if(void 0!==d)for(c=0;c<d.data.length;c++){u=d.data[c];var p=i.getHandleNearImagePoint(a.element,u.handles,h,f);if(void 0!==p)return e(a.element).off("CornerstoneToolsMouseMove",s),u.active=!0,i.moveHandle(a,n.toolType,u,p,l,r),o.stopImmediatePropagation(),!1}var m={deleteIfHandleOutsideImage:!0,preventHandleOutsideImage:r};if(void 0!==d&&void 0!==n.pointInsideRect)for(c=0;c<d.data.length;c++)if(u=d.data[c],n.pointInsideRect(a.element,u,h))return e(a.element).off("CornerstoneToolsMouseMove",s),i.moveAllHandles(o,u,d,n.toolType,m,l),e(a.element).on("CornerstoneToolsMouseMove",s),o.stopImmediatePropagation(),!1}}function u(i){e(i).off("CornerstoneImageRendered",n.onImageRendered),e(i).off("CornerstoneToolsMouseMove",s),e(i).off("CornerstoneToolsMouseDown",l),e(i).off("CornerstoneToolsMouseDownActivate",a),t.updateImage(i)}function c(i){e(i).off("CornerstoneImageRendered",n.onImageRendered),e(i).off("CornerstoneToolsMouseMove",s),e(i).off("CornerstoneToolsMouseDown",l),e(i).off("CornerstoneToolsMouseDownActivate",a),e(i).on("CornerstoneImageRendered",n.onImageRendered),t.updateImage(i)}function h(i,r){var o={mouseButtonMask:r};e(i).off("CornerstoneImageRendered",n.onImageRendered),e(i).off("CornerstoneToolsMouseMove",s),e(i).off("CornerstoneToolsMouseDown",l),e(i).off("CornerstoneToolsMouseDownActivate",a),e(i).on("CornerstoneImageRendered",n.onImageRendered),e(i).on("CornerstoneToolsMouseMove",o,s),e(i).on("CornerstoneToolsMouseDown",o,l),e(i).on("CornerstoneToolsMouseDownActivate",o,a),t.updateImage(i)}function d(i,r){var o={mouseButtonMask:r};e(i).off("CornerstoneImageRendered",n.onImageRendered),e(i).off("CornerstoneToolsMouseMove",s),e(i).off("CornerstoneToolsMouseDown",l),e(i).off("CornerstoneToolsMouseDownActivate",a),e(i).on("CornerstoneImageRendered",n.onImageRendered),e(i).on("CornerstoneToolsMouseMove",o,s),e(i).on("CornerstoneToolsMouseDown",o,l),t.updateImage(i)}var f={enable:c,disable:u,activate:h,deactivate:d};return f}i.mouseButtonRectangleTool=r}($,cornerstone,cornerstoneMath,cornerstoneTools),function(e,t,n){"use strict";function i(t){var n={activate:function(n){e(n).off("CornerstoneToolsMouseWheel",t);var i={};e(n).on("CornerstoneToolsMouseWheel",i,t)},disable:function(n){e(n).off("CornerstoneToolsMouseWheel",t)},enable:function(n){e(n).off("CornerstoneToolsMouseWheel",t)},deactivate:function(n){e(n).off("CornerstoneToolsMouseWheel",t)}};return n}n.mouseWheelTool=i}($,cornerstone,cornerstoneTools),function(e,t,n){"use strict";function i(t,n){var i="CornerstoneToolsTouchDrag";n&&n.fireOnTouchStart===!0&&(i+=" CornerstoneToolsTouchStart");var r={activate:function(r){e(r).off(i,t),n&&n.eventData?e(r).on(i,n.eventData,t):e(r).on(i,t),n&&n.activateCallback&&n.activateCallback(r)},disable:function(r){e(r).off(i,t),n&&n.disableCallback&&n.disableCallback(r)},enable:function(r){e(r).off(i,t),n&&n.enableCallback&&n.enableCallback(r)},deactivate:function(r){e(r).off(i,t),n&&n.deactivateCallback&&n.deactivateCallback(r)}};return r}n.touchDragTool=i}($,cornerstone,cornerstoneTools),function(e,t,n){"use strict";function i(t){var n={activate:function(n){e(n).off("CornerstoneToolsTouchPinch",t);var i={};e(n).on("CornerstoneToolsTouchPinch",i,t)},disable:function(n){e(n).off("CornerstoneToolsTouchPinch",t)},enable:function(n){e(n).off("CornerstoneToolsTouchPinch",t)},deactivate:function(n){e(n).off("CornerstoneToolsTouchPinch",t)}};return n}n.touchPinchTool=i}($,cornerstone,cornerstoneTools),function(e,t,n,i){"use strict";function r(e){Object.keys(e).forEach(function(t){var n=e[t];n.active=!1})}function o(e){if(e)for(var t=0;t<e.data.length;t++){var n=e.data[t];n.active=!1,n.handles&&r(n.handles)}}function a(n){function r(r){var o=r.element,l=n.createNewMeasurement(r);if(l){if(i.addToolState(o,n.toolType,l),1===Object.keys(l.handles).length&&"CornerstoneToolsTap"===r.type)return l.active=!1,l.handles.end.active=!1,l.handles.end.highlight=!1,l.invalidated=!0,i.anyHandlesOutsideImage(r,l.handles)&&i.removeToolState(o,n.toolType,l),void t.updateImage(o);e(o).off("CornerstoneToolsTouchStartActive",n.touchDownActivateCallback||a),e(o).off("CornerstoneToolsTap",n.tapCallback||s),t.updateImage(o),i.moveNewHandleTouch(r,n.toolType,l,l.handles.end,function(){l.active=!1,l.invalidated=!0,i.anyHandlesOutsideImage(r,l.handles)&&i.removeToolState(o,n.toolType,l),e(o).on("CornerstoneToolsTouchStartActive",n.touchDownActivateCallback||a),e(o).on("CornerstoneToolsTap",n.tapCallback||s),t.updateImage(o)})}}function a(e,t){return n.addNewMeasurement?n.addNewMeasurement(t):r(t),!1}function s(r,l){function u(){console.log("touchTool tapCallback doneMovingCallback"),o(p),i.anyHandlesOutsideImage(l,c.handles)&&i.removeToolState(d,n.toolType,c),t.updateImage(d),e(d).on("CornerstoneToolsTouchStartActive",n.touchDownActivateCallback||a),e(d).on("CornerstoneToolsTap",n.tapCallback||s)}var c,h,d=l.element,f=l.currentPoints.canvas,p=i.getToolState(r.currentTarget,n.toolType);if(o(p),p)for(h=0;h<p.data.length;h++){c=p.data[h];var m=25,g=i.getHandleNearImagePoint(d,c.handles,f,m);if(g)return e(d).off("CornerstoneToolsTouchStartActive",n.touchDownActivateCallback||a),e(d).off("CornerstoneToolsTap",n.tapCallback||s),c.active=!0,g.active=!0,t.updateImage(d),i.touchMoveHandle(r,n.toolType,c,g,u),r.stopImmediatePropagation(),!1}if(p&&n.pointNearTool)for(h=0;h<p.data.length;h++)if(c=p.data[h],n.pointNearTool(d,c,f))return e(d).off("CornerstoneToolsTouchStartActive",n.touchDownActivateCallback||a),e(d).off("CornerstoneToolsTap",n.tapCallback||s),c.active=!0,t.updateImage(d),i.touchMoveAllHandles(r,c,p,n.toolType,!0,u),r.stopImmediatePropagation(),!1;return n.touchDownActivateCallback?n.touchDownActivateCallback(r,l):a(r,l),!1}function l(r,o){function l(){u.active=!1,u.invalidated=!0,i.anyHandlesOutsideImage(o,u.handles)&&i.removeToolState(o.element,n.toolType,u),t.updateImage(o.element),e(h).on("CornerstoneToolsTouchStartActive",n.touchDownActivateCallback||a),e(h).on("CornerstoneToolsTap",n.tapCallback||s)}var u,c,h=o.element,d=o.startPoints.canvas,f=i.getToolState(r.currentTarget,n.toolType),p=i.touchSettings.getToolDistanceFromTouch(),m=Math.max(Math.abs(p.x),Math.abs(p.y));if(f)for(c=0;c<f.data.length;c++){u=f.data[c];var g=i.getHandleNearImagePoint(o.element,u.handles,d,m);if(g)return e(h).off("CornerstoneToolsTouchStartActive",n.touchDownActivateCallback||a),e(h).off("CornerstoneToolsTap",n.tapCallback||s),u.active=!0,i.touchMoveHandle(r,n.toolType,u,g,l),r.stopImmediatePropagation(),!1}if(f&&n.pointNearTool)for(c=0;c<f.data.length;c++)if(u=f.data[c],n.pointNearTool(o.element,u,d))return e(h).off("CornerstoneToolsTouchStartActive",n.touchDownActivateCallback||a),e(h).off("CornerstoneToolsTap",n.tapCallback||s),i.touchMoveAllHandles(r,u,f,n.toolType,!0,l),r.stopImmediatePropagation(),!1}function u(i){e(i).off("CornerstoneImageRendered",n.onImageRendered),e(i).off("CornerstoneToolsTouchStart",n.touchStartCallback||l),e(i).off("CornerstoneToolsTouchStartActive",n.touchDownActivateCallback||a),e(i).off("CornerstoneToolsTap",n.tapCallback||s),n.doubleTapCallback&&e(i).off("CornerstoneToolsDoubleTap",n.doubleTapCallback),n.pressCallback&&e(i).off("CornerstoneToolsTouchPress",n.pressCallback),t.updateImage(i)}function c(i){e(i).off("CornerstoneImageRendered",n.onImageRendered),e(i).off("CornerstoneToolsTouchStart",n.touchStartCallback||l),e(i).off("CornerstoneToolsTouchStartActive",n.touchDownActivateCallback||a),e(i).off("CornerstoneToolsTap",n.tapCallback||s),e(i).on("CornerstoneImageRendered",n.onImageRendered),n.doubleTapCallback&&e(i).off("CornerstoneToolsDoubleTap",n.doubleTapCallback),n.pressCallback&&e(i).off("CornerstoneToolsTouchPress",n.pressCallback),t.updateImage(i)}function h(i){e(i).off("CornerstoneImageRendered",n.onImageRendered),e(i).off("CornerstoneToolsTouchStart",n.touchStartCallback||l),e(i).off("CornerstoneToolsTouchStartActive",n.touchDownActivateCallback||a),e(i).off("CornerstoneToolsTap",n.tapCallback||s),e(i).on("CornerstoneImageRendered",n.onImageRendered),e(i).on("CornerstoneToolsTouchStart",n.touchStartCallback||l),e(i).on("CornerstoneToolsTouchStartActive",n.touchDownActivateCallback||a),e(i).on("CornerstoneToolsTap",n.tapCallback||s),n.doubleTapCallback&&(e(i).off("CornerstoneToolsDoubleTap",n.doubleTapCallback),e(i).on("CornerstoneToolsDoubleTap",n.doubleTapCallback)),n.pressCallback&&(e(i).off("CornerstoneToolsTouchPress",n.pressCallback),e(i).on("CornerstoneToolsTouchPress",n.pressCallback)),t.updateImage(i)}function d(i){e(i).off("CornerstoneImageRendered",n.onImageRendered),e(i).off("CornerstoneToolsTouchStart",n.touchStartCallback||l),e(i).off("CornerstoneToolsTouchStartActive",n.touchDownActivateCallback||a),e(i).off("CornerstoneToolsTap",n.tapCallback||s),e(i).on("CornerstoneImageRendered",n.onImageRendered),n.doubleTapCallback&&(e(i).off("CornerstoneToolsDoubleTap",n.doubleTapCallback),e(i).on("CornerstoneToolsDoubleTap",n.doubleTapCallback)),n.pressCallback&&(e(i).off("CornerstoneToolsTouchPress",n.pressCallback),e(i).on("CornerstoneToolsTouchPress",n.pressCallback)),t.updateImage(i)}var f={enable:c,disable:u,activate:h,deactivate:d,touchStartCallback:n.touchStartCallback||l,touchDownActivateCallback:n.touchDownActivateCallback||a,tapCallback:n.tapCallback||s};return n.pointNearTool&&(f.pointNearTool=n.pointNearTool),n.doubleTapCallback&&(f.doubleTapCallback=n.doubleTapCallback),n.pressCallback&&(f.pressCallback=n.pressCallback),n.addNewMeasurement&&(f.addNewMeasurement=n.addNewMeasurement),f}i.touchTool=a}($,cornerstone,cornerstoneMath,cornerstoneTools),function(e,t,n,i){"use strict";function r(e){var t={visible:!0,active:!0,handles:{start:{x:e.currentPoints.image.x-20,y:e.currentPoints.image.y+10,highlight:!0,active:!1},end:{x:e.currentPoints.image.x,y:e.currentPoints.image.y,highlight:!0,active:!0},start2:{x:e.currentPoints.image.x-20,y:e.currentPoints.image.y+10,highlight:!0,active:!1},end2:{x:e.currentPoints.image.x,y:e.currentPoints.image.y+20,highlight:!0,active:!1}}};return t}function o(e,i,r){var o={start:t.pixelToCanvas(e,i.handles.start),end:t.pixelToCanvas(e,i.handles.end)},a=n.lineSegment.distanceToPoint(o,r);return 5>a?!0:(o.start=t.pixelToCanvas(e,i.handles.start2),o.end=t.pixelToCanvas(e,i.handles.end2),a=n.lineSegment.distanceToPoint(o,r),5>a)}function a(e,n){var r=i.getToolState(e.currentTarget,s);if(void 0!==r){var o=n.canvasContext.canvas.getContext("2d");o.setTransform(1,0,0,1,0,0);for(var a,l=i.toolStyle.getToolWidth(),u=i.textStyle.getFont(),c=i.angle.getConfiguration(),h=0;h<r.data.length;h++){o.save(),c&&c.shadow&&(o.shadowColor=c.shadowColor||"#000000",o.shadowOffsetX=c.shadowOffsetX||1,o.shadowOffsetY=c.shadowOffsetY||1);var d=r.data[h];a=d.active?i.toolColors.getActiveColor():i.toolColors.getToolColor(),o.beginPath(),o.strokeStyle=a,o.lineWidth=l;var f=t.pixelToCanvas(n.element,d.handles.start),p=t.pixelToCanvas(n.element,d.handles.end);o.moveTo(f.x,f.y),o.lineTo(p.x,p.y),f=t.pixelToCanvas(n.element,d.handles.start2),p=t.pixelToCanvas(n.element,d.handles.end2),o.moveTo(f.x,f.y),o.lineTo(p.x,p.y),o.stroke(),i.drawHandles(o,n,d.handles),o.fillStyle=a;var m=(Math.ceil(d.handles.start.x)-Math.ceil(d.handles.end.x))*n.image.columnPixelSpacing,g=(Math.ceil(d.handles.start.y)-Math.ceil(d.handles.end.y))*n.image.rowPixelSpacing,v=(Math.ceil(d.handles.start2.x)-Math.ceil(d.handles.end2.x))*n.image.columnPixelSpacing,y=(Math.ceil(d.handles.start2.y)-Math.ceil(d.handles.end2.y))*n.image.rowPixelSpacing,b=Math.acos(Math.abs((m*v+g*y)/(Math.sqrt(m*m+g*g)*Math.sqrt(v*v+y*y))));b*=180/Math.PI;var w=i.roundToDecimal(b,2),x="00B0",$=w.toString()+String.fromCharCode(parseInt(x,16)),C=(f.x+p.x)/2,T=(f.y+p.y)/2;o.font=u,i.drawTextBox(o,$,C,T,a),o.restore()}}}var s="angle";i.angle=i.mouseButtonTool({createNewMeasurement:r,onImageRendered:a,pointNearTool:o,toolType:s}),i.angleTouch=i.touchTool({createNewMeasurement:r,onImageRendered:a,pointNearTool:o,toolType:s})}($,cornerstone,cornerstoneMath,cornerstoneTools),function(e,t,n,i){"use strict";function r(e){e(prompt("Enter your annotation:"))}function o(e,t){t(prompt("Change your annotation:"))}function a(n){function r(e){null!==e?o.text=e:i.removeToolState(n.element,f,o),o.active=!1,t.updateImage(n.element)}var o=s(n),a={mouseButtonMask:n.which};i.addToolState(n.element,f,o),e(n.element).off("CornerstoneToolsMouseMove",i.arrowAnnotate.mouseMoveCallback),e(n.element).off("CornerstoneToolsMouseDown",i.arrowAnnotate.mouseDownCallback),e(n.element).off("CornerstoneToolsMouseDownActivate",i.arrowAnnotate.mouseDownActivateCallback),t.updateImage(n.element),i.moveNewHandle(n,f,o,o.handles.end,function(){i.anyHandlesOutsideImage(n,o.handles)&&i.removeToolState(n.element,f,o);var s=i.arrowAnnotate.getConfiguration();void 0===o.text&&s.getTextCallback(r),e(n.element).on("CornerstoneToolsMouseMove",a,i.arrowAnnotate.mouseMoveCallback),e(n.element).on("CornerstoneToolsMouseDown",a,i.arrowAnnotate.mouseDownCallback),e(n.element).on("CornerstoneToolsMouseDownActivate",a,i.arrowAnnotate.mouseDownActivateCallback),t.updateImage(n.element)})}function s(e){var t={visible:!0,active:!0,handles:{start:{x:e.currentPoints.image.x,y:e.currentPoints.image.y,highlight:!0,active:!1},end:{x:e.currentPoints.image.x,y:e.currentPoints.image.y,highlight:!0,active:!1}}};return t}function l(e,r,o){var a={start:t.pixelToCanvas(e,r.handles.start),end:t.pixelToCanvas(e,r.handles.end)},s=n.lineSegment.distanceToPoint(a,o);if(25>s)return!0;if(r.textCoords){var l=5,u=i.textStyle.getFontSize(),c={left:r.textCoords.x,top:r.textCoords.y,width:r.textWidth+2*l,height:u+2*l},h=n.rect.distanceToPoint(c,o);return 25>h}}function u(e,n){var r=i.getToolState(e.currentTarget,f);if(void 0!==r){var o=n.canvasContext.canvas.getContext("2d");o.setTransform(1,0,0,1,0,0);for(var a,s=i.toolStyle.getToolWidth(),l=i.textStyle.getFont(),u=i.arrowAnnotate.getConfiguration(),c=0;c<r.data.length;c++){o.save(),u&&u.shadow&&(o.shadowColor=u.shadowColor||"#000000",o.shadowOffsetX=u.shadowOffsetX||1,o.shadowOffsetY=u.shadowOffsetY||1);var h=r.data[c];
a=h.active?i.toolColors.getActiveColor():i.toolColors.getToolColor();var d=t.pixelToCanvas(n.element,h.handles.start),p=t.pixelToCanvas(n.element,h.handles.end);if(u.arrowFirst?i.drawArrow(o,p,d,a,s):i.drawArrow(o,d,p,a,s),u.drawHandles?i.drawHandles(o,n,h.handles,a):u.drawHandlesOnHover&&h.handles.start.active?i.drawHandles(o,n,[h.handles.start],a):u.drawHandlesOnHover&&h.handles.end.active&&i.drawHandles(o,n,[h.handles.end],a),h.text&&""!==h.text){o.font=l;var m,g=13,v={x:g,y:g/2};m={x:p.x-d.x,y:p.y-d.y};var y,b=o.measureText(h.text).width;u.arrowFirst?(m.x<0&&(v.x=-v.x-b),y={x:m.x+d.x+v.x,y:m.y+d.y+v.y}):(m.x>0&&(v.x=-v.x-b),y={x:-m.x+p.x+v.x,y:-m.y+p.y+v.y}),h.textCoords=y,h.textWidth=b,i.drawTextBox(o,h.text,y.x,y.y,a)}o.restore()}}}function c(n){function r(e){null!==e?a.text=e:i.removeToolState(o,f,a),a.active=!1,t.updateImage(o)}var o=n.element,a=s(n);i.addToolState(o,f,a),e(o).off("CornerstoneToolsTouchStartActive",i.arrowAnnotateTouch.touchDownActivateCallback),e(o).off("CornerstoneToolsTap",i.arrowAnnotateTouch.tapCallback),t.updateImage(o),i.moveNewHandleTouch(n,f,a,a.handles.end,function(){t.updateImage(o),i.anyHandlesOutsideImage(n,a.handles)&&i.removeToolState(o,f,a);var s=i.arrowAnnotate.getConfiguration();void 0===a.text&&s.getTextCallback(r),e(o).on("CornerstoneToolsTouchStartActive",i.arrowAnnotateTouch.touchDownActivateCallback),e(o).on("CornerstoneToolsTap",i.arrowAnnotateTouch.tapCallback)})}function h(e,n){function r(e,n,r){r===!0?i.removeToolState(a,f,e):e.text=n,e.active=!1,t.updateImage(a)}var o,a=n.element;if(e.data&&e.data.mouseButtonMask&&!i.isMouseButtonEnabled(n.which,e.data.mouseButtonMask))return!1;var s=i.arrowAnnotate.getConfiguration(),u=n.currentPoints.canvas,c=i.getToolState(a,f);if(!c)return!1;for(var h=0;h<c.data.length;h++)if(o=c.data[h],l(a,o,u))return o.active=!0,t.updateImage(a),s.changeTextCallback(o,r),e.stopImmediatePropagation(),!1;return!1}function d(n,r){function o(n,r,o){o===!0?i.removeToolState(s,f,n):n.text=r,n.active=!1,t.updateImage(s),e(s).on("CornerstoneToolsTouchStart",i.arrowAnnotateTouch.touchStartCallback),e(s).on("CornerstoneToolsTouchStartActive",i.arrowAnnotateTouch.touchDownActivateCallback)}var a,s=r.element;if(n.data&&n.data.mouseButtonMask&&!i.isMouseButtonEnabled(r.which,n.data.mouseButtonMask))return!1;var u=i.arrowAnnotate.getConfiguration(),c=r.currentPoints.canvas,h=i.getToolState(s,f);if(!h)return!1;for(var d=0;d<h.data.length;d++)if(a=h.data[d],l(s,a,c))return a.active=!0,t.updateImage(s),e(s).off("CornerstoneToolsTouchStart",i.arrowAnnotateTouch.touchStartCallback),e(s).off("CornerstoneToolsTouchStartActive",i.arrowAnnotateTouch.touchDownActivateCallback),u.changeTextCallback(a,o),n.stopImmediatePropagation(),!1;return!1}var f="arrowAnnotate",p={getTextCallback:r,changeTextCallback:o,drawHandles:!1,drawHandlesOnHover:!0,arrowFirst:!0};i.arrowAnnotate=i.mouseButtonTool({addNewMeasurement:a,createNewMeasurement:s,onImageRendered:u,pointNearTool:l,toolType:f,mouseDoubleClickCallback:h}),i.arrowAnnotate.setConfiguration(p),i.arrowAnnotateTouch=i.touchTool({addNewMeasurement:c,createNewMeasurement:s,onImageRendered:u,pointNearTool:l,toolType:f,pressCallback:d})}($,cornerstone,cornerstoneMath,cornerstoneTools),function(e,t,n){"use strict";function i(i,r){i.stopImmediatePropagation();var o=n.getToolState(i.currentTarget,p);if(o){var a=i.currentTarget,s=t.getEnabledElement(a),l=s.image.imageId,u=n.metaData.get("imagePlane",l),c=r.currentPoints.image,h=n.imagePointToPatientPoint(c,u),d=o.data[0].synchronizationContext,f=d.getSourceElements();e.each(f,function(i,r){if(r!==a){var o=Number.MAX_VALUE,s=-1,l=n.getToolState(r,"stack");if(void 0!==l){var u=l.data[0];if(e.each(u.imageIds,function(e,t){var i=n.metaData.get("imagePlane",t),r=i.imagePositionPatient,a=i.rowCosines.clone(),l=i.columnCosines.clone(),u=l.clone().cross(a.clone()),c=Math.abs(u.clone().dot(r)-u.clone().dot(h));o>c&&(o=c,s=e)}),s!==u.currentImageIdIndex&&-1!==s&&void 0!==u.imageIds[s]){var c=n.loadHandlerManager.getStartLoadHandler(),d=n.loadHandlerManager.getEndLoadHandler(),f=n.loadHandlerManager.getErrorLoadingHandler();c&&c(r);var p;p=u.preventCache===!0?t.loadImage(u.imageIds[s]):t.loadAndCacheImage(u.imageIds[s]),p.then(function(e){var n=t.getViewport(r);u.currentImageIdIndex=s,t.displayImage(r,e,n),d&&d(r)},function(e){var t=u.imageIds[s];f&&f(r,t,e)})}}}})}}function r(t,n){e(n.element).off("CornerstoneToolsMouseDrag",a),e(n.element).off("CornerstoneToolsMouseUp",r)}function o(t,o){return n.isMouseButtonEnabled(o.which,t.data.mouseButtonMask)?(e(o.element).on("CornerstoneToolsMouseDrag",a),e(o.element).on("CornerstoneToolsMouseUp",r),i(t,o),!1):void 0}function a(e,t){return i(e,t),!1}function s(t,i,r){var a={mouseButtonMask:i},s=n.getToolState(t,p);s=[],n.addToolState(t,p,{synchronizationContext:r}),e(t).off("CornerstoneToolsMouseDown",o),e(t).on("CornerstoneToolsMouseDown",a,o)}function l(t){e(t).off("CornerstoneToolsMouseDown",o)}function u(t,n){e(n.element).off("CornerstoneToolsTouchDrag",h),e(n.element).off("CornerstoneToolsDragEnd",u)}function c(t,n){return e(n.element).on("CornerstoneToolsTouchDrag",h),e(n.element).on("CornerstoneToolsDragEnd",u),i(t,n),!1}function h(e,t){return i(e,t),!1}function d(t,i){var r=n.getToolState(t,p);r=[],n.addToolState(t,p,{synchronizationContext:i}),e(t).off("CornerstoneToolsTouchStart",c),e(t).on("CornerstoneToolsTouchStart",c)}function f(t){e(t).off("CornerstoneToolsTouchStart",c)}var p="crosshairs";n.crosshairs={activate:s,deactivate:l,enable:s,disable:l},n.crosshairsTouch={activate:d,deactivate:f,enable:d,disable:f}}($,cornerstone,cornerstoneTools),function(e,t,n){"use strict";function i(n){var i={},r={disable:function(t){e(t).off("CornerstoneImageRendered",n)},enable:function(i){e(i).off("CornerstoneImageRendered",n),e(i).on("CornerstoneImageRendered",n),t.updateImage(i)},getConfiguration:function(){return i},setConfiguration:function(e){i=e}};return r}n.displayTool=i}($,cornerstone,cornerstoneTools),function(e,t,n){"use strict";function i(e){var i=t.getEnabledElement(e.element);t.updateImage(e.element);var r=i.canvas.getContext("2d");r.setTransform(1,0,0,1,0,0);var o=n.toolColors.getActiveColor(),a=n.textStyle.getFont(),s=n.textStyle.getFontSize(),l=n.dragProbe.getConfiguration();r.save(),l&&l.shadow&&(r.shadowColor=l.shadowColor||"#000000",r.shadowOffsetX=l.shadowOffsetX||1,r.shadowOffsetY=l.shadowOffsetY||1);var u,c,h,d=Math.round(e.currentPoints.image.x),f=Math.round(e.currentPoints.image.y);if(!(0>d||0>f||d>=e.image.columns||f>=e.image.rows)){if(e.image.color)u=n.getRGBPixels(e.element,d,f,1,1),c=""+d+", "+f,h="R: "+u[0]+" G: "+u[1]+" B: "+u[2]+" A: "+u[3];else{u=t.getStoredPixels(e.element,d,f,1,1);var p=u[0],m=p*e.image.slope+e.image.intercept,g=n.calculateSUV(e.image,p);c=""+d+", "+f,h="SP: "+p+" MO: "+parseFloat(m.toFixed(3)),g&&(h+=" SUV: "+parseFloat(g.toFixed(3)))}var v={x:e.currentPoints.image.x+3,y:e.currentPoints.image.y-3},y=t.pixelToCanvas(e.element,v);r.font=a,r.fillStyle=o,n.drawTextBox(r,h,y.x,y.y+s+5,o),n.drawTextBox(r,c,y.x,y.y,o),r.restore()}}function r(e){var i=e.element,r=t.getEnabledElement(i),o=r.image;t.updateImage(i);var a=r.canvas.getContext("2d");a.setTransform(1,0,0,1,0,0);var s=n.toolColors.getActiveColor(),l=n.textStyle.getFont(),u=n.dragProbe.getConfiguration();a.save(),u&&u.shadow&&(a.shadowColor=u.shadowColor||"#000000",a.shadowOffsetX=u.shadowOffsetX||1,a.shadowOffsetY=u.shadowOffsetY||1);var c;c=e.isTouchEvent===!0?t.pageToPixel(i,e.currentPoints.page.x,e.currentPoints.page.y-4*n.textStyle.getFontSize()):e.currentPoints.image;var h,d;if(!(c.x<0||c.y<0||c.x>=o.columns||c.y>=o.rows)){if(o.color)h=t.getStoredPixels(i,c.x,c.y,3,1),d="R: "+h[0]+" G: "+h[1]+" B: "+h[2];else{h=t.getStoredPixels(i,c.x,c.y,1,1);var f=h[0]*o.slope+o.intercept;d=parseFloat(f.toFixed(3))}var p=t.pixelToCanvas(i,c);a.font=l,a.fillStyle=s;var m;if(e.isTouchEvent===!0){var g=a.measureText(d).width;m={x:-g/2-5,y:1.5*-n.textStyle.getFontSize()};var v=6;a.beginPath(),a.strokeStyle=s,a.arc(p.x,p.y,v,0,2*Math.PI),a.stroke()}else m={x:4,y:-4};n.drawTextBox(a,d,p.x+m.x,p.y+m.y,s),a.restore()}}function o(n,i){e(i.element).off("CornerstoneToolsMouseDrag",s),e(i.element).off("CornerstoneToolsMouseUp",o),e(i.element).off("CornerstoneToolsMouseClick",o),t.updateImage(i.element)}function a(t,i){return n.isMouseButtonEnabled(i.which,t.data.mouseButtonMask)?(e(i.element).on("CornerstoneToolsMouseDrag",s),e(i.element).on("CornerstoneToolsMouseUp",o),e(i.element).on("CornerstoneToolsMouseClick",o),n.dragProbe.strategy(i),!1):void 0}function s(e,t){return n.dragProbe.strategy(t),!1}n.dragProbe=n.simpleMouseButtonTool(a),n.dragProbe.strategies={"default":i,minimal:r},n.dragProbe.strategy=i;var l={fireOnTouchStart:!0};n.dragProbeTouch=n.touchDragTool(s,l)}($,cornerstone,cornerstoneTools),function(e,t,n,i){"use strict";function r(e){var t={visible:!0,active:!0,invalidated:!0,handles:{start:{x:e.currentPoints.image.x,y:e.currentPoints.image.y,highlight:!0,active:!1},end:{x:e.currentPoints.image.x,y:e.currentPoints.image.y,highlight:!0,active:!0}}};return t}function o(e,t){var n=e.width/2,i=e.height/2;if(0>=n||0>=i)return!1;var r={x:e.left+n,y:e.top+i},o={x:t.x-r.x,y:t.y-r.y},a=o.x*o.x/(n*n)+o.y*o.y/(i*i)<=1;return a}function a(e,t){for(var n=0,i=0,r=0,a=0,s=t.top;s<t.top+t.height;s++)for(var l=t.left;l<t.left+t.width;l++)o(t,{x:l,y:s})===!0&&(n+=e[a],i+=e[a]*e[a],r++),a++;if(0===r)return{count:r,mean:0,variance:0,stdDev:0};var u=n/r,c=i/r-u*u;return{count:r,mean:u,variance:c,stdDev:Math.sqrt(c)}}function s(e,n,i,r){var a=t.pixelToCanvas(e,n.handles.start),s=t.pixelToCanvas(e,n.handles.end),l={left:Math.min(a.x,s.x)+r/2,top:Math.min(a.y,s.y)+r/2,width:Math.abs(a.x-s.x)-r,height:Math.abs(a.y-s.y)-r},u={left:Math.min(a.x,s.x)-r/2,top:Math.min(a.y,s.y)-r/2,width:Math.abs(a.x-s.x)+r,height:Math.abs(a.y-s.y)+r},c=o(l,i),h=o(u,i);return!(!h||c)}function l(e,t,n){return s(e,t,n,15)}function u(e,t,n){return s(e,t,n,25)}function c(e,n){var r=i.getToolState(e.currentTarget,h);if(void 0!==r){var o=n.canvasContext.canvas.getContext("2d");o.setTransform(1,0,0,1,0,0);for(var s,l=i.toolStyle.getToolWidth(),u=i.textStyle.getFont(),c=i.textStyle.getFontSize(),d=i.ellipticalRoi.getConfiguration(),f=0;f<r.data.length;f++){o.save(),d&&d.shadow&&(o.shadowColor=d.shadowColor||"#000000",o.shadowOffsetX=d.shadowOffsetX||1,o.shadowOffsetY=d.shadowOffsetY||1);var p=r.data[f];s=p.active?i.toolColors.getActiveColor():i.toolColors.getToolColor();var m=t.pixelToCanvas(n.element,p.handles.start),g=t.pixelToCanvas(n.element,p.handles.end),v=Math.abs(m.x-g.x),y=Math.abs(m.y-g.y),b=Math.min(m.x,g.x),w=Math.min(m.y,g.y),x=(m.x+g.x)/2,$=(m.y+g.y)/2;o.beginPath(),o.strokeStyle=s,o.lineWidth=l,i.drawEllipse(o,b,w,v,y),o.closePath(),i.drawHandles(o,n,p.handles,s),o.font=u;var C,T,_,k;if(p.invalidated){var S=Math.abs(p.handles.start.x-p.handles.end.x),M=Math.abs(p.handles.start.y-p.handles.end.y),D=Math.min(p.handles.start.x,p.handles.end.x),I=Math.min(p.handles.start.y,p.handles.end.y),E=t.getPixels(n.element,D,I,S,M),P={left:D,top:I,width:S,height:M};k=a(E,P),_=Math.PI*(S*n.image.columnPixelSpacing/2)*(M*n.image.rowPixelSpacing/2),p.invalidated=!1,isNaN(_)||(p.area=_),isNaN(k.mean)||isNaN(k.stdDev)||(p.meanStdDev=k)}else C=p.textX,T=p.textY,k=p.meanStdDev,_=p.area;var A,O=0;void 0!==_&&(A="Area: "+_.toFixed(2)+" mm"+String.fromCharCode(178),O=o.measureText(A).width);var N="Mean: "+k.mean.toFixed(2),R=o.measureText(N).width,H="StdDev: "+k.stdDev.toFixed(2),z=o.measureText(H).width,F=Math.max(R,O,z);C=x<n.image.columns/2?x+v/2+F:x-v/2-F-15,T=$<n.image.rows/2?$+y/2:$-y/2,o.fillStyle=s,k&&(i.drawTextBox(o,N,C,T-c-5,s),i.drawTextBox(o,H,C,T,s)),void 0===_||isNaN(_)||i.drawTextBox(o,A,C,T+c+5,s),o.restore()}}}var h="ellipticalRoi";i.ellipticalRoi=i.mouseButtonTool({createNewMeasurement:r,onImageRendered:c,pointNearTool:l,toolType:h}),i.ellipticalRoiTouch=i.touchTool({createNewMeasurement:r,onImageRendered:c,pointNearTool:u,toolType:h})}($,cornerstone,cornerstoneMath,cornerstoneTools),function(e,t,n,i){"use strict";function r(e){var n=i.getToolState(e.element,b);if(void 0!==n){var r=i.freehand.getConfiguration(),o=n.data[r.currentTool],a={x:e.currentPoints.image.x,y:e.currentPoints.image.y,highlight:!0,active:!0,lines:[]};o.handles.length&&o.handles[r.currentHandle-1].lines.push(e.currentPoints.image),o.handles.push(a),r.currentHandle+=1,r.freehand=!1,t.updateImage(e.element)}}function o(e,r){var o=i.getToolState(e.element,b);if(void 0!==o){var a=o.data[r];if(void 0!==a.handles)for(var s=e.currentPoints.canvas,l=0;l<a.handles.length;l++){var u=t.pixelToCanvas(e.element,a.handles[l]);if(n.point.distance(u,s)<5)return l}}}function a(e){var t=i.getToolState(e.element,b);if(t)for(var n,r=0;r<t.data.length;r++)if(n=o(e,r),void 0!==n)return{handleNearby:n,toolIndex:r}}function s(n,r){e(r.element).off("CornerstoneToolsMouseUp",s);var o=i.getToolState(r.element,b);if(void 0!==o){var a=i.freehand.getConfiguration();r.event.shiftKey||(a.freehand=!1),t.updateImage(r.element)}}function l(e,n){var r=i.getToolState(n.element,b);if(r){var a=i.freehand.getConfiguration(),s=r.data[a.currentTool],l=Math.max(n.currentPoints.image.x,0);l=Math.min(l,n.image.width),a.mouseLocation.handles.start.x=l;var u=Math.max(n.currentPoints.image.y,0);u=Math.min(u,n.image.height),a.mouseLocation.handles.start.y=u;var c=a.currentHandle;if(a.modifying&&(s.active=!0,s.highlight=!0,s.handles[c].x=a.mouseLocation.handles.start.x,s.handles[c].y=a.mouseLocation.handles.start.y,c)){var h=s.handles[c-1].lines.length-1,d=s.handles[c-1].lines[h];d.x=a.mouseLocation.handles.start.x,d.y=a.mouseLocation.handles.start.y}if(a.freehand)s.handles[c-1].lines.push(n.currentPoints.image);else{var f=o(n,a.currentTool);void 0!==f&&f<s.handles.length-1&&(a.mouseLocation.handles.start.x=s.handles[f].x,a.mouseLocation.handles.start.y=s.handles[f].y)}t.updateImage(n.element)}}function u(t){e(t.element).on("CornerstoneToolsMouseMove",l),e(t.element).on("CornerstoneToolsMouseUp",s);var n={visible:!0,active:!0,handles:[]},r=i.freehand.getConfiguration();r.mouseLocation.handles.start.x=t.currentPoints.image.x,r.mouseLocation.handles.start.y=t.currentPoints.image.y,i.addToolState(t.element,b,n);var o=i.getToolState(t.element,b);r.currentTool=o.data.length-1}function c(n,r){var o=i.getToolState(n.element,b);if(o){var a=i.freehand.getConfiguration(),s=o.data[a.currentTool];s.active=!1,s.highlight=!1,void 0!==r&&s.handles[a.currentHandle-1].lines.push(s.handles[r]),a.modifying&&(a.modifying=!1),a.currentHandle=0,a.currentTool=-1,e(n.element).off("CornerstoneToolsMouseMove",l),t.updateImage(n.element)}}function h(t,n){if(i.isMouseButtonEnabled(n.which,t.data.mouseButtonMask)){var h,d,f=i.getToolState(n.element,b),p=i.freehand.getConfiguration(),m=p.currentTool;if(p.modifying)return void c(n);if(0>m){var g=a(n);g?(h=g.handleNearby,d=g.toolIndex,void 0!==h&&(e(n.element).on("CornerstoneToolsMouseMove",l),e(n.element).on("CornerstoneToolsMouseUp",s),p.modifying=!0,p.currentHandle=h,p.currentTool=d)):(u(n),r(n))}else m>=0&&f.data[m].active&&(h=o(n,m),void 0!==h?c(n,h):n.event.shiftKey?p.freehand=!0:r(n));return!1}}function d(e,n){var r=i.getToolState(e.currentTarget,b);if(void 0!==r){var o=i.freehand.getConfiguration(),a=n.canvasContext.canvas.getContext("2d");a.setTransform(1,0,0,1,0,0);for(var s,l=i.toolStyle.getToolWidth(),u=i.toolColors.getFillColor(),c=0;c<r.data.length;c++){a.save();var h=r.data[c];h.active?(s=i.toolColors.getActiveColor(),u=i.toolColors.getFillColor()):(s=i.toolColors.getToolColor(),u=i.toolColors.getToolColor());var d;if(h.handles.length)for(var f=0;f<h.handles.length;f++){d=h.handles[f];var p=t.pixelToCanvas(n.element,d);a.beginPath(),a.strokeStyle=s,a.lineWidth=l,a.moveTo(p.x,p.y);for(var m=0;m<h.handles[f].lines.length;m++){var g=t.pixelToCanvas(n.element,h.handles[f].lines[m]);a.lineTo(g.x,g.y),a.stroke()}var v=t.pixelToCanvas(n.element,o.mouseLocation.handles.start);f===h.handles.length-1&&(!h.active||o.freehand||o.modifying||(a.lineTo(v.x,v.y),a.stroke()))}h.active&&i.drawHandles(a,n,o.mouseLocation.handles,s,u),i.drawHandles(a,n,h.handles,s,u),a.restore()}}}function f(n){e(n).off("CornerstoneToolsMouseDown",h),e(n).off("CornerstoneToolsMouseUp",s),e(n).off("CornerstoneToolsMouseMove",l),e(n).off("CornerstoneImageRendered",d),e(n).on("CornerstoneImageRendered",d),t.updateImage(n)}function p(n){e(n).off("CornerstoneToolsMouseDown",h),e(n).off("CornerstoneToolsMouseUp",s),e(n).off("CornerstoneToolsMouseMove",l),e(n).off("CornerstoneImageRendered",d),t.updateImage(n)}function m(n,i){var r={mouseButtonMask:i};e(n).off("CornerstoneToolsMouseDown",r,h),e(n).off("CornerstoneToolsMouseUp",s),e(n).off("CornerstoneToolsMouseMove",l),e(n).off("CornerstoneImageRendered",d),e(n).on("CornerstoneImageRendered",d),e(n).on("CornerstoneToolsMouseDown",r,h),t.updateImage(n)}function g(n){e(n).off("CornerstoneToolsMouseDown",h),e(n).off("CornerstoneToolsMouseUp",s),e(n).off("CornerstoneToolsMouseMove",l),e(n).off("CornerstoneImageRendered",d),e(n).on("CornerstoneImageRendered",d),t.updateImage(n)}function v(){return w}function y(e){w=e}var b="freehand",w={mouseLocation:{handles:{start:{highlight:!0,active:!0}}},freehand:!1,modifying:!1,currentHandle:0,currentTool:-1};i.freehand={enable:f,disable:p,activate:m,deactivate:g,getConfiguration:v,setConfiguration:y}}($,cornerstone,cornerstoneMath,cornerstoneTools),function(e,t,n,i){"use strict";function r(e){var t=i.getToolState(e.event.currentTarget,l);if(!(t&&t.data&&t.data.length>0)){var n={visible:!0,active:!0,handles:{start:{x:e.currentPoints.image.x,y:e.currentPoints.image.y,highlight:!0,active:!1},end:{x:e.currentPoints.image.x,y:e.currentPoints.image.y,highlight:!0,active:!0}}};return n}}function o(e,n,i){var r=t.pixelToCanvas(e,n.handles.start),o=t.pixelToCanvas(e,n.handles.end),a={left:Math.min(r.x,o.x),top:Math.min(r.y,o.y),width:Math.abs(r.x-o.x),height:Math.abs(r.y-o.y)},s=!1;return i.x>=a.left&&i.x<=a.left+a.width&&i.y>=a.top&&i.y<=a.top+a.height&&(s=!0),s}function a(e,i,r){var o=t.pixelToCanvas(e,i.handles.start),a=t.pixelToCanvas(e,i.handles.end),s={left:Math.min(o.x,a.x),top:Math.min(o.y,a.y),width:Math.abs(o.x-a.x),height:Math.abs(o.y-a.y)},l=n.rect.distanceToPoint(s,r);return 5>l}function s(e,n){var r=i.getToolState(e.currentTarget,l);if(void 0!==r){var o=n.canvasContext.canvas.getContext("2d");o.setTransform(1,0,0,1,0,0);var a,s=i.toolStyle.getToolWidth();o.save();var u=r.data[0];if(u){a=u.active?i.toolColors.getActiveColor():i.toolColors.getToolColor();var c=t.pixelToCanvas(n.element,u.handles.start),h=t.pixelToCanvas(n.element,u.handles.end),d={left:Math.min(c.x,h.x),top:Math.min(c.y,h.y),width:Math.abs(c.x-h.x),height:Math.abs(c.y-h.y)};o.beginPath(),o.strokeStyle="transparent",o.rect(0,0,o.canvas.clientWidth,o.canvas.clientHeight),o.rect(d.width+d.left,d.top,-d.width,d.height),o.stroke(),o.fillStyle="rgba(0,0,0,0.7)",o.fill(),o.closePath(),o.beginPath(),o.strokeStyle=a,o.lineWidth=s,o.setLineDash([4]),o.strokeRect(d.left,d.top,d.width,d.height),o.setLineDash([]),i.drawHandles(o,n,u.handles,a),o.restore()}}}var l="highlight",u=!0;i.highlight=i.mouseButtonRectangleTool({createNewMeasurement:r,onImageRendered:s,pointNearTool:a,pointInsideRect:o,toolType:l},u),i.highlightTouch=i.touchTool({createNewMeasurement:r,onImageRendered:s,pointNearTool:a,pointInsideRect:o,toolType:l},u)}($,cornerstone,cornerstoneMath,cornerstoneTools),function(e,t,n){"use strict";function i(t){var n={},i={activate:function(n){e(n).off("CornerstoneToolsKeyDown",t),e(n).on("CornerstoneToolsKeyDown",t)},disable:function(n){e(n).off("CornerstoneToolsKeyDown",t)},enable:function(n){e(n).off("CornerstoneToolsKeyDown",t)},deactivate:function(n){e(n).off("CornerstoneToolsKeyDown",t)},getConfiguration:function(){return n},setConfiguration:function(e){n=e}};return i}n.keyboardTool=i}($,cornerstone,cornerstoneTools),function(e,t,n,i){"use strict";function r(e){var t={visible:!0,active:!0,handles:{start:{x:e.currentPoints.image.x,y:e.currentPoints.image.y,highlight:!0,active:!1},end:{x:e.currentPoints.image.x,y:e.currentPoints.image.y,highlight:!0,active:!0}}};return t}function o(e,i,r){var o={start:t.pixelToCanvas(e,i.handles.start),end:t.pixelToCanvas(e,i.handles.end)},a=n.lineSegment.distanceToPoint(o,r);return 25>a}function a(e,n){var r=i.getToolState(e.currentTarget,s);if(r){var o=n.canvasContext.canvas.getContext("2d");o.setTransform(1,0,0,1,0,0);for(var a=i.toolStyle.getToolWidth(),l=i.length.getConfiguration(),u=0;u<r.data.length;u++){o.save(),l&&l.shadow&&(o.shadowColor=l.shadowColor||"#000000",o.shadowOffsetX=l.shadowOffsetX||1,o.shadowOffsetY=l.shadowOffsetY||1);var c=r.data[u],h=i.toolColors.getColorIfActive(c.active),d=t.pixelToCanvas(n.element,c.handles.start),f=t.pixelToCanvas(n.element,c.handles.end);o.beginPath(),o.strokeStyle=h,o.lineWidth=a,o.moveTo(d.x,d.y),o.lineTo(f.x,f.y),o.stroke(),i.drawHandles(o,n,c.handles,h),o.fillStyle=h;var p=(c.handles.end.x-c.handles.start.x)*(n.image.columnPixelSpacing||1),m=(c.handles.end.y-c.handles.start.y)*(n.image.rowPixelSpacing||1),g=Math.sqrt(p*p+m*m),v=" mm";n.image.rowPixelSpacing&&n.image.columnPixelSpacing||(v=" pixels");var y=""+g.toFixed(2)+v,b=i.textStyle.getFontSize(),w={x:Math.max(d.x,f.x)};w.x===d.x?w.y=d.y:w.y=f.y,w.x+=10,w.y-=b/2+7,i.drawTextBox(o,y,w.x,w.y,h),o.restore()}}}var s="length";i.length=i.mouseButtonTool({createNewMeasurement:r,onImageRendered:a,pointNearTool:o,toolType:s}),i.lengthTouch=i.touchTool({createNewMeasurement:r,onImageRendered:a,pointNearTool:o,toolType:s})}($,cornerstone,cornerstoneMath,cornerstoneTools),function(e,t,n){"use strict";function i(t,n){e(n.element).off("CornerstoneToolsMouseDrag",s),e(n.element).off("CornerstoneToolsMouseUp",i),r(n)}function r(t){e(t.element).find(".magnifyTool").hide(),document.body.style.cursor="default"}function o(t,r){return n.isMouseButtonEnabled(r.which,t.data.mouseButtonMask)?(e(r.element).on("CornerstoneToolsMouseDrag",r,s),e(r.element).on("CornerstoneToolsMouseUp",r,i),l(r),!1):void 0}function a(t,n){e(n.element).off("CornerstoneToolsDragEnd",a),e(n.element).off("CornerstoneToolsTouchEnd",a),r(n)}function s(t,n){return l(n),n.isTouchEvent===!0&&(e(n.element).on("CornerstoneToolsDragEnd",a),e(n.element).on("CornerstoneToolsTouchEnd",a)),!1}function l(i){var r=e(i.element).find(".magnifyTool").get(0);r||u(i.element);var o=n.magnify.getConfiguration(),a=o.magnifySize,s=o.magnificationLevel,l=e(i.element).find("canvas").not(".magnifyTool").get(0),c=l.getContext("2d");c.setTransform(1,0,0,1,0,0);var h=r.getContext("2d");h.setTransform(1,0,0,1,0,0);var d=a/s,f=t.pixelToCanvas(i.element,i.currentPoints.image);i.isTouchEvent===!0&&(f.y-=1.25*d),f.x=Math.max(f.x,0),f.x=Math.min(f.x,l.width),f.y=Math.max(f.y,0),f.y=Math.min(f.y,l.height),h.clearRect(0,0,a,a),h.fillStyle="transparent",h.fillRect(0,0,a,a);var p={x:f.x-.5*d,y:f.y-.5*d};"Safari"===g&&(p.x=Math.max(p.x,0),p.y=Math.max(p.y,0)),p.x=Math.min(p.x,l.width),p.y=Math.min(p.y,l.height);var m={x:(l.width-p.x)*s,y:(l.height-p.y)*s};h.drawImage(l,p.x,p.y,l.width-p.x,l.height-p.y,0,0,m.x,m.y),r.style.top=f.y-.5*a+"px",r.style.left=f.x-.5*a+"px",r.style.display="block",document.body.style.cursor="none"}function u(t){if(0===e(t).find(".magnifyTool").length){var i=document.createElement("canvas");i.classList.add("magnifyTool");var r=n.magnify.getConfiguration();i.width=r.magnifySize,i.height=r.magnifySize,i.style.position="absolute",t.appendChild(i)}}function c(t){e(t).find(".magnifyTool").remove()}function h(t){e(t).off("CornerstoneToolsMouseDown",o),c(t)}function d(e){var t=n.magnify.getConfiguration(t);if(!g){var i=n.getBrowserInfo(),r=i.split(" ");g=r[0]}u(e)}function f(t,n){var i={mouseButtonMask:n};e(t).off("CornerstoneToolsMouseDown",o),e(t).on("CornerstoneToolsMouseDown",i,o),u(t)}function p(){return v}function m(e){v=e}var g,v={magnifySize:100,magnificationLevel:2};n.magnify={enable:d,activate:f,deactivate:h,disable:h,getConfiguration:p,setConfiguration:m};var y={fireOnTouchStart:!0,activateCallback:u,disableCallback:c};n.magnifyTouchDrag=n.touchDragTool(s,y)}($,cornerstone,cornerstoneTools),function(e,t,n){"use strict";function i(t){var n={},i="CornerstoneToolsMultiTouchDrag",r={activate:function(n){e(n).off(i,t),e(n).on(i,t)},disable:function(n){e(n).off(i,t)},enable:function(n){e(n).off(i,t)},deactivate:function(n){e(n).off(i,t)},getConfiguration:function(){return n},setConfiguration:function(e){n=e}};return r}n.multiTouchDragTool=i}($,cornerstone,cornerstoneTools),function(e,t,n){"use strict";function i(e){var i=t.getEnabledElement(e),r=n.metaData.get("imagePlane",i.image.imageId);if(r&&r.rowCosines&&r.columnCosines){var o=n.orientation.getOrientationString(r.rowCosines),a=n.orientation.getOrientationString(r.columnCosines),s=n.orientation.invertOrientationString(o),l=n.orientation.invertOrientationString(a);return{top:l,bottom:a,left:s,right:o}}}function r(e){var n,i=t.getEnabledElement(e);n={x:i.image.width/2,y:5};var r=t.pixelToCanvas(e,n);n={x:i.image.width/2,y:i.image.height-5};var o=t.pixelToCanvas(e,n);n={x:5,y:i.image.height/2};var a=t.pixelToCanvas(e,n);n={x:i.image.width-10,y:i.image.height/2};var s=t.pixelToCanvas(e,n);return{top:r,bottom:o,left:a,right:s}}function o(e,t){var o=t.element,a=i(o);if(a){var s=r(o,a),l=t.canvasContext.canvas.getContext("2d");l.setTransform(1,0,0,1,0,0);var u=n.toolColors.getToolColor(),c={top:l.measureText(a.top).width,left:l.measureText(a.left).width,right:l.measureText(a.right).width,bottom:l.measureText(a.bottom).width};n.drawTextBox(l,a.top,s.top.x-c.top/2,s.top.y,u),n.drawTextBox(l,a.left,s.left.x-c.left/2,s.left.y,u);var h=n.orientationMarkers.getConfiguration();h&&h.drawAllMarkers&&(n.drawTextBox(l,a.right,s.right.x-c.right/2,s.right.y,u),n.drawTextBox(l,a.bottom,s.bottom.x-c.bottom/2,s.bottom.y,u))}}n.orientationMarkers=n.displayTool(o)}($,cornerstone,cornerstoneTools),function(e,t,n){"use strict";function i(t,n){e(n.element).off("CornerstoneToolsMouseDrag",o),e(n.element).off("CornerstoneToolsMouseUp",i),e(n.element).off("CornerstoneToolsMouseClick",i)}function r(t,r){return n.isMouseButtonEnabled(r.which,t.data.mouseButtonMask)?(e(r.element).on("CornerstoneToolsMouseDrag",o),e(r.element).on("CornerstoneToolsMouseUp",i),e(r.element).on("CornerstoneToolsMouseClick",i),!1):void 0}function o(e,n){return n.viewport.translation.x+=n.deltaPoints.page.x/n.viewport.scale,n.viewport.translation.y+=n.deltaPoints.page.y/n.viewport.scale,t.setViewport(n.element,n.viewport),!1}n.pan=n.simpleMouseButtonTool(r),n.panTouchDrag=n.touchDragTool(o)}($,cornerstone,cornerstoneTools),function(e,t,n){"use strict";function i(e,i){var r=n.panMultiTouch.getConfiguration();return r&&r.testPointers(i)?(i.viewport.translation.x+=i.deltaPoints.page.x/i.viewport.scale,i.viewport.translation.y+=i.deltaPoints.page.y/i.viewport.scale,t.setViewport(i.element,i.viewport),!1):void 0}var r={testPointers:function(e){return e.numPointers>=2}};n.panMultiTouch=n.multiTouchDragTool(i),n.panMultiTouch.setConfiguration(r)}($,cornerstone,cornerstoneTools),function(e,t,n){"use strict";function i(e){var t={visible:!0,active:!0,handles:{end:{x:e.currentPoints.image.x,y:e.currentPoints.image.y,highlight:!0,active:!0}}};return t}function r(e,n,i){var r=t.pixelToCanvas(e,n.handles.end);return cornerstoneMath.point.distance(r,i)<5}function o(e,i){var r=n.getToolState(e.currentTarget,a);if(r){var o=i.canvasContext.canvas.getContext("2d");o.setTransform(1,0,0,1,0,0);for(var s,l=n.textStyle.getFont(),u=n.textStyle.getFontSize(),c=0;c<r.data.length;c++){o.save();var h=r.data[c];s=h.active?n.toolColors.getActiveColor():n.toolColors.getToolColor(),n.drawHandles(o,i,h.handles,s);var d,f,p,m=Math.round(h.handles.end.x),g=Math.round(h.handles.end.y);if(0>m||0>g||m>=i.image.columns||g>=i.image.rows)return;if(i.image.color)f=""+m+", "+g,d=n.getRGBPixels(i.element,m,g,1,1),p="R: "+d[0]+" G: "+d[1]+" B: "+d[2];else{d=t.getStoredPixels(i.element,m,g,1,1);var v=d[0],y=v*i.image.slope+i.image.intercept,b=n.calculateSUV(i.image,v);f=""+m+", "+g,p="SP: "+v+" MO: "+parseFloat(y.toFixed(3)),b&&(p+=" SUV: "+parseFloat(b.toFixed(3)))}var w={x:h.handles.end.x+3,y:h.handles.end.y-3},x=t.pixelToCanvas(i.element,w);o.font=l,o.fillStyle=s,n.drawTextBox(o,p,x.x,x.y+u+5,s),n.drawTextBox(o,f,x.x,x.y,s),o.restore()}}}var a="probe";n.probe=n.mouseButtonTool({createNewMeasurement:i,onImageRendered:o,pointNearTool:r,toolType:a}),n.probeTouch=n.touchTool({createNewMeasurement:i,onImageRendered:o,pointNearTool:r,toolType:a})}($,cornerstone,cornerstoneTools),function(e,t,n,i){"use strict";function r(e){var t={visible:!0,active:!0,handles:{start:{x:e.currentPoints.image.x,y:e.currentPoints.image.y,highlight:!0,active:!1},end:{x:e.currentPoints.image.x,y:e.currentPoints.image.y,highlight:!0,active:!0}}};return t}function o(e,i,r){var o=t.pixelToCanvas(e,i.handles.start),a=t.pixelToCanvas(e,i.handles.end),s={left:Math.min(o.x,a.x),top:Math.min(o.y,a.y),width:Math.abs(o.x-a.x),height:Math.abs(o.y-a.y)},l=n.rect.distanceToPoint(s,r);return 5>l}function a(e,t){for(var n=0,i=0,r=0,o=0,a=t.top;a<t.top+t.height;a++)for(var s=t.left;s<t.left+t.width;s++)n+=e[o],i+=e[o]*e[o],r++,o++;if(0===r)return{count:r,mean:0,variance:0,stdDev:0};var l=n/r,u=i/r-l*l;return{count:r,mean:l,variance:u,stdDev:Math.sqrt(u)}}function s(e,n){var r=i.getToolState(e.currentTarget,l);if(void 0!==r){var o=n.canvasContext.canvas.getContext("2d");o.setTransform(1,0,0,1,0,0);for(var s,u=i.toolStyle.getToolWidth(),c=i.textStyle.getFont(),h=i.textStyle.getFontSize(),d=0;d<r.data.length;d++){o.save();var f=r.data[d];s=f.active?i.toolColors.getActiveColor():i.toolColors.getToolColor();var p=t.pixelToCanvas(n.element,f.handles.start),m=t.pixelToCanvas(n.element,f.handles.end),g=Math.abs(p.x-m.x),v=Math.abs(p.y-m.y),y=Math.min(p.x,m.x),b=Math.min(p.y,m.y),w=(p.x+m.x)/2,x=(p.y+m.y)/2;o.beginPath(),o.strokeStyle=s,o.lineWidth=u,o.rect(y,b,g,v),o.stroke(),i.drawHandles(o,n,f.handles,s);var $=Math.abs(f.handles.start.x-f.handles.end.x),C=Math.abs(f.handles.start.y-f.handles.end.y),T=Math.min(f.handles.start.x,f.handles.end.x),_=Math.min(f.handles.start.y,f.handles.end.y),k=t.getPixels(n.element,T,_,$,C),S={left:T,top:_,width:$,height:C},M=a(k,S),D=$*n.image.columnPixelSpacing*(C*n.image.rowPixelSpacing),I="Area: "+D.toFixed(2)+" mm^2";o.font=c;var E=o.measureText(D),P=w<n.image.columns/2?w+g/2:w-g/2-E.width,A=x<n.image.rows/2?x+v/2:x-v/2;o.fillStyle=s,i.drawTextBox(o,"Mean: "+M.mean.toFixed(2),P,A-h-5,s),i.drawTextBox(o,"StdDev: "+M.stdDev.toFixed(2),P,A,s),i.drawTextBox(o,I,P,A+h+5,s),o.restore()}}}var l="rectangleRoi";i.rectangleRoi=i.mouseButtonTool({createNewMeasurement:r,onImageRendered:s,pointNearTool:o,toolType:l}),i.rectangleRoiTouch=i.touchTool({createNewMeasurement:r,onImageRendered:s,pointNearTool:o,toolType:l})}($,cornerstone,cornerstoneMath,cornerstoneTools),function(e,t,n){"use strict";function i(e){var n=e.element.getBoundingClientRect(e.element),i={x:e.currentPoints.client.x,y:e.currentPoints.client.y},r=e.element.clientWidth,o=e.element.clientHeight,a={x:i.x-n.left-r/2,y:-1*(i.y-n.top-o/2)},s=Math.atan2(a.y,a.x),l=s*(180/Math.PI),u=-1*l+90;e.viewport.rotation=u,t.setViewport(e.element,e.viewport)}function r(e){e.viewport.rotation+=e.deltaPoints.page.x/e.viewport.scale,t.setViewport(e.element,e.viewport)}function o(e){e.viewport.rotation+=e.deltaPoints.page.y/e.viewport.scale,t.setViewport(e.element,e.viewport)}function a(t,n){e(n.element).off("CornerstoneToolsMouseDrag",l),e(n.element).off("CornerstoneToolsMouseUp",a),e(n.element).off("CornerstoneToolsMouseClick",a)}function s(t,i){return n.isMouseButtonEnabled(i.which,t.data.mouseButtonMask)?(e(i.element).on("CornerstoneToolsMouseDrag",l),e(i.element).on("CornerstoneToolsMouseUp",a),e(i.element).on("CornerstoneToolsMouseClick",a),!1):void 0}function l(e,i){return n.rotate.strategy(i),t.setViewport(i.element,i.viewport),!1}n.rotate=n.simpleMouseButtonTool(s),n.rotate.strategies={"default":i,horizontal:r,vertical:o},n.rotate.strategy=i,
n.rotateTouchDrag=n.touchDragTool(l)}($,cornerstone,cornerstoneTools),function(e,t,n){"use strict";function i(e,n){return n.viewport.rotation+=n.rotation,t.setViewport(n.element,n.viewport),!1}function r(t){e(t).off("CornerstoneToolsTouchRotate",i)}function o(t){e(t).off("CornerstoneToolsTouchRotate",i),e(t).on("CornerstoneToolsTouchRotate",i)}n.rotateTouch={activate:o,disable:r}}($,cornerstone,cornerstoneTools),function(e,t,n){"use strict";function i(t,n){var i=e(t).find("canvas").get(0),r=document.createElement("a");if(r.download=n,r.href=i.toDataURL(),document.createEvent){var o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent(o)}else r.fireEvent&&r.fireEvent("onclick")}n.saveAs=i}($,cornerstone,cornerstoneTools),function(e,t,n,i){"use strict";function r(e){var t={visible:!0,active:!0,handles:{start:{x:e.currentPoints.image.x,y:e.currentPoints.image.y,highlight:!0,active:!1},middle:{x:e.currentPoints.image.x,y:e.currentPoints.image.y,highlight:!0,active:!0},end:{x:e.currentPoints.image.x,y:e.currentPoints.image.y,highlight:!0,active:!1}}};return t}function o(e,i,r){var o={start:t.pixelToCanvas(e,i.handles.start),end:t.pixelToCanvas(e,i.handles.middle)},a=n.lineSegment.distanceToPoint(o,r);return 25>a?!0:(o.start=t.pixelToCanvas(e,i.handles.middle),o.end=t.pixelToCanvas(e,i.handles.end),a=n.lineSegment.distanceToPoint(o,r),25>a)}function a(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))}function s(e,n){var r=i.getToolState(e.currentTarget,c);if(void 0!==r){var o=n.canvasContext.canvas.getContext("2d");o.setTransform(1,0,0,1,0,0);for(var s,l=i.toolStyle.getToolWidth(),u=i.textStyle.getFont(),h=i.simpleAngle.getConfiguration(),d=0;d<r.data.length;d++){o.save(),h&&h.shadow&&(o.shadowColor=h.shadowColor||"#000000",o.shadowOffsetX=h.shadowOffsetX||1,o.shadowOffsetY=h.shadowOffsetY||1);var f=r.data[d];s=f.active?i.toolColors.getActiveColor():i.toolColors.getToolColor(),o.beginPath(),o.strokeStyle=s,o.lineWidth=l;var p=t.pixelToCanvas(n.element,f.handles.start),m=t.pixelToCanvas(n.element,f.handles.middle);o.moveTo(p.x,p.y),o.lineTo(m.x,m.y);var g=t.pixelToCanvas(n.element,f.handles.end);o.lineTo(g.x,g.y),o.stroke(),i.drawHandles(o,n,f.handles,s),o.fillStyle=s;var v=n.image.columnPixelSpacing||1,y=n.image.rowPixelSpacing||1,b="";n.image.rowPixelSpacing&&n.image.columnPixelSpacing||(b=" (isotropic)");var w={x:(Math.ceil(f.handles.middle.x)-Math.ceil(f.handles.start.x))*v,y:(Math.ceil(f.handles.middle.y)-Math.ceil(f.handles.start.y))*y},x={x:(Math.ceil(f.handles.end.x)-Math.ceil(f.handles.middle.x))*v,y:(Math.ceil(f.handles.end.y)-Math.ceil(f.handles.middle.y))*y},$={x:(Math.ceil(f.handles.end.x)-Math.ceil(f.handles.start.x))*v,y:(Math.ceil(f.handles.end.y)-Math.ceil(f.handles.start.y))*y},C=a(w),T=a(x),_=a($),k=Math.acos((Math.pow(C,2)+Math.pow(T,2)-Math.pow(_,2))/(2*C*T));k*=180/Math.PI;var S=i.roundToDecimal(k,2);if(S){var M="00B0",D=S.toString()+String.fromCharCode(parseInt(M,16))+b,I=15,E=m.x+I,P=m.y+I;o.font=u;var A=o.measureText(D).width;E=m.x-p.x<0?m.x-I-A-10:m.x+I,P=m.y,i.drawTextBox(o,D,E,P,s)}o.restore()}}}function l(n){var o=r(n),a=n.element,s={mouseButtonMask:n.which};i.addToolState(a,c,o),e(a).off("CornerstoneToolsMouseMove",i.simpleAngle.mouseMoveCallback),e(a).off("CornerstoneToolsMouseDrag",i.simpleAngle.mouseMoveCallback),e(a).off("CornerstoneToolsMouseDown",i.simpleAngle.mouseDownCallback),e(a).off("CornerstoneToolsMouseDownActivate",i.simpleAngle.mouseDownActivateCallback),t.updateImage(a),i.moveNewHandle(n,c,o,o.handles.middle,function(){o.active=!1,i.anyHandlesOutsideImage(n,o.handles)&&i.removeToolState(a,c,o),o.handles.end.active=!0,t.updateImage(a),i.moveNewHandle(n,c,o,o.handles.end,function(){o.active=!1,i.anyHandlesOutsideImage(n,o.handles)&&i.removeToolState(a,c,o),e(a).on("CornerstoneToolsMouseMove",i.simpleAngle.mouseMoveCallback),e(a).on("CornerstoneToolsMouseDrag",i.simpleAngle.mouseMoveCallback),e(a).on("CornerstoneToolsMouseDown",s,i.simpleAngle.mouseDownCallback),e(a).on("CornerstoneToolsMouseDownActivate",s,i.simpleAngle.mouseDownActivateCallback),t.updateImage(a)})})}function u(n){var o=r(n),a=n.element;i.addToolState(a,c,o),e(a).off("CornerstoneToolsTouchDrag",i.simpleAngleTouch.touchMoveCallback),e(a).off("CornerstoneToolsTouchStartActive",i.simpleAngleTouch.touchDownActivateCallback),e(a).off("CornerstoneToolsTouchStart",i.simpleAngleTouch.touchStartCallback),e(a).off("CornerstoneToolsTap",i.simpleAngleTouch.tapCallback),t.updateImage(a),i.moveNewHandleTouch(n,o.handles.middle,function(){o.active=!1,i.anyHandlesOutsideImage(n,o.handles)&&i.removeToolState(a,c,o),o.handles.end.active=!0,t.updateImage(a),i.moveNewHandleTouch(n,o.handles.end,function(){o.active=!1,i.anyHandlesOutsideImage(n,o.handles)&&i.removeToolState(a,c,o),e(a).on("CornerstoneToolsTouchDrag",i.simpleAngleTouch.touchMoveCallback),e(a).on("CornerstoneToolsTouchStart",i.simpleAngleTouch.touchStartCallback),e(a).on("CornerstoneToolsTouchStartActive",i.simpleAngleTouch.touchDownActivateCallback),e(a).on("CornerstoneToolsTap",i.simpleAngleTouch.tapCallback),t.updateImage(a)})})}var c="simpleAngle";i.simpleAngle=i.mouseButtonTool({createNewMeasurement:r,addNewMeasurement:l,onImageRendered:s,pointNearTool:o,toolType:c}),i.simpleAngleTouch=i.touchTool({createNewMeasurement:r,addNewMeasurement:u,onImageRendered:s,pointNearTool:o,toolType:c})}($,cornerstone,cornerstoneMath,cornerstoneTools),function(e,t,n){"use strict";function i(e){var t=n.textMarker.getConfiguration();if(t.current){var i={visible:!0,active:!0,text:t.current,handles:{end:{x:e.currentPoints.image.x,y:e.currentPoints.image.y,highlight:!0,active:!0}}},r=t.markers.indexOf(t.current);return t.ascending?(r+=1,r>=t.markers.length&&(t.loop?r-=t.markers.length:r=-1)):(r-=1,0>r&&(t.loop?r+=t.markers.length:r=-1)),t.current=t.markers[r],i}}function r(e,n,i){var r=t.pixelToCanvas(e,n.handles.end),o={left:r.x-n.textWidth/2,top:r.y,width:n.textWidth,height:n.textHeight},a=cornerstoneMath.rect.distanceToPoint(o,i);return 10>a}function o(e,i){var r=n.getToolState(i.element,l);if(r){var o=i.canvasContext.canvas.getContext("2d");o.setTransform(1,0,0,1,0,0);for(var a=n.textStyle.getFont(),s=n.textStyle.getFontSize(),u=n.textMarker.getConfiguration(),c=0;c<r.data.length;c++){var h=r.data[c],d=n.toolColors.getToolColor();h.active&&(d=n.toolColors.getActiveColor()),o.save(),u&&u.shadow&&(o.shadowColor=u.shadowColor||"#000000",o.shadowOffsetX=u.shadowOffsetX||1,o.shadowOffsetY=u.shadowOffsetY||1),o.font=a,o.fillStyle=d;var f=o.measureText(h.text);h.textWidth=f.width,h.textHeight=s;var p={x:h.handles.end.x,y:h.handles.end.y},m=t.pixelToCanvas(i.element,p);n.drawTextBox(o,h.text,m.x-h.textWidth/2,m.y,d),o.restore()}}}function a(i,o){function a(i,r,a){a===!0?n.removeToolState(u,l,i):i.text=r,i.active=!1,t.updateImage(u),e(u).on("CornerstoneToolsMouseMove",o,n.textMarker.mouseMoveCallback),e(u).on("CornerstoneToolsMouseDown",o,n.textMarker.mouseDownCallback),e(u).on("CornerstoneToolsMouseDownActivate",o,n.textMarker.mouseDownActivateCallback),e(u).on("CornerstoneToolsMouseDoubleClick",o,n.textMarker.mouseDoubleClickCallback)}var s,u=o.element;if(i.data&&i.data.mouseButtonMask&&!n.isMouseButtonEnabled(o.which,i.data.mouseButtonMask))return!1;var c=n.textMarker.getConfiguration(),h=o.currentPoints.canvas,d=n.getToolState(u,l);if(!d)return!1;for(var f=0;f<d.data.length;f++)if(s=d.data[f],r(u,s,h))return s.active=!0,t.updateImage(u),e(u).off("CornerstoneToolsMouseMove",n.textMarker.mouseMoveCallback),e(u).off("CornerstoneToolsMouseDown",n.textMarker.mouseDownCallback),e(u).off("CornerstoneToolsMouseDownActivate",n.textMarker.mouseDownActivateCallback),e(u).off("CornerstoneToolsMouseDoubleClick",n.textMarker.mouseDoubleClickCallback),c.changeTextCallback(s,a),i.stopImmediatePropagation(),!1;return!1}function s(i,o){function a(i,r,o){o===!0?n.removeToolState(u,l,i):i.text=r,i.active=!1,t.updateImage(u),e(u).off("CornerstoneToolsTouchDrag",n.textMarkerTouch.touchMoveCallback),e(u).off("CornerstoneToolsTouchStartActive",n.textMarkerTouch.touchDownActivateCallback),e(u).off("CornerstoneToolsTouchStart",n.textMarkerTouch.touchStartCallback),e(u).off("CornerstoneToolsTap",n.textMarkerTouch.tapCallback),e(u).off("CornerstoneToolsTouchPress",n.textMarkerTouch.pressCallback),e(u).on("CornerstoneToolsTouchDrag",n.textMarkerTouch.touchMoveCallback),e(u).on("CornerstoneToolsTouchStartActive",n.textMarkerTouch.touchDownActivateCallback),e(u).on("CornerstoneToolsTouchStart",n.textMarkerTouch.touchStartCallback),e(u).on("CornerstoneToolsTap",n.textMarkerTouch.tapCallback),e(u).on("CornerstoneToolsTouchPress",n.textMarkerTouch.pressCallback)}var s,u=o.element;if(i.data&&i.data.mouseButtonMask&&!n.isMouseButtonEnabled(o.which,i.data.mouseButtonMask))return!1;var c=n.textMarker.getConfiguration(),h=o.currentPoints.canvas,d=n.getToolState(u,l);if(!d)return!1;for(var f=0;f<d.data.length;f++)if(s=d.data[f],r(u,s,h))return s.active=!0,t.updateImage(u),e(u).off("CornerstoneToolsTouchDrag",n.textMarkerTouch.touchMoveCallback),e(u).off("CornerstoneToolsTouchStartActive",n.textMarkerTouch.touchDownActivateCallback),e(u).off("CornerstoneToolsTouchStart",n.textMarkerTouch.touchStartCallback),e(u).off("CornerstoneToolsTap",n.textMarkerTouch.tapCallback),e(u).off("CornerstoneToolsTouchPress",n.textMarkerTouch.pressCallback),c.changeTextCallback(s,a),i.stopImmediatePropagation(),!1;return!1}var l="textMarker";n.textMarker=n.mouseButtonTool({createNewMeasurement:i,onImageRendered:o,pointNearTool:r,toolType:l,mouseDoubleClickCallback:a}),n.textMarkerTouch=n.touchTool({createNewMeasurement:i,onImageRendered:o,pointNearTool:r,toolType:l,pressCallback:s})}($,cornerstone,cornerstoneTools),function(e,t,n){"use strict";function i(t,n){e(n.element).off("CornerstoneToolsMouseDrag",a),e(n.element).off("CornerstoneToolsMouseUp",i),e(n.element).off("CornerstoneToolsMouseClick",i)}function r(t,r){return n.isMouseButtonEnabled(r.which,t.data.mouseButtonMask)?(e(r.element).on("CornerstoneToolsMouseDrag",a),e(r.element).on("CornerstoneToolsMouseUp",i),e(r.element).on("CornerstoneToolsMouseClick",i),!1):void 0}function o(e){var t=e.image.maxPixelValue*e.image.slope+e.image.intercept,n=e.image.minPixelValue*e.image.slope+e.image.intercept,i=t-n,r=i/1024,o=e.deltaPoints.page.x*r,a=e.deltaPoints.page.y*r;e.viewport.voi.windowWidth+=o,e.viewport.voi.windowCenter+=a}function a(e,i){return n.wwwc.strategy(i),t.setViewport(i.element,i.viewport),!1}function s(e,i){e.stopImmediatePropagation();var r=i,o=r.image.maxPixelValue*r.image.slope+r.image.intercept,a=r.image.minPixelValue*r.image.slope+r.image.intercept,s=o-a,l=s/1024,u=r.deltaPoints.page.x*l,c=r.deltaPoints.page.y*l,h=n.wwwc.getConfiguration();h.orientation?0===h.orientation?(r.viewport.voi.windowWidth+=u,r.viewport.voi.windowCenter+=c):(r.viewport.voi.windowWidth+=c,r.viewport.voi.windowCenter+=u):(r.viewport.voi.windowWidth+=u,r.viewport.voi.windowCenter+=c),t.setViewport(r.element,r.viewport)}n.wwwc=n.simpleMouseButtonTool(r),n.wwwc.strategies={"default":o},n.wwwc.strategy=o,n.wwwcTouchDrag=n.touchDragTool(s)}($,cornerstone,cornerstoneTools),function(e,t,n,i){"use strict";function r(e,t,n){var i=e.length;if(2>i)return{min:t,max:n,mean:(t+n)/2};for(var r=n,o=t,a=0,s=0;i>s;s++){var l=e[s];r=Math.min(r,l),o=Math.max(o,l),a+=l}return{min:r,max:o,mean:a/i}}function o(t,n){e(n.element).off("CornerstoneToolsMouseMove",c),e(n.element).off("CornerstoneToolsMouseDrag",c),e(n.element).off("CornerstoneToolsMouseUp",o),e(n.element).off("CornerstoneToolsMouseClick",o);var r=i.getToolState(n.element,y);if(r&&r.data.length){var s={x:n.currentPoints.image.x,y:n.currentPoints.image.y};r.data[0].endPoint=s,a(n);var u={mouseButtonMask:n.which};e(n.element).on("CornerstoneToolsMouseDown",u,l)}}function a(e){var n=i.getToolState(e.element,y);if(n&&n.data.length){var o=n.data[0].startPoint,a=n.data[0].endPoint,s=Math.abs(o.x-a.x),l=Math.abs(o.y-a.y),u=Math.min(o.x,a.x),c=Math.min(o.y,a.y);u=Math.max(u,0),u=Math.min(u,e.image.width),c=Math.max(c,0),c=Math.min(c,e.image.height),s=Math.floor(Math.min(s,Math.abs(e.image.width-u))),l=Math.floor(Math.min(l,Math.abs(e.image.height-c)));var h=i.getLuminance(e.element,u,c,s,l),d=r(h,e.image.minPixelValue,e.image.maxPixelValue),f=i.wwwcRegion.getConfiguration(),p=t.getViewport(e.element);void 0===f.minWindowWidth&&(f.minWindowWidth=10),p.voi.windowWidth=Math.max(Math.abs(d.max-d.min),f.minWindowWidth),p.voi.windowCenter=d.mean,t.setViewport(e.element,p),n.data=[],t.updateImage(e.element)}}function s(t,n){var i=n.element;e(i).off("CornerstoneToolsMouseMove"),e(i).off("CornerstoneToolsMouseDrag"),e(i).on("CornerstoneToolsMouseMove",c),e(i).on("CornerstoneToolsMouseDrag",c),e(i).on("CornerstoneToolsMouseClick",o),"CornerstoneToolsMouseDrag"===t.type&&e(i).on("CornerstoneToolsMouseUp",o)}function l(t,n){return i.isMouseButtonEnabled(n.which,t.data.mouseButtonMask)?(e(n.element).on("CornerstoneToolsMouseDrag",n,s),e(n.element).on("CornerstoneToolsMouseMove",n,s),e(n.element).on("CornerstoneToolsMouseUp",o),e(n.element).off("CornerstoneToolsMouseDown"),u(n),!1):void 0}function u(e){var t=i.getToolState(e.element,y);t&&t.data&&(t.data=[]);var n={startPoint:{x:e.currentPoints.image.x,y:e.currentPoints.image.y}};i.addToolState(e.element,y,n)}function c(e,n){var r=i.getToolState(n.element,y);if(void 0!==r&&r.data.length){var o={x:n.currentPoints.image.x,y:n.currentPoints.image.y};r.data[0].endPoint=o,t.updateImage(n.element)}}function h(n,r){var o=i.getToolState(r.element,y);if(o&&o.data.length){var a=o.data[0].startPoint,s=o.data[0].endPoint;if(a&&s){var l=e(r.element).find("canvas").get(0),u=l.getContext("2d");u.setTransform(1,0,0,1,0,0);var c=i.toolColors.getActiveColor(),h=t.pixelToCanvas(r.element,a),d=t.pixelToCanvas(r.element,s),f=Math.min(h.x,d.x),p=Math.min(h.y,d.y),m=Math.abs(h.x-d.x),g=Math.abs(h.y-d.y),v=i.toolStyle.getToolWidth(),b=i.wwwcRegion.getConfiguration();u.save(),b&&b.shadow&&(u.shadowColor=b.shadowColor||"#000000",u.shadowOffsetX=b.shadowOffsetX||1,u.shadowOffsetY=b.shadowOffsetY||1),u.beginPath(),u.strokeStyle=c,u.lineWidth=v,u.rect(f,p,m,g),u.stroke(),u.restore()}}}function d(n){e(n).off("CornerstoneToolsMouseDown",l),e(n).off("CornerstoneImageRendered",h),t.updateImage(n)}function f(n,r){var a={mouseButtonMask:r},s=i.getToolState(n,y);if(!s){var u=[];i.addToolState(n,y,u)}e(n).off("CornerstoneToolsMouseDown",l),e(n).off("CornerstoneToolsMouseUp",o),e(n).off("CornerstoneToolsMouseDrag",c),e(n).off("CornerstoneImageRendered",h),e(n).on("CornerstoneToolsMouseDown",a,l),e(n).on("CornerstoneImageRendered",h),t.updateImage(n)}function p(t){e(t).off("CornerstoneToolsTouchDrag",c),e(t).off("CornerstoneToolsTouchStart",u),e(t).off("CornerstoneToolsDragEnd",a),e(t).off("CornerstoneImageRendered",h)}function m(t){var n=i.getToolState(t,y);if(void 0===n){var r=[];i.addToolState(t,y,r)}e(t).off("CornerstoneToolsTouchDrag",c),e(t).off("CornerstoneToolsTouchStart",u),e(t).off("CornerstoneToolsDragEnd",a),e(t).off("CornerstoneImageRendered",h),e(t).on("CornerstoneToolsTouchDrag",c),e(t).on("CornerstoneToolsTouchStart",u),e(t).on("CornerstoneToolsDragEnd",a),e(t).on("CornerstoneImageRendered",h)}function g(){return b}function v(e){b=e}var y="wwwcRegion",b={minWindowWidth:10};i.wwwcRegion={activate:f,deactivate:d,disable:d,setConfiguration:v,getConfiguration:g},i.wwwcRegionTouch={activate:m,deactivate:p,disable:p}}($,cornerstone,cornerstoneMath,cornerstoneTools),function(e,t,n){"use strict";function i(e,t){var i=n.zoom.getConfiguration(),r=1.7,o=Math.log(e.scale)/Math.log(r),a=o+t,s=Math.pow(r,a);return i.maxScale&&s>i.maxScale?e.scale=i.maxScale:i.minScale&&s<i.minScale?e.scale=i.minScale:e.scale=s,e}function r(e,t,n){return e.x=Math.max(e.x,0),e.y=Math.max(e.y,0),e.x=Math.min(e.x,t),e.y=Math.min(e.y,n),e}function o(e,t){if(0!==t.rotation){var n=t.rotation*Math.PI/180,i=Math.cos(n),r=Math.sin(n),o=e.x*i-e.y*r,a=e.x*r+e.y*i;e.x=o,e.y=a}return t.hflip&&(e.x*=-1),t.vflip&&(e.y*=-1),e}function a(e,n){var r=e.element,a=i(e.viewport,n);t.setViewport(r,a);var s=t.pageToPixel(r,e.startPoints.page.x,e.startPoints.page.y),l={x:e.startPoints.image.x-s.x,y:e.startPoints.image.y-s.y};l=o(l,a),a.translation.x-=l.x,a.translation.y-=l.y,t.setViewport(r,a)}function s(e,a){var s=e.element,l=e.image,u=i(e.viewport,a);t.setViewport(s,u);var c,h,d=n.zoom.getConfiguration(),p=8,m=8,g=3,v=.01;if(0>a){if(c={x:u.scale<g?u.translation.x/p:0,y:u.scale<g?u.translation.y/p:0},Math.abs(u.translation.x)<v)u.translation.x=0,c.x=0;else if(Math.abs(u.translation.y)<v)u.translation.y=0,c.y=0;else if(Math.abs(u.translation.x)<v&&Math.abs(u.translation.y)<v)return t.setViewport(s,u),!1}else{h=t.pageToPixel(s,f.page.x,f.page.y),d&&d.preventZoomOutsideImage&&(f.image=r(f.image,l.width,l.height),h=r(h,l.width,l.height));var y={x:l.width/2-f.image.x,y:l.height/2-f.image.y},b={x:u.translation.x-y.x,y:u.translation.y-y.y};if(c={x:b.x/m,y:b.y/m},Math.abs(b.x)<v)u.translation.x=y.x,c.x=0;else if(Math.abs(b.y)<v)u.translation.y=y.y,c.y=0;else if(Math.abs(b.x)<v&&Math.abs(b.y)<v)return t.setViewport(s,u),!1}return c=o(c,u),c.x||c.y?(u.translation.x-=c.x,u.translation.y-=c.y,void t.setViewport(s,u)):!1}function l(t,n){e(n.element).off("CornerstoneToolsMouseDrag",c),e(n.element).off("CornerstoneToolsMouseUp",l),e(n.element).off("CornerstoneToolsMouseClick",l)}function u(t,i){return n.isMouseButtonEnabled(i.which,t.data.mouseButtonMask)?(f=i.startPoints,e(i.element).on("CornerstoneToolsMouseDrag",c),e(i.element).on("CornerstoneToolsMouseUp",l),e(i.element).on("CornerstoneToolsMouseClick",l),!1):void 0}function c(e,t){if(!t.deltaPoints.page.y)return!1;var i=t.deltaPoints.page.y/100;return n.zoom.strategy(t,i),!1}function h(e,n){var r=-n.direction/4,o=i(n.viewport,r);t.setViewport(n.element,o)}function d(e,i){var r=n.zoom.getConfiguration(),a=i.viewport,s=i.element;a.scale+=i.scaleChange*a.scale,r.maxScale&&a.scale>r.maxScale?a.scale=r.maxScale:r.minScale&&a.scale<r.minScale&&(a.scale=r.minScale),t.setViewport(s,a);var l=t.pageToPixel(s,i.startPoints.page.x,i.startPoints.page.y),u={x:i.startPoints.image.x-l.x,y:i.startPoints.image.y-l.y};u=o(u,a),a.translation.x-=u.x,a.translation.y-=u.y,t.setViewport(s,a)}var f;n.zoom=n.simpleMouseButtonTool(u),n.zoom.strategies={"default":a,translate:s},n.zoom.strategy=a,n.zoomWheel=n.mouseWheelTool(h),n.zoomTouchPinch=n.touchPinchTool(d),n.zoomTouchDrag=n.touchDragTool(c)}($,cornerstone,cornerstoneTools),function(e,t,n){"use strict";function i(n){var i=n.currentTarget,r={event:window.event||n,element:i,viewport:t.getViewport(i),image:t.getEnabledElement(i).image,currentPoints:{page:{x:s,y:l},image:t.pageToPixel(i,s,l)},keyCode:n.keyCode,which:n.which};r.currentPoints.canvas=t.pixelToCanvas(i,r.currentPoints.image);var o={keydown:"CornerstoneToolsKeyDown",keypress:"CornerstoneToolsKeyPress",keyup:"CornerstoneToolsKeyUp"};e(i).trigger(o[n.type],r)}function r(e){s=e.pageX||e.originalEvent.pageX,l=e.pageY||e.originalEvent.pageY}function o(t){a(t),e(t).on(u,i),e(t).on("mousemove",r)}function a(t){e(t).off(u,i),e(t).off("mousemove",r)}var s,l,u="keydown keypress keyup";n.keyboardInput={enable:o,disable:a}}($,cornerstone,cornerstoneTools),function(e){"use strict";function t(e,t){var n=Date.now();if(e!==a){if(l>=n-s)return t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),!1;a=e}s=n}function n(e,t,n){var i=n?c:h;t.forEach(function(t){e.addEventListener(t,i,!0)})}function i(e,t,n){var i=n?c:h;t.forEach(function(t){e.removeEventListener(t,i,!0)})}function r(e){i(e,d,u.mouse),i(e,f,u.touch)}function o(e){r(e),n(e,d,u.mouse),n(e,f,u.touch)}var a,s,l=2e3,u={mouse:0,touch:1},c=t.bind(null,u.mouse),h=t.bind(null,u.touch),d=["mousedown","mouseup"],f=["touchstart","touchend"];e.preventGhostClick={enable:o,disable:r}}(cornerstoneTools),function(e,t,n,i){"use strict";function r(e,t){var i=e.image,r={left:0,top:0,width:i.width,height:i.height},o=!1;return Object.keys(t).forEach(function(e){var i=t[e];i.allowedOutsideImage!==!0&&n.point.insideRect(i,r)===!1&&(o=!0)}),o}i.anyHandlesOutsideImage=r}($,cornerstone,cornerstoneMath,cornerstoneTools),function(e,t){"use strict";function n(n,r,o,a,s){n.strokeStyle=a,Object.keys(o).forEach(function(a){var l=o[a];if(l.drawnIndependently!==!0){n.beginPath(),l.active?n.lineWidth=t.toolStyle.getActiveWidth():n.lineWidth=t.toolStyle.getToolWidth();var u=e.pixelToCanvas(r.element,l);n.arc(u.x,u.y,i,0,2*Math.PI),s&&(n.fillStyle=s,n.fill()),n.stroke()}})}var i=6;t.drawHandles=n}(cornerstone,cornerstoneTools),function(e,t,n,i){"use strict";function r(e,i,r,o){var a;if(i)return Object.keys(i).forEach(function(s){var l=i[s];if(l.hasOwnProperty("pointNearHandle")){if(l.pointNearHandle(e,l,r))return void(a=l)}else{var u=t.pixelToCanvas(e,l),c=n.point.distance(u,r);if(o>=c)return void(a=l)}}),a}i.getHandleNearImagePoint=r}($,cornerstone,cornerstoneMath,cornerstoneTools),function(e,t,n,i){"use strict";function r(e){var t;return Object.keys(e).forEach(function(n){var i=e[n];return i.active===!0?void(t=i):void 0}),t}function o(e,t,n,o){o||(o=36);var a=r(t),s=i.getHandleNearImagePoint(e,t,n,o);return a!==s?(void 0!==s&&(s.active=!0),void 0!==a&&(a.active=!1),!0):!1}i.handleActivator=o}($,cornerstone,cornerstoneMath,cornerstoneTools),function(e,t,n,i){"use strict";function r(i,r,o,a,s,l){function u(n,i){r.active=!0,Object.keys(r.handles).forEach(function(e){var t=r.handles[e];t.movesIndependently!==!0&&(t.x+=i.deltaPoints.image.x,t.y+=i.deltaPoints.image.y,s.preventHandleOutsideImage===!0&&(t.x=Math.max(t.x,0),t.x=Math.min(t.x,i.image.width),t.y=Math.max(t.y,0),t.y=Math.min(t.y,i.image.height)))}),t.updateImage(h);var o="CornerstoneToolsMeasurementModified",l={toolType:a,element:h,measurementData:r};return e(h).trigger(o,l),!1}function c(i,a){if(r.active=!1,r.invalidated=!0,e(h).off("CornerstoneToolsMouseDrag",u),e(h).off("CornerstoneToolsMouseUp",c),e(h).off("CornerstoneToolsMouseClick",c),s.deleteIfHandleOutsideImage===!0){var d=a.image,f=!1,p={top:0,left:0,width:d.width,height:d.height};if(Object.keys(r.handles).forEach(function(e){var t=r.handles[e];return t.active=!1,n.point.insideRect(t,p)===!1?(f=!0,!1):void 0}),f){var m=-1;o.data.forEach(function(e,t){return e===r?(m=t,!1):void 0}),-1!==m&&o.data.splice(m,1)}}t.updateImage(h),"function"==typeof l&&l()}var h=i.element;return e(h).on("CornerstoneToolsMouseDrag",u),e(h).on("CornerstoneToolsMouseUp",c),e(h).on("CornerstoneToolsMouseClick",c),!0}i.moveAllHandles=r}($,cornerstone,cornerstoneMath,cornerstoneTools),function(e,t,n){"use strict";function i(n,i,r,o,a,s){function l(n,a){o.active=!0,o.x=a.currentPoints.image.x+h.x,o.y=a.currentPoints.image.y+h.y,s&&(o.x=Math.max(o.x,0),o.x=Math.min(o.x,a.image.width),o.y=Math.max(o.y,0),o.y=Math.min(o.y,a.image.height)),t.updateImage(c);var l="CornerstoneToolsMeasurementModified",u={toolType:i,element:c,measurementData:r};e(c).trigger(l,u)}function u(){o.active=!1,e(c).off("CornerstoneToolsMouseDrag",l),e(c).off("CornerstoneToolsMouseUp",u),e(c).off("CornerstoneToolsMouseClick",u),t.updateImage(c),"function"==typeof a&&a()}var c=n.element,h={x:o.x-n.currentPoints.image.x,y:o.y-n.currentPoints.image.y};e(c).on("CornerstoneToolsMouseDrag",l),e(c).on("CornerstoneToolsMouseUp",u),e(c).on("CornerstoneToolsMouseClick",u)}n.moveHandle=i}($,cornerstone,cornerstoneTools),function(e,t,n){"use strict";function i(n,i,r,o,a,s){function l(n,a){o.active=!0,o.x=a.currentPoints.image.x,o.y=a.currentPoints.image.y,s&&(o.x=Math.max(o.x,0),o.x=Math.min(o.x,a.image.width),o.y=Math.max(o.y,0),o.y=Math.min(o.y,a.image.height)),t.updateImage(d);var l="CornerstoneToolsMeasurementModified",u={toolType:i,element:d,measurementData:r};e(d).trigger(l,u)}function u(t){e(d).off("CornerstoneToolsMouseMove"),e(d).off("CornerstoneToolsMouseDrag"),e(d).on("CornerstoneToolsMouseMove",l),e(d).on("CornerstoneToolsMouseDrag",l),e(d).on("CornerstoneToolsMouseClick",h),"CornerstoneToolsMouseDrag"===t.type&&e(d).on("CornerstoneToolsMouseUp",h)}function c(e,t){t.measurementData===r&&h()}function h(){e(d).off("CornerstoneToolsMouseMove",l),e(d).off("CornerstoneToolsMouseDrag",l),e(d).off("CornerstoneToolsMouseClick",h),e(d).off("CornerstoneToolsMouseUp",h),e(d).off("CornerstoneToolsMeasurementRemoved",c),o.active=!1,t.updateImage(d),"function"==typeof a&&a()}var d=n.element;e(d).on("CornerstoneToolsMouseDrag",u),e(d).on("CornerstoneToolsMouseMove",u),e(d).on("CornerstoneToolsMeasurementRemoved",c)}n.moveNewHandle=i}($,cornerstone,cornerstoneTools),function(e,t,n){"use strict";function i(n,i,r,o,a,s){function l(n,a){o.active=!0,o.x=a.currentPoints.image.x+d.x,o.y=a.currentPoints.image.y+d.y,s&&(o.x=Math.max(o.x,0),o.x=Math.min(o.x,a.image.width),o.y=Math.max(o.y,0),o.y=Math.min(o.y,a.image.height)),t.updateImage(c);var l="CornerstoneToolsMeasurementModified",u={toolType:i,element:c,measurementData:r};e(c).trigger(l,u)}function u(n,i){return e(c).off("CornerstoneToolsTouchDrag",l),e(c).off("CornerstoneToolsTouchPinch",u),e(c).off("CornerstoneToolsTouchPress",u),e(c).off("CornerstoneToolsTouchEnd",u),e(c).off("CornerstoneToolsDragEnd",u),e(c).off("CornerstoneToolsTap",u),"CornerstoneToolsTouchPinch"===n.type||"CornerstoneToolsTouchPress"===n.type?(o.active=!1,t.updateImage(c),void a()):(o.active=!1,o.x=i.currentPoints.image.x+d.x,o.y=i.currentPoints.image.y+d.y,s&&(o.x=Math.max(o.x,0),o.x=Math.min(o.x,i.image.width),o.y=Math.max(o.y,0),o.y=Math.min(o.y,i.image.height)),t.updateImage(c),void("function"==typeof a&&a()))}var c=n.element,h=t.pageToPixel(c,n.currentPoints.page.x,n.currentPoints.page.y+50),d={x:o.x-h.x,y:o.y-h.y};e(c).on("CornerstoneToolsTouchDrag",l),e(c).on("CornerstoneToolsTouchPinch",u),e(c).on("CornerstoneToolsTouchPress",u),e(c).on("CornerstoneToolsTouchEnd",u),e(c).on("CornerstoneToolsDragEnd",u),e(c).on("CornerstoneToolsTap",u)}n.moveNewHandleTouch=i}($,cornerstone,cornerstoneTools),function(e,t,n,i){"use strict";function r(i,r,o,a,s,l){function u(n,i){r.active=!0,Object.keys(r.handles).forEach(function(e){var t=r.handles[e];t.movesIndependently!==!0&&(t.x+=i.deltaPoints.image.x,t.y+=i.deltaPoints.image.y)}),t.updateImage(h);var o="CornerstoneToolsMeasurementModified",s={toolType:a,element:h,measurementData:r};return e(h).trigger(o,s),!1}function c(i,a){if(r.active=!1,r.invalidated=!1,e(h).off("CornerstoneToolsTouchDrag",u),e(h).off("CornerstoneToolsTouchPinch",c),e(h).off("CornerstoneToolsTouchPress",c),e(h).off("CornerstoneToolsTouchEnd",c),e(h).off("CornerstoneToolsDragEnd",c),e(h).off("CornerstoneToolsTap",c),s===!0){var d=a.image,f=!1,p={top:0,left:0,width:d.width,height:d.height};if(Object.keys(r.handles).forEach(function(e){var t=r.handles[e];return n.point.insideRect(t,p)===!1?void(f=!0):void 0}),f){for(var m=-1,g=0;g<o.data.length;g++)o.data[g]===r&&(m=g);-1!==m&&o.data.splice(m,1)}}"function"==typeof l&&l(),t.updateImage(h)}var h=i.element;return e(h).on("CornerstoneToolsTouchDrag",u),e(h).on("CornerstoneToolsTouchPinch",c),e(h).on("CornerstoneToolsTouchPress",c),e(h).on("CornerstoneToolsTouchEnd",c),e(h).on("CornerstoneToolsDragEnd",c),e(h).on("CornerstoneToolsTap",c),!0}i.touchMoveAllHandles=r}($,cornerstone,cornerstoneMath,cornerstoneTools),function(e,t,n){"use strict";function i(n,i,r,o,a){function s(n,a){o.active=!0;var s=a;o.x=s.currentPoints.image.x+c.x,o.y=s.currentPoints.image.y+c.y,t.updateImage(u);var l="CornerstoneToolsMeasurementModified",h={toolType:i,element:u,measurementData:r};e(u).trigger(l,h)}function l(){o.active=!1,e(u).off("CornerstoneToolsTouchDrag",s),e(u).off("CornerstoneToolsTouchPinch",l),e(u).off("CornerstoneToolsTouchEnd",l),e(u).off("CornerstoneToolsDragEnd",l),e(u).off("CornerstoneToolsTap",l),t.updateImage(u),"function"==typeof a&&a()}var u=n.element,c={x:o.x-n.currentPoints.image.x,y:o.y-n.currentPoints.image.y};e(u).on("CornerstoneToolsTouchDrag",s),e(u).on("CornerstoneToolsTouchPinch",l),e(u).on("CornerstoneToolsTouchEnd",l),e(u).on("CornerstoneToolsDragEnd",l),e(u).on("CornerstoneToolsTap",l)}n.touchMoveHandle=i}($,cornerstone,cornerstoneTools),function(e,t){"use strict";function n(){var t=this;t.samples=[],this.set=function(n){t.samples=n,e(t).trigger("CornerstoneLineSampleUpdated")}}t.LineSampleMeasurement=n}($,cornerstoneTools),function(e,t){"use strict";function n(){var t=this;t.measurements=[],this.add=function(n){var i=t.measurements.push(n),r={index:i,measurement:n};e(t).trigger("CornerstoneMeasurementAdded",r)},this.remove=function(n){var i=t.measurements[n];t.measurements.splice(n,1);var r={index:n,measurement:i};e(t).trigger("CornerstoneMeasurementRemoved",r)}}t.MeasurementManager=new n}($,cornerstoneTools),function(e,t,n){"use strict";function i(e){a.push(e)}function r(e){var t=a.indexOf(e);-1!==t&&a.splice(t,1)}function o(t,n){var i;return e.each(a,function(e,r){return i=r(t,n),void 0!==i?!0:void 0}),i}var a=[];n.metaData={addProvider:i,removeProvider:r,get:o}}($,cornerstone,cornerstoneTools),function(e,t){"use strict";function n(t){for(var n="",i=t.x<0?"R":"L",r=t.y<0?"A":"P",o=t.z<0?"F":"H",a=new e.Vector3(Math.abs(t.x),Math.abs(t.y),Math.abs(t.z)),s=0;3>s;s++)if(a.x>1e-4&&a.x>a.y&&a.x>a.z)n+=i,a.x=0;else if(a.y>1e-4&&a.y>a.x&&a.y>a.z)n+=r,a.y=0;else{if(!(a.z>1e-4&&a.z>a.x&&a.z>a.y))break;n+=o,a.z=0}return n}t.orientation.getOrientationString=n}(cornerstoneMath,cornerstoneTools),function(e){"use strict";function t(e){var t=e.replace("H","f");return t=t.replace("F","h"),t=t.replace("R","l"),t=t.replace("L","r"),t=t.replace("A","p"),t=t.replace("P","a"),t=t.toUpperCase()}e.orientation.invertOrientationString=t}(cornerstoneTools),function(e){"use strict";function t(t,n){var i=e.planePlaneIntersection(t,n);if(i)return{start:e.projectPatientPointToImagePlane(i.start,t),end:e.projectPatientPointToImagePlane(i.end,t)}}e.referenceLines.calculateReferenceLine=t}(cornerstoneTools),function(e,t,n){"use strict";function i(i,r){var o=n.getToolState(i.currentTarget,a);if(void 0!==o){var s=o.data[0].synchronizationContext,l=s.getSourceElements(),u=o.data[0].renderer,c=r.canvasContext.canvas.getContext("2d");t.setToPixelCoordinateSystem(r.enabledElement,c),e.each(l,function(e,t){t!==i.currentTarget&&u(c,r,i.currentTarget,t)})}}function r(r,o,s){s=s||n.referenceLines.renderActiveReferenceLine,n.addToolState(r,a,{synchronizationContext:o,renderer:s}),e(r).on("CornerstoneImageRendered",i),t.updateImage(r)}function o(n){e(n).off("CornerstoneImageRendered",i),t.updateImage(n)}var a="referenceLines";n.referenceLines.tool={enable:r,disable:o}}($,cornerstone,cornerstoneTools),function(e,t,n){"use strict";function i(e,i,r,o){var a=t.getEnabledElement(r).image,s=t.getEnabledElement(o).image;if(a&&s){var l=n.metaData.get("imagePlane",a.imageId),u=n.metaData.get("imagePlane",s.imageId);if(l&&u&&l.frameOfReferenceUID===u.frameOfReferenceUID){var c=l.rowCosines.clone().cross(l.columnCosines),h=u.rowCosines.clone().cross(u.columnCosines),d=c.angleTo(h);if(d=Math.abs(d),!(.5>d)){var f=n.referenceLines.calculateReferenceLine(l,u);if(f){var p=t.pixelToCanvas(i.element,f.start),m=t.pixelToCanvas(i.element,f.end),g=n.toolColors.getActiveColor(),v=n.toolStyle.getToolWidth();e.setTransform(1,0,0,1,0,0),e.save(),e.beginPath(),e.strokeStyle=g,e.lineWidth=v,e.moveTo(p.x,p.y),e.lineTo(m.x,m.y),e.stroke(),e.restore()}}}}}n.referenceLines.renderActiveReferenceLine=i}($,cornerstone,cornerstoneTools),function(e,t){"use strict";function n(){function n(t,n,o,a,s,l){if(!r.hasOwnProperty(o))throw"Request type must be one of interaction, thumbnail, or prefetch";if(t&&n){var u={type:o,imageId:n,preventCache:a,doneCallback:s,failCallback:l},c=e.imageCache.getImagePromise(n);if(c)return void c.then(function(e){s(e)},function(e){l(e)});r[o].push(u),"interaction"===o&&(i=t)}}function u(e){if(!r.hasOwnProperty(e))throw"Request type must be one of interaction, thumbnail, or prefetch";r[e]=[]}function c(){s&&setTimeout(function(){var e=f();e&&h(e)},l)}function h(t){var n=t.type;o[n]++,s=!0;var i=t.imageId,r=t.doneCallback,a=t.failCallback,l=e.imageCache.getImagePromise(i);if(l)return void l.then(function(e){
o[n]--,r(e),c()},function(e){o[n]--,a(e)});var u;u=t.preventCache===!0?e.loadImage(i):e.loadAndCacheImage(i),u.then(function(e){o[n]--,r(e),c()},function(e){o[n]--,a(e)})}function d(){if(!s){var e=t.getMaxSimultaneousRequests();a={interaction:e,thumbnail:e-2,prefetch:e-1};for(var n=0;e>n;n++){var i=f();i&&h(i)}}}function f(){return r.interaction.length&&o.interaction<a.interaction?r.interaction.shift():r.thumbnail.length&&o.thumbnail<a.thumbnail?r.thumbnail.shift():r.prefetch.length&&o.prefetch<a.prefetch?r.prefetch.shift():(r.interaction.length||r.thumbnail.length||r.prefetch.length||(s=!1),!1)}function p(){return r}var m={addRequest:n,clearRequestStack:u,startGrabbing:d,getRequestPool:p};return m}var i,r={interaction:[],thumbnail:[],prefetch:[]},o={interaction:0,thumbnail:0,prefetch:0},a={interaction:6,thumbnail:6,prefetch:5},s=!1,l=20;t.requestPoolManager=n()}(cornerstone,cornerstoneTools),function(e,t,n){"use strict";function i(i,r){if(void 0===i)throw"playClip: element must not be undefined";void 0===r&&(r=30);var a=n.getToolState(i,"stack");if(void 0!==a&&void 0!==a.data&&0!==a.data.length){var s,l=a.data[0],u=n.getToolState(i,o);void 0===u||0===u.data.length?(s={intervalId:void 0,framesPerSecond:r,lastFrameTimeStamp:void 0,frameRate:0,loop:!0},n.addToolState(i,o,s)):(s=u.data[0],s.framesPerSecond=r),void 0===s.intervalId&&(s.intervalId=setInterval(function(){var r=l.currentImageIdIndex;if(s.framesPerSecond>0?r++:r--,!s.loop&&(r>=l.imageIds.length||0>r)){var o={element:i},a=e.Event("CornerstoneToolsClipStopped",o);return e(i).trigger(a,o),clearInterval(s.intervalId),void(s.intervalId=void 0)}if(r>=l.imageIds.length&&(r=0),0>r&&(r=l.imageIds.length-1),r!==l.currentImageIdIndex){var u=n.loadHandlerManager.getStartLoadHandler(),c=n.loadHandlerManager.getEndLoadHandler(),h=n.loadHandlerManager.getErrorLoadingHandler();u&&u(i);var d,f=t.getViewport(i);d=l.preventCache===!0?t.loadImage(l.imageIds[r]):t.loadAndCacheImage(l.imageIds[r]),d.then(function(e){l.currentImageIdIndex=r,t.displayImage(i,e,f),c&&c(i)},function(e){var t=l.imageIds[r];h&&h(i,t,e)})}},1e3/Math.abs(s.framesPerSecond)))}}function r(e){var t,i=n.getToolState(e,o);void 0!==i&&0!==i.data.length&&(t=i.data[0],clearInterval(t.intervalId),t.intervalId=void 0)}var o="playClip";n.playClip=i,n.stopClip=r}($,cornerstone,cornerstoneTools),function(e,t,n){"use strict";function i(e,t){var i=t.element,o=t.enabledElement.canvas.width,a=t.enabledElement.canvas.height;if(!o||!a)return!1;var s=t.enabledElement.canvas.getContext("2d");s.setTransform(1,0,0,1,0,0),s.save();var l=n.scrollIndicator.getConfiguration();s.fillStyle=l.backgroundColor,s.fillRect(0,a-r,o,r);var u=n.getToolState(i,"stack");if(u&&u.data&&u.data.length){var c=u.data[0].imageIds,h=u.data[0].currentImageIdIndex,d=o/c.length,f=d*h;s.fillStyle=l.fillColor,s.fillRect(f,a-r,d,r),s.restore()}}var r=6,o={backgroundColor:"rgb(19, 63, 141)",fillColor:"white"};n.scrollIndicator=n.displayTool(i),n.scrollIndicator.setConfiguration(o)}($,cornerstone,cornerstoneTools),function(e,t,n){"use strict";function i(e,t){return e-t}function r(e,t){e=Math.round(e)||0,t=Math.round(t)||0;var n=[],i=t-e+1;if(0>=i)return n;for(;i--;)n[i]=t--;return n}function o(e,t){var n=[],i=[];return e.forEach(function(e){t>e?n.push(e):e>t&&i.push(e)}),{low:e.indexOf(b(n)),high:e.indexOf(w(i))}}function a(e){function r(e){var t=h.indicesToRequest.indexOf(e);t>-1&&h.indicesToRequest.splice(t,1)}function a(e){var t=u.imageIds.indexOf(e.imageId);r(t)}function s(e){console.log("prefetch errored: "+e)}var l=n.getToolState(e,"stack");if(l&&l.data&&l.data.length){var u=l.data[0],c=n.getToolState(e,g);if(c){var h=c.data[0];if(h&&h.indicesToRequest&&h.indicesToRequest.length||(h.enabled=!1),h.enabled!==!1){c.data[0].indicesToRequest.sort(i);var d=h.indicesToRequest.slice();if(d.forEach(function(e){var n=u.imageIds[e];if(n){var i=t.imageCache.getImagePromise(n);i&&"resolved"===i.state()&&r(e)}}),h.indicesToRequest.length){var f=n.requestPoolManager;f.clearRequestStack(v);for(var p,m,y=o(h.indicesToRequest,u.currentImageIdIndex),b=!1,w=y.low,x=y.high;w>0||x<h.indicesToRequest.length;)w>=0&&(m=h.indicesToRequest[w--],p=u.imageIds[m],f.addRequest(e,p,v,b,a,s)),x<h.indicesToRequest.length&&(m=h.indicesToRequest[x++],p=u.imageIds[m],f.addRequest(e,p,v,b,a,s));f.startGrabbing()}}}}}function s(e){var t=e.data.element,i=n.getToolState(t,g);i&&i.data&&i.data.length&&n.requestPoolManager.clearRequestStack(v)}function l(e,t){var i=e.data.element,r=n.getToolState(i,"stack");if(r&&r.data&&r.data.length){var o=r.data[0],a=o.imageIds.indexOf(t.imageId);if(!(0>a)){var s=n.getToolState(i,g);s&&s.data&&s.data.length&&s.data[0].indicesToRequest.push(a)}}}function u(e){clearTimeout(p),p=setTimeout(function(){var t=e.currentTarget;a(t)},m)}function c(i){var o=n.getToolState(i,g);o.data=[];var c=n.getToolState(i,"stack");if(c&&c.data&&c.data.length){var h=c.data[0];if(h.preventCache===!0)return void console.warn("A stack that should not be cached was given the stackPrefetch");var d={indicesToRequest:r(0,h.imageIds.length-1),enabled:!0,direction:1},f=d.indicesToRequest.indexOf(h.currentImageIdIndex);d.indicesToRequest.splice(f,1),n.addToolState(i,g,d),a(i),e(i).off("CornerstoneNewImage",u),e(i).on("CornerstoneNewImage",u),e(t).off("CornerstoneImageCacheFull",s),e(t).on("CornerstoneImageCacheFull",{element:i},s),e(t).off("CornerstoneImageCachePromiseRemoved",l),e(t).on("CornerstoneImageCachePromiseRemoved",{element:i},l)}}function h(i){clearTimeout(p),e(i).off("CornerstoneNewImage",u),e(t).off("CornerstoneImageCacheFull",s),e(t).off("CornerstoneImageCachePromiseRemoved",l);var r=n.getToolState(i,g);r&&r.data.length&&(r.data[0].enabled=!1,n.requestPoolManager.clearRequestStack(v))}function d(){return y}function f(e){y=e}var p,m,g="stackPrefetch",v="prefetch",y={},b=function(e){return Math.max.apply(null,e)},w=function(e){return Math.min.apply(null,e)};n.stackPrefetch={enable:c,disable:h,getConfiguration:d,setConfiguration:f}}($,cornerstone,cornerstoneTools),function(e,t,n){"use strict";function i(t,n){e(n.element).off("CornerstoneToolsMouseDrag",a),e(n.element).off("CornerstoneToolsMouseUp",i),e(n.element).off("CornerstoneToolsMouseClick",i)}function r(t,r){if(n.isMouseButtonEnabled(r.which,t.data.mouseButtonMask)){var o={deltaY:0};return e(r.element).on("CornerstoneToolsMouseDrag",o,a),e(r.element).on("CornerstoneToolsMouseUp",i),e(r.element).on("CornerstoneToolsMouseClick",i),t.stopImmediatePropagation(),!1}}function o(e,t){var i=-t.direction;n.scroll(t.element,i)}function a(t,i){var r=i.element,o=n.getToolState(r,"stack");if(o&&o.data&&o.data.length){var a=o.data[0],s=n.stackScroll.getConfiguration(),l=e(r).height()/Math.max(a.imageIds.length,8);if(s&&s.stackScrollSpeed&&(l=s.stackScrollSpeed),t.data.deltaY=t.data.deltaY||0,t.data.deltaY+=i.deltaPoints.page.y,Math.abs(t.data.deltaY)>=l){var u=t.data.deltaY/l,c=Math.round(u),h=t.data.deltaY%l;t.data.deltaY=h,n.scroll(r,c)}return!1}}n.stackScroll=n.simpleMouseButtonTool(r),n.stackScrollWheel=n.mouseWheelTool(o);var s={eventData:{deltaY:0}};n.stackScrollTouchDrag=n.touchDragTool(a,s)}($,cornerstone,cornerstoneTools),function(e){"use strict";function t(t,i){var r=i.keyCode;if(r===n.UP||r===n.DOWN){var o=1;r===n.DOWN&&(o=-1),e.scroll(i.element,o)}}var n={UP:38,DOWN:40};e.stackScrollKeyboard=e.keyboardTool(t)}(cornerstoneTools),function(e,t,n){"use strict";function i(e){var i={imageIdToolState:n.globalImageIdSpecificToolStateManager.saveToolState(),elementToolState:{},elementViewport:{}};return e.forEach(function(e){var r=n.getElementToolStateManager(e);r!==n.globalImageIdSpecificToolStateManager&&(i.elementToolState[e.id]=r.saveToolState(),i.elementViewport[e.id]=t.getViewport(e))}),i}function r(e){return e.hasOwnProperty("imageIdToolState")&&e.hasOwnProperty("elementToolState")&&e.hasOwnProperty("elementViewport")?(n.globalImageIdSpecificToolStateManager.restoreToolState(e.imageIdToolState),Object.keys(e.elementViewport).forEach(function(i){var r=document.getElementById(i);if(r&&e.elementToolState.hasOwnProperty(i)){var o=n.getElementToolStateManager(r);if(o!==n.globalImageIdSpecificToolStateManager){o.restoreToolState(e.elementToolState[i]);var a=e.elementViewport[i];t.setViewport(r,a),t.updateImage(r)}}}),e):void 0}n.appState={save:i,restore:r}}($,cornerstone,cornerstoneTools),function(e,t,n){"use strict";function i(){function e(e,t,n){i.hasOwnProperty(e)===!1&&(i[e]={});var r=i[e];r.hasOwnProperty(t)===!1&&(r[t]={data:[]});var o=r[t];o.data.push(n)}function t(e,t){if(i.hasOwnProperty(e)!==!1){var n=i[e];if(n.hasOwnProperty(t)!==!1){var r=n[t];return r}}}function n(e,t,n){if(i.hasOwnProperty(e)!==!1){var r=i[e];if(r.hasOwnProperty(t)!==!1){for(var o=r[t],a=-1,s=0;s<o.data.length;s++)o.data[s]===n&&(a=s);-1!==a&&o.data.splice(a,1)}}}var i={},r={get:t,add:e,remove:n};return r}var r=i();n.newFrameOfReferenceSpecificToolStateManager=i,n.globalFrameOfReferenceSpecificToolStateManager=r}($,cornerstone,cornerstoneTools),function(e,t){"use strict";function n(){function t(e){return l[e]}function n(e,t){l[e]=t}function i(){return l}function r(e){l=e}function o(t,n,i){var r=e.getEnabledElement(t);r.image&&l.hasOwnProperty(r.image.imageId)!==!1||(l[r.image.imageId]={});var o=l[r.image.imageId];o.hasOwnProperty(n)===!1&&(o[n]={data:[]});var a=o[n];a.data.push(i)}function a(t,n){var i=e.getEnabledElement(t);if(i.image&&l.hasOwnProperty(i.image.imageId)!==!1){var r=l[i.image.imageId];if(r.hasOwnProperty(n)!==!1){var o=r[n];return o}}}function s(t){var n=e.getEnabledElement(t);n.image&&l.hasOwnProperty(n.image.imageId)!==!1&&delete l[n.image.imageId]}var l={},u={get:a,add:o,clear:s,saveImageIdToolState:t,restoreImageIdToolState:n,saveToolState:i,restoreToolState:r,toolState:l};return u}var i=n();t.newImageIdSpecificToolStateManager=n,t.globalImageIdSpecificToolStateManager=i}(cornerstone,cornerstoneTools),function(e){"use strict";function t(){function e(e){a=e}function t(){return a}function n(e){s=e}function i(){return s}function r(e){l=e}function o(){return l}var a,s,l,u={setStartLoadHandler:e,getStartLoadHandler:t,setEndLoadHandler:n,getEndLoadHandler:i,setErrorLoadingHandler:r,getErrorLoadingHandler:o};return u}e.loadHandlerManager=t()}(cornerstoneTools),function(e,t){"use strict";function n(e,t){function n(){return a}function i(e){a=e}function r(n,i,r){if(!(e.indexOf(i)>=0))return t.add(n,i,r);a.hasOwnProperty(i)===!1&&(a[i]={data:[]});var o=a[i];o.data.push(r)}function o(n,i){if(e.indexOf(i)>=0){a.hasOwnProperty(i)===!1&&(a[i]={data:[]});var r=a[i];return r}return t.get(n,i)}var a={},s={get:o,add:r,saveToolState:n,restoreToolState:i,toolState:a};return s}function i(e){var n=t.getElementToolStateManager(e);n||(n=t.globalImageIdSpecificToolStateManager);var i=["stack","stackPrefetch","playClip","volume","slab","referenceLines","crosshairs"],o=t.newStackSpecificToolStateManager(i,n);r.push(o),t.setElementToolStateManager(e,o)}var r=[];t.newStackSpecificToolStateManager=n,t.addStackStateManager=i}(cornerstone,cornerstoneTools),function(e){"use strict";function t(){function e(e){s=e}function t(){return s}function n(e){a=e}function i(){return a}function r(e){l=e}function o(){return l}var a=15,s=a+"px Arial",l="transparent",u={setFont:e,getFont:t,setFontSize:n,getFontSize:i,setBackgroundColor:r,getBackgroundColor:o};return u}e.textStyle=t()}(cornerstoneTools),function(e,t){"use strict";function n(e,t){function n(n,i,o){if(!(e.indexOf(i)>=0))return t.add(n,i,o);r.hasOwnProperty(i)===!1&&(r[i]={data:[]});var a=r[i];a.data.push(o)}function i(n,i){if(e.indexOf(i)>=0){r.hasOwnProperty(i)===!1&&(r[i]={data:[]});var o=r[i];return o}return t.get(n,i)}var r={},o={get:i,add:n};return o}function i(e,n){n=n||["timeSeries"];var i=t.getElementToolStateManager(e);void 0===i&&(i=t.globalImageIdSpecificToolStateManager);var o=t.newTimeSeriesSpecificToolStateManager(n,i);r.push(o),t.setElementToolStateManager(e,o)}var r=[];t.newTimeSeriesSpecificToolStateManager=n,t.addTimeSeriesStateManager=i}(cornerstone,cornerstoneTools),function(e){"use strict";function t(){function e(e){u=e}function t(){return u}function n(e){s=e}function i(){return s}function r(e){l=e}function o(){return l}function a(e){return e?l:s}var s="white",l="greenyellow",u="transparent",c={setFillColor:e,getFillColor:t,setToolColor:n,getToolColor:i,setActiveColor:r,getActiveColor:o,getColorIfActive:a};return c}e.toolColors=t()}(cornerstoneTools),function(e){"use strict";function t(){function e(e){n=e.currentPoints.canvas}function t(){return n}var n="",i={setCoords:e,getCoords:t};return i}e.toolCoordinates=t()}(cornerstoneTools),function(e,t){"use strict";function n(n){var i=e.getEnabledElement(n);return void 0===i.toolStateManager&&(i.toolStateManager=t.globalImageIdSpecificToolStateManager),i.toolStateManager}function i(e,t,i){var r=n(e);r.add(e,t,i);var o="CornerstoneToolsMeasurementAdded",a={toolType:t,element:e,measurementData:i};$(e).trigger(o,a)}function r(e,t){var i=n(e);return i.get(e,t)}function o(e,t,i){for(var r=n(e),o=r.get(e,t),a=-1,s=0;s<o.data.length;s++)o.data[s]===i&&(a=s);if(-1!==a){o.data.splice(a,1);var l="CornerstoneToolsMeasurementRemoved",u={toolType:t,element:e,measurementData:i};$(e).trigger(l,u)}}function a(e,t){var i=n(e),r=i.get(e,t);void 0!==r&&(r.data=[])}function s(t,n){var i=e.getEnabledElement(t);i.toolStateManager=n}t.addToolState=i,t.getToolState=r,t.removeToolState=o,t.clearToolState=a,t.setElementToolStateManager=s,t.getElementToolStateManager=n}(cornerstone,cornerstoneTools),function(e){"use strict";function t(){function e(e){r=e}function t(){return r}function n(e){o=e}function i(){return o}var r=1,o=2,a={setToolWidth:e,getToolWidth:t,setActiveWidth:n,getActiveWidth:i};return a}e.toolStyle=t()}(cornerstoneTools),function(e){"use strict";function t(){function e(e){n=e}function t(){return n}var n={x:0,y:-55},i={setToolDistanceFromTouch:e,getToolDistanceFromTouch:t};return i}e.touchSettings=t()}(cornerstoneTools),function(e,t,n){"use strict";function i(e,n,i){if(i!==n){var r=t.getViewport(n),o=t.getViewport(i);o.scale===r.scale&&o.translation.x===r.translation.x&&o.translation.y===r.translation.y||(o.scale=r.scale,o.translation.x=r.translation.x,o.translation.y=r.translation.y,e.setViewport(i,o))}}n.panZoomSynchronizer=i}($,cornerstone,cornerstoneTools),function(e,t,n){"use strict";function i(e,i,r){if(r!==i){var o=n.getToolState(i,"stack"),a=o.data[0],s=n.getToolState(r,"stack"),l=s.data[0],u=a.currentImageIdIndex;if(u=Math.min(Math.max(u,0),l.imageIds.length-1),u!==l.currentImageIdIndex){var c=n.loadHandlerManager.getStartLoadHandler(),h=n.loadHandlerManager.getEndLoadHandler(),d=n.loadHandlerManager.getErrorLoadingHandler();c&&c(r);var f;f=l.preventCache===!0?t.loadImage(l.imageIds[u]):t.loadAndCacheImage(l.imageIds[u]),f.then(function(n){var i=t.getViewport(r);l.currentImageIdIndex=u,e.displayImage(r,n,i),h&&h(r)},function(e){var t=l.imageIds[u];d&&d(r,t,e)})}}}n.stackImageIndexSynchronizer=i}($,cornerstone,cornerstoneTools),function(e,t,n){"use strict";function i(e,i,r,o,a){if(r!==i){var s=t.getEnabledElement(i),l=n.metaData.get("imagePlane",s.image.imageId),u=l.imagePositionPatient,c=n.getToolState(r,"stack"),h=c.data[0],d=Number.MAX_VALUE,f=-1;if(a){var p=u.clone().add(a);if(h.imageIds.forEach(function(e,t){var i=n.metaData.get("imagePlane",e),r=i.imagePositionPatient,o=p.distanceToSquared(r);d>o&&(d=o,f=t)}),f!==h.currentImageIdIndex&&-1!==f){var m=n.loadHandlerManager.getStartLoadHandler(),g=n.loadHandlerManager.getEndLoadHandler(),v=n.loadHandlerManager.getErrorLoadingHandler();m&&m(r);var y;y=h.preventCache===!0?t.loadImage(h.imageIds[f]):t.loadAndCacheImage(h.imageIds[f]),y.then(function(n){var i=t.getViewport(r);h.currentImageIdIndex=f,e.displayImage(r,n,i),g&&g(r)},function(e){var t=h.imageIds[f];v&&v(r,t,e)})}}}}n.stackImagePositionOffsetSynchronizer=i}($,cornerstone,cornerstoneTools),function(e,t,n){"use strict";function i(i,r,o){if(o!==r){var a=t.getEnabledElement(r).image,s=n.metaData.get("imagePlane",a.imageId),l=s.imagePositionPatient,u=n.getToolState(o,"stack"),c=u.data[0],h=Number.MAX_VALUE,d=-1;if(e.each(c.imageIds,function(e,t){var i=n.metaData.get("imagePlane",t),r=i.imagePositionPatient,o=r.distanceToSquared(l);h>o&&(h=o,d=e)}),d!==c.currentImageIdIndex){var f=n.loadHandlerManager.getStartLoadHandler(),p=n.loadHandlerManager.getEndLoadHandler(),m=n.loadHandlerManager.getErrorLoadingHandler();if(f&&f(o),-1!==d){var g;g=c.preventCache===!0?t.loadImage(c.imageIds[d]):t.loadAndCacheImage(c.imageIds[d]),g.then(function(e){var n=t.getViewport(o);c.currentImageIdIndex=d,i.displayImage(o,e,n),p&&p(o)},function(e){var t=c.imageIds[d];m&&m(o,t,e)})}}}}n.stackImagePositionSynchronizer=i}($,cornerstone,cornerstoneTools),function(e,t,n){"use strict";function i(e,i,r,o){if(i!==r&&o&&o.direction){var a=n.getToolState(r,"stack"),s=a.data[0],l=s.currentImageIdIndex+o.direction;if(l=Math.min(Math.max(l,0),s.imageIds.length-1),s.currentImageIdIndex!==l){var u=n.loadHandlerManager.getStartLoadHandler(),c=n.loadHandlerManager.getEndLoadHandler(),h=n.loadHandlerManager.getErrorLoadingHandler();u&&u(r);var d;d=s.preventCache===!0?t.loadImage(s.imageIds[l]):t.loadAndCacheImage(s.imageIds[l]),d.then(function(n){var i=t.getViewport(r);s.currentImageIdIndex=l,e.displayImage(r,n,i),c&&c(r)},function(e){var t=s.imageIds[l];h&&h(r,t,e)})}}}n.stackScrollSynchronizer=i}($,cornerstone,cornerstoneTools),function(e,t,n){"use strict";function i(i,r){function o(e,t){u.length&&c.length&&(h=!0,c.forEach(function(n){var i=c.indexOf(n);if(-1!==i){var r=d.imageIds.targetElements[i],o=u.indexOf(e);if(-1!==o){var a,s=d.imageIds.sourceElements[o];a=s===r?0:d.distances[s][r],f(l,e,n,t,a)}}}),h=!1)}function a(e,t){h!==!0&&o(e.currentTarget,t)}function s(e,t){var n=t.element;l.remove(n)}var l=this,u=[],c=[],h=!1,d={},f=r;this.setHandler=function(e){f=e},this.getHandler=function(){return f},this.getDistances=function(){u.length&&c.length&&(d.distances={},d.imageIds={sourceElements:[],targetElements:[]},u.forEach(function(e){var i=t.getEnabledElement(e);if(i&&i.image){var r=i.image.imageId,o=n.metaData.get("imagePlane",r);if(o&&o.imagePositionPatient){var a=o.imagePositionPatient;d.hasOwnProperty(i)||(d.distances[r]={},d.imageIds.sourceElements.push(r),c.forEach(function(i){var o=t.getEnabledElement(i);if(o&&o.image){var s=o.image.imageId;if(d.imageIds.targetElements.push(s),e!==i&&r!==s&&!d.distances[r].hasOwnProperty(s)){var l=n.metaData.get("imagePlane",s);if(l&&l.imagePositionPatient){var u=l.imagePositionPatient;d.distances[r][s]=u.clone().sub(a)}}}}),Object.keys(d.distances[r]).length||delete d.distances[r])}}}))},this.addSource=function(t){var n=u.indexOf(t);-1===n&&(u.push(t),e(t).on(i,a),l.getDistances(),l.updateDisableHandlers())},this.addTarget=function(e){var t=c.indexOf(e);-1===t&&(c.push(e),l.getDistances(),f(l,e,e,0),l.updateDisableHandlers())},this.add=function(e){l.addSource(e),l.addTarget(e)},this.removeSource=function(t){var n=u.indexOf(t);-1!==n&&(u.splice(n,1),e(t).off(i,a),l.getDistances(),o(t),l.updateDisableHandlers())},this.removeTarget=function(e){var t=c.indexOf(e);-1!==t&&(c.splice(t,1),l.getDistances(),f(l,e,e,0),l.updateDisableHandlers())},this.remove=function(e){l.removeTarget(e),l.removeSource(e)},this.getSourceElements=function(){return u},this.getTargetElements=function(){return c},this.displayImage=function(e,n,i){h=!0,t.displayImage(e,n,i),h=!1},this.setViewport=function(e,n){h=!0,t.setViewport(e,n),h=!1},this.updateDisableHandlers=function(){var t=e.unique(u.concat(c));t.forEach(function(t){e(t).off("CornerstoneElementDisabled",s),e(t).on("CornerstoneElementDisabled",s)})},this.destroy=function(){var t=e.unique(u.concat(c));t.forEach(function(e){l.remove(e)})}}n.Synchronizer=i}($,cornerstone,cornerstoneTools),function(e,t,n){"use strict";function i(e,n,i){i!==n&&t.updateImage(i)}n.updateImageSynchronizer=i}($,cornerstone,cornerstoneTools),function(e,t,n){"use strict";function i(e,n,i){if(i!==n){var r=t.getViewport(n),o=t.getViewport(i);o.voi.windowWidth===r.voi.windowWidth&&o.voi.windowCenter===r.voi.windowCenter&&o.invert===r.invert||(o.voi.windowWidth=r.voi.windowWidth,o.voi.windowCenter=r.voi.windowCenter,o.invert=r.invert,e.setViewport(i,o))}}n.wwwcSynchronizer=i}($,cornerstone,cornerstoneTools),function(e,t,n){"use strict";function i(e){var n=[];e.timeSeries.stacks.forEach(function(i){var r;r=i.preventCache===!0?t.loadImage(i.imageIds[e.imageIdIndex]):t.loadAndCacheImage(i.imageIds[e.imageIdIndex]),r.then(function(t){var i=Math.round(e.handles.end.x)+Math.round(e.handles.end.y)*t.width,r=t.getPixelData()[i];n.push(r)})}),e.lineSample.set(n)}function r(e){var t=n.getToolState(e.element,"timeSeries");if(void 0!==t&&void 0!==t.data&&0!==t.data.length){var r=t.data[0],o={timeSeries:r,lineSample:new n.LineSampleMeasurement,imageIdIndex:r.stacks[r.currentStackIndex].currentImageIdIndex,visible:!0,handles:{end:{x:e.currentPoints.image.x,y:e.currentPoints.image.y,highlight:!0,active:!0}}};return i(o),n.MeasurementManager.add(o),o}}function o(e,i){var r=n.getToolState(e.currentTarget,a);if(void 0!==r){var o=i.canvasContext.canvas.getContext("2d");t.setToPixelCoordinateSystem(i.enabledElement,o);for(var s="white",l=0;l<r.data.length;l++){o.save();var u=r.data[l];o.beginPath(),n.drawHandles(o,i,u.handles,s),o.stroke();var c=n.setContextToDisplayFontSize(i.enabledElement,i.canvasContext,15);o.font=""+c.fontSize+"px Arial";var h=Math.round(u.handles.end.x),d=Math.round(u.handles.end.y),f=u.handles.end.x+3,p=u.handles.end.y-3;o.fillStyle=s,o.fillText(""+h+","+d,f,p),o.restore()}}}var a="probe4D";n.probeTool4D=n.mouseButtonTool({createNewMeasurement:r,onImageRendered:o,toolType:a})}($,cornerstone,cornerstoneTools),function(e,t,n){"use strict";function i(e,i,r){var o=n.getToolState(e,"timeSeries");if(void 0!==o&&void 0!==o.data&&0!==o.data.length){var a=o.data[0],s=a.stacks[a.currentStackIndex],l=s.currentImageIdIndex,u=a.currentStackIndex+i;if(r?(u>=a.stacks.length&&(u=0),0>u&&(u=a.stacks.length-1)):(u=Math.min(a.stacks.length-1,u),u=Math.max(0,u)),u!==a.currentStackIndex){var c=t.getViewport(e),h=a.stacks[u],d=n.loadHandlerManager.getStartLoadHandler(),f=n.loadHandlerManager.getEndLoadHandler(),p=n.loadHandlerManager.getErrorLoadingHandler();d&&d(e);var m;m=h.preventCache===!0?t.loadImage(h.imageIds[l]):t.loadAndCacheImage(h.imageIds[l]),m.then(function(n){a.currentImageIdIndex!==l&&(h.currentImageIdIndex=l,a.currentStackIndex=u,t.displayImage(e,n,c),f&&f(e))},function(t){var n=h.imageIds[l];p&&p(e,n,t)})}}}n.incrementTimePoint=i}($,cornerstone,cornerstoneTools),function(e,t,n){"use strict";function i(e,t){if(void 0===e)throw"playClip: element must not be undefined";void 0===t&&(t=30);var i=n.getToolState(e,"timeSeries");if(void 0!==i&&void 0!==i.data&&0!==i.data.length){var r,a=n.getToolState(e,o);void 0===a||0===a.data.length?(r={intervalId:void 0,framesPerSecond:t,lastFrameTimeStamp:void 0,frameRate:0},n.addToolState(e,o,r)):(r=a.data[0],r.framesPerSecond=t),void 0===r.intervalId&&(r.intervalId=setInterval(function(){r.framesPerSecond>0?n.incrementTimePoint(e,1,!0):n.incrementTimePoint(e,-1,!0)},1e3/Math.abs(r.framesPerSecond)))}}function r(e){var t,i=n.getToolState(e,o);void 0!==i&&0!==i.data.length&&(t=i.data[0],clearInterval(t.intervalId),t.intervalId=void 0)}var o="timeSeriesPlayer";n.timeSeriesPlayer={start:i,stop:r}}($,cornerstone,cornerstoneTools),function(e,t,n){"use strict";function i(t,n){e(n.element).off("CornerstoneToolsMouseDrag",o),e(n.element).off("CornerstoneToolsMouseUp",i),e(n.element).off("CornerstoneToolsMouseClick",i)}function r(t,r){if(n.isMouseButtonEnabled(r.which,t.data.mouseButtonMask)){var a={deltaY:0,options:t.data.options};return e(r.element).on("CornerstoneToolsMouseDrag",a,o),e(r.element).on("CornerstoneToolsMouseUp",i),e(r.element).on("CornerstoneToolsMouseClick",i),t.stopImmediatePropagation(),!1}}function o(t,i){t.data.deltaY+=i.deltaPoints.page.y;var r=n.getToolState(i.element,"timeSeries");if(void 0!==r&&void 0!==r.data&&0!==r.data.length){var o=r.data[0],a=e(i.element).height()/o.stacks.length;if(void 0!==t.data.options&&void 0!==t.data.options.timeSeriesScrollSpeed&&(a=t.data.options.timeSeriesScrollSpeed),t.data.deltaY>=a||t.data.deltaY<=-a){var s=Math.round(t.data.deltaY/a),l=t.data.deltaY%a;n.incrementTimePoint(i.element,s),t.data.deltaY=l}return!1}}function a(e,t){var i=-t.direction;n.incrementTimePoint(t.element,i)}function s(e){var t=e.originalEvent.detail,i={deltaY:0};i.deltaY+=t.deltaPoints.page.y;var r=n.getToolState(t.element,"stack");if(void 0!==r&&void 0!==r.data&&0!==r.data.length){if(i.deltaY>=3||i.deltaY<=-3){var o=i.deltaY/3,a=i.deltaY%3;n.setTimePoint(i.element,o),i.deltaY=a}return!1}}n.timeSeriesScroll=n.simpleMouseButtonTool(r),n.timeSeriesScrollWheel=n.mouseWheelTool(a),n.timeSeriesScrollTouchDrag=n.touchDragTool(s)}($,cornerstone,cornerstoneTools),function(e,t,n){"use strict";function i(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}n.roundToDecimal=i}($,cornerstone,cornerstoneTools),function(e){"use strict";function t(e,t){if(void 0!==e.data&&"PT"===e.data.string("x00080060")){var n=t*e.slope+e.intercept,i=e.data.floatString("x00101030");if(void 0!==i){var r=e.data.elements.x00540016;if(void 0!==r){r=r.items[0].dataSet;var o=r.time("x00181072"),a=r.floatString("x00181074"),s=r.floatString("x00181075"),l=e.data.time("x00080032");if(o&&a&&s&&l){var u=l.fractionalSeconds+l.seconds+60*l.minutes+60*l.hours*60,c=o.fractionalSeconds+o.seconds+60*o.minutes+60*o.hours*60,h=u-c,d=a*Math.exp(-h*Math.log(2)/s),f=n*i/d*1e3;return f}}}}}e.calculateSUV=t}(cornerstoneTools),function(e,t,n,i){"use strict";function r(e){var t=n.point.copy(e.page),i=n.point.copy(e.image),r=n.point.copy(e.client),o=n.point.copy(e.canvas);return{page:t,image:i,client:r,canvas:o}}i.copyPoints=r}($,cornerstone,cornerstoneMath,cornerstoneTools),function(e){"use strict";function t(e,t,n,i,r){var o=10,a=Math.atan2(n.y-t.y,n.x-t.x);e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(n.x,n.y),e.strokeStyle=i,e.lineWidth=r,e.stroke(),e.beginPath(),e.moveTo(n.x,n.y),e.lineTo(n.x-o*Math.cos(a-Math.PI/7),n.y-o*Math.sin(a-Math.PI/7)),e.lineTo(n.x-o*Math.cos(a+Math.PI/7),n.y-o*Math.sin(a+Math.PI/7)),e.lineTo(n.x,n.y),e.lineTo(n.x-o*Math.cos(a-Math.PI/7),n.y-o*Math.sin(a-Math.PI/7)),e.strokeStyle=i,e.lineWidth=r,e.stroke(),e.fillStyle=i,e.fill()}e.drawArrow=t}(cornerstoneTools),function(e){"use strict";function t(e,t,n,i,r){var o=.5522848,a=i/2*o,s=r/2*o,l=t+i,u=n+r,c=t+i/2,h=n+r/2;e.beginPath(),e.moveTo(t,h),e.bezierCurveTo(t,h-s,c-a,n,c,n),e.bezierCurveTo(c+a,n,l,h-s,l,h),e.bezierCurveTo(l,h+s,c+a,u,c,u),e.bezierCurveTo(c-a,u,t,h+s,t,h),e.closePath(),e.stroke()}e.drawEllipse=t}(cornerstoneTools),function(e){"use strict";function t(t,n,i,r,o){"[object Array]"!==Object.prototype.toString.call(n)&&(n=[n]);var a=5,s=e.textStyle.getFont(),l=e.textStyle.getFontSize(),u=e.textStyle.getBackgroundColor();t.save(),t.font=s,t.textBaseline="top",t.strokeStyle=o;var c=0;n.forEach(function(e){var n=t.measureText(e).width;c=Math.max(c,n)}),t.fillStyle=u;var h={left:i,top:r,width:c+2*a,height:n.length*(l+2*a)};return t.fillRect(h.left,h.top,h.width,h.height),n.forEach(function(e,n){t.fillStyle=o,t.fillText(e,i+a,r+l*n+a)}),t.restore(),h}e.drawTextBox=t}(cornerstoneTools),function(e,t){"use strict";function n(t,n,i,r,o){if(!t)throw"getLuminance: parameter element must not be undefined";n=Math.round(n),i=Math.round(i);var a,s,l,u=e.getEnabledElement(t),c=u.image,h=[],d=0,f=c.getPixelData();if(c.color)for(s=0;o>s;s++)for(l=0;r>l;l++){a=4*((s+i)*c.columns+(l+n));var p=f[a],m=f[a+1],g=f[a+2];h[d++]=.2126*p+.7152*m+.0722*g}else for(s=0;o>s;s++)for(l=0;r>l;l++)a=(s+i)*c.columns+(l+n),h[d++]=f[a]*c.slope+c.intercept;return h}t.getLuminance=n}(cornerstone,cornerstoneTools),function(e,t){"use strict";function n(){var e,t=navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?(e=/\brv[ :]+(\d+)/g.exec(t)||[],"IE "+(e[1]||"")):"Chrome"===n[1]&&(e=t.match(/\b(OPR|Edge)\/(\d+)/),null!==e)?e.slice(1).join(" ").replace("OPR","Opera"):(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!==(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),n.join(" "))}function i(){var e=t.stackPrefetch.getConfiguration();if(e.maxSimultaneousRequests)return e.maxSimultaneousRequests;var i=n(),o=i.split(" "),a=o[0],s=o[1],l=r[a];return l?l[s]?l[s]:l["default"]:r["default"]}var r={"default":6,IE:{9:6,10:8,"default":8},Firefox:{"default":6},Opera:{10:8,11:6,12:6,"default":6},Chrome:{"default":6},Safari:{"default":4}};t.getMaxSimultaneousRequests=i,t.getBrowserInfo=n}(cornerstone,cornerstoneTools),function(e,t){"use strict";function n(t,n,i,r,o){if(!t)throw"getRGBPixels: parameter element must not be undefined";n=Math.round(n),i=Math.round(i);var a,s,l,u=e.getEnabledElement(t),c=[],h=0,d=u.image.getPixelData();if(u.image.color)for(s=0;o>s;s++)for(l=0;r>l;l++){a=4*((s+i)*u.image.columns+(l+n));var f=d[a],p=d[a+1],m=d[a+2],g=d[a+3];c[h++]=f,c[h++]=p,c[h++]=m,c[h++]=g}return c}t.getRGBPixels=n}(cornerstone,cornerstoneTools),function(e,t){"use strict";function n(e,t){var n=1<<e-1;return 0!==(t&n)}t.isMouseButtonEnabled=n}(cornerstone,cornerstoneTools),function(e,t,n){"use strict";function i(e){return e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1,!1}n.pauseEvent=i}($,cornerstone,cornerstoneTools),function(e,t,n){"use strict";function i(e,t){var n=e.clone().sub(t.imagePositionPatient),i=t.rowCosines.dot(n)/t.columnPixelSpacing,r=t.columnCosines.dot(n)/t.rowPixelSpacing;return{x:i,y:r}}function r(e,t){var n=t.rowCosines.clone().multiplyScalar(e.x);n.multiplyScalar(t.columnPixelSpacing);var i=t.columnCosines.clone().multiplyScalar(e.y);i.multiplyScalar(t.rowPixelSpacing);var r=n.add(i);return r.add(t.imagePositionPatient),r}function o(e){var t=r({x:0,y:0},e),n=r({x:e.columns,y:0},e),i=r({x:0,y:e.rows},e),o=r({x:e.columns,y:e.rows},e),a={top:new cornerstoneMath.Line3(t,n),left:new cornerstoneMath.Line3(t,i),right:new cornerstoneMath.Line3(n,o),bottom:new cornerstoneMath.Line3(i,o)};return a}function a(e,t){var n=[];return Object.keys(t).forEach(function(i){var r=t[i],o=e.intersectLine(r);o&&n.push(o)}),n}function s(e,t){var n=e.rowCosines.clone().cross(e.columnCosines),i=new cornerstoneMath.Plane;i.setFromNormalAndCoplanarPoint(n,e.imagePositionPatient);var s=t.rowCosines.clone().cross(t.columnCosines),l=new cornerstoneMath.Plane;l.setFromNormalAndCoplanarPoint(s,t.imagePositionPatient);var u=l.clone().intersectPlane(i),c=u.origin,h=u.direction,d=r({x:t.columns,y:t.rows},t),f=t.imagePositionPatient.distanceTo(d),p=new cornerstoneMath.Line3;p.start=c,p.end=c.clone().add(h.multiplyScalar(f));var m=o(t),g=a(p,m);if(2===g.length){var v={start:g[0],end:g[1]};return v}}n.projectPatientPointToImagePlane=i,n.imagePointToPatientPoint=r,n.planePlaneIntersection=s}($,cornerstone,cornerstoneTools),function(e,t){"use strict";function n(e,n){var i=t.getToolState(e,"stack");if(void 0!==i&&void 0!==i.data&&0!==i.data.length){var r=i.data[0],o=r.currentImageIdIndex+n;o=Math.min(r.imageIds.length-1,o),o=Math.max(0,o),t.scrollToIndex(e,o)}}t.scroll=n}(cornerstone,cornerstoneTools),function(e,t){"use strict";function n(n,i){function r(t){s.currentImageIdIndex===i&&(e.displayImage(n,t,h),u&&u(n))}function o(e){var t=s.imageIds[i];c&&c(n,t,e)}var a=t.getToolState(n,"stack");if(void 0!==a&&void 0!==a.data&&0!==a.data.length){var s=a.data[0];0>i&&(i+=s.imageIds.length);var l=t.loadHandlerManager.getStartLoadHandler(),u=t.loadHandlerManager.getEndLoadHandler(),c=t.loadHandlerManager.getErrorLoadingHandler(),h=e.getViewport(n);if(i!==s.currentImageIdIndex){l&&l(n);var d={newImageIdIndex:i,direction:i-s.currentImageIdIndex};s.currentImageIdIndex=i;var f=s.imageIds[i],p=t.stackScroll.getConfiguration();if(p&&p.retryLoadOnScroll===!0){var m=e.imageCache.getImagePromise(f);m&&"rejected"===m.state()&&e.imageCache.removeImagePromise(f)}var g=t.requestPoolManager,v="interaction";
t.requestPoolManager.clearRequestStack(v);var y=!!s.preventCache;g.addRequest(n,f,v,y,r,o),g.startGrabbing(),$(n).trigger("CornerstoneStackScroll",d)}}}t.scrollToIndex=n,t.loadHandlers={}}(cornerstone,cornerstoneTools),function(e,t){"use strict";function n(t,n,i){var r=.1;e.setToPixelCoordinateSystem(t,n,r);var o=i/t.viewport.scale/r,a=i/t.viewport.scale/r;return{fontSize:o,lineHeight:a,fontScale:r}}t.setContextToDisplayFontSize=n}(cornerstone,cornerstoneTools);var JpegImage=function(){function e(){this._src=null,this._parser=new PDFJS.JpegImage,this.onload=null}return e.prototype={get src(){return this._src},set src(e){this.load(e)},get width(){return this._parser.width},get height(){return this._parser.height},load:function(e){this._src=e,loadURLasArrayBuffer(e,function(e){this.parse(new Uint8Array(e)),this.onload&&this.onload()}.bind(this))},parse:function(e){this._parser.parse(e)},getData:function(e,t){return this._parser.getData(e,t,!1)},copyToImageData:function(e){if(2===this._parser.numComponents||this._parser.numComponents>4)throw new Error("Unsupported amount of components");var t,n,i=e.width,r=e.height,o=i*r*4,a=e.data;if(1!==this._parser.numComponents){var s=this._parser.getData(i,r,!0);for(t=0,n=0;o>t;)a[t++]=s[n++],a[t++]=s[n++],a[t++]=s[n++],a[t++]=255}else{var l=this._parser.getData(i,r,!1);for(t=0,n=0;o>t;){var u=l[n++];a[t++]=u,a[t++]=u,a[t++]=u,a[t++]=255}}}},e}();"function"==typeof exports&&(module.exports={JpegImage:JpegImage,JpegDecoder:JpegDecoder,JpxDecoder:JpxDecoder,Jbig2Decoder:Jbig2Decoder});var PDFJS;!function(e){"use strict";function t(e){for(var t=1,n=0;e>t;)t<<=1,n++;return n}function n(e,t){return e[t]<<24>>24}function i(e,t){return e[t]<<8|e[t+1]}function r(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function o(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!1}),n}var a=function(){function e(){}function t(e,t){for(var n,i,r=0,o=[],a=16;a>0&&!e[a-1];)a--;o.push({children:[],index:0});var s,l=o[0];for(n=0;a>n;n++){for(i=0;i<e[n];i++){for(l=o.pop(),l.children[l.index]=t[r];l.index>0;)l=o.pop();for(l.index++,o.push(l);o.length<=n;)o.push(s={children:[],index:0}),l.children[l.index]=s.children,l=s;r++}a>n+1&&(o.push(s={children:[],index:0}),l.children[l.index]=s.children,l=s)}return o[0].children}function n(e,t,n){return 64*((e.blocksPerLine+1)*t+n)}function i(e,t,i,r,o,a,l,u,c){function h(){if(A>0)return A--,P>>A&1;if(P=e[t++],255===P){var n=e[t++];if(n)throw"unexpected marker: "+(P<<8|n).toString(16)}return A=7,P>>>7}function d(e){for(var t=e;;){if(t=t[h()],"number"==typeof t)return t;if("object"!=typeof t)throw"invalid huffman sequence"}}function f(e){for(var t=0;e>0;)t=t<<1|h(),e--;return t}function p(e){if(1===e)return 1===h()?1:-1;var t=f(e);return t>=1<<e-1?t:t+(-1<<e)+1}function m(e,t){var n=d(e.huffmanTableDC),i=0===n?0:p(n);e.blockData[t]=e.pred+=i;for(var r=1;64>r;){var o=d(e.huffmanTableAC),a=15&o,l=o>>4;if(0!==a){r+=l;var u=s[r];e.blockData[t+u]=p(a),r++}else{if(15>l)break;r+=16}}}function g(e,t){var n=d(e.huffmanTableDC),i=0===n?0:p(n)<<c;e.blockData[t]=e.pred+=i}function v(e,t){e.blockData[t]|=h()<<c}function y(e,t){if(O>0)return void O--;for(var n=a,i=l;i>=n;){var r=d(e.huffmanTableAC),o=15&r,u=r>>4;if(0!==o){n+=u;var h=s[n];e.blockData[t+h]=p(o)*(1<<c),n++}else{if(15>u){O=f(u)+(1<<u)-1;break}n+=16}}}function b(e,t){for(var n,i,r=a,o=l,u=0;o>=r;){var m=s[r];switch(N){case 0:if(i=d(e.huffmanTableAC),n=15&i,u=i>>4,0===n)15>u?(O=f(u)+(1<<u),N=4):(u=16,N=1);else{if(1!==n)throw"invalid ACn encoding";$=p(n),N=u?2:3}continue;case 1:case 2:e.blockData[t+m]?e.blockData[t+m]+=h()<<c:(u--,0===u&&(N=2===N?3:0));break;case 3:e.blockData[t+m]?e.blockData[t+m]+=h()<<c:(e.blockData[t+m]=$<<c,N=0);break;case 4:e.blockData[t+m]&&(e.blockData[t+m]+=h()<<c)}r++}4===N&&(O--,0===O&&(N=0))}function w(e,t,i,r,o){var a=i/D|0,s=i%D,l=a*e.v+r,u=s*e.h+o,c=n(e,l,u);t(e,c)}function x(e,t,i){var r=i/e.blocksPerLine|0,o=i%e.blocksPerLine,a=n(e,r,o);t(e,a)}var $,C,T,_,k,S,M,D=(i.precision,i.samplesPerLine,i.scanLines,i.mcusPerLine),I=i.progressive,E=(i.maxH,i.maxV,t),P=0,A=0,O=0,N=0,R=r.length;M=I?0===a?0===u?g:v:0===u?y:b:m;var H,z,F=0;z=1===R?r[0].blocksPerLine*r[0].blocksPerColumn:D*i.mcusPerColumn,o||(o=z);for(var L,j;z>F;){for(T=0;R>T;T++)r[T].pred=0;if(O=0,1===R)for(C=r[0],S=0;o>S;S++)x(C,M,F),F++;else for(S=0;o>S;S++){for(T=0;R>T;T++)for(C=r[T],L=C.h,j=C.v,_=0;j>_;_++)for(k=0;L>k;k++)w(C,M,F,_,k);F++}if(A=0,H=e[t]<<8|e[t+1],65280>=H)throw"marker was not found";if(!(H>=65488&&65495>=H))break;t+=2}return t-E}function r(e,t,n){for(var i,r,o,a,s,g,v,y,b,w,x,$,C,T,_,k,S,M=e.quantizationTable,D=e.blockData,I=0;64>I;I+=8)b=D[t+I],w=D[t+I+1],x=D[t+I+2],$=D[t+I+3],C=D[t+I+4],T=D[t+I+5],_=D[t+I+6],k=D[t+I+7],b*=M[I],0!==(w|x|$|C|T|_|k)?(w*=M[I+1],x*=M[I+2],$*=M[I+3],C*=M[I+4],T*=M[I+5],_*=M[I+6],k*=M[I+7],i=p*b+128>>8,r=p*C+128>>8,o=x,a=_,s=m*(w-k)+128>>8,y=m*(w+k)+128>>8,g=$<<4,v=T<<4,i=i+r+1>>1,r=i-r,S=o*f+a*d+128>>8,o=o*d-a*f+128>>8,a=S,s=s+v+1>>1,v=s-v,y=y+g+1>>1,g=y-g,i=i+a+1>>1,a=i-a,r=r+o+1>>1,o=r-o,S=s*h+y*c+2048>>12,s=s*c-y*h+2048>>12,y=S,S=g*u+v*l+2048>>12,g=g*l-v*u+2048>>12,v=S,n[I]=i+y,n[I+7]=i-y,n[I+1]=r+v,n[I+6]=r-v,n[I+2]=o+g,n[I+5]=o-g,n[I+3]=a+s,n[I+4]=a-s):(S=p*b+512>>10,n[I]=S,n[I+1]=S,n[I+2]=S,n[I+3]=S,n[I+4]=S,n[I+5]=S,n[I+6]=S,n[I+7]=S);for(var E=0;8>E;++E)b=n[E],w=n[E+8],x=n[E+16],$=n[E+24],C=n[E+32],T=n[E+40],_=n[E+48],k=n[E+56],0!==(w|x|$|C|T|_|k)?(i=p*b+2048>>12,r=p*C+2048>>12,o=x,a=_,s=m*(w-k)+2048>>12,y=m*(w+k)+2048>>12,g=$,v=T,i=(i+r+1>>1)+4112,r=i-r,S=o*f+a*d+2048>>12,o=o*d-a*f+2048>>12,a=S,s=s+v+1>>1,v=s-v,y=y+g+1>>1,g=y-g,i=i+a+1>>1,a=i-a,r=r+o+1>>1,o=r-o,S=s*h+y*c+2048>>12,s=s*c-y*h+2048>>12,y=S,S=g*u+v*l+2048>>12,g=g*l-v*u+2048>>12,v=S,b=i+y,k=i-y,w=r+v,_=r-v,x=o+g,T=o-g,$=a+s,C=a-s,b=16>b?0:b>=4080?255:b>>4,w=16>w?0:w>=4080?255:w>>4,x=16>x?0:x>=4080?255:x>>4,$=16>$?0:$>=4080?255:$>>4,C=16>C?0:C>=4080?255:C>>4,T=16>T?0:T>=4080?255:T>>4,_=16>_?0:_>=4080?255:_>>4,k=16>k?0:k>=4080?255:k>>4,D[t+E]=b,D[t+E+8]=w,D[t+E+16]=x,D[t+E+24]=$,D[t+E+32]=C,D[t+E+40]=T,D[t+E+48]=_,D[t+E+56]=k):(S=p*b+8192>>14,S=-2040>S?0:S>=2024?255:S+2056>>4,D[t+E]=S,D[t+E+8]=S,D[t+E+16]=S,D[t+E+24]=S,D[t+E+32]=S,D[t+E+40]=S,D[t+E+48]=S,D[t+E+56]=S)}function o(e,t){for(var i=t.blocksPerLine,o=t.blocksPerColumn,a=new Int16Array(64),s=0;o>s;s++)for(var l=0;i>l;l++){var u=n(t,s,l);r(t,u,a)}return t.blockData}function a(e){return 0>=e?0:e>=255?255:e}var s=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),l=4017,u=799,c=3406,h=2276,d=1567,f=3784,p=5793,m=2896;return e.prototype={parse:function(e){function n(){var t=e[c]<<8|e[c+1];return c+=2,t}function r(){var t=n(),i=e.subarray(c,c+t-2);return c+=i.length,i}function a(e){for(var t=Math.ceil(e.samplesPerLine/8/e.maxH),n=Math.ceil(e.scanLines/8/e.maxV),i=0;i<e.components.length;i++){z=e.components[i];var r=Math.ceil(Math.ceil(e.samplesPerLine/8)*z.h/e.maxH),o=Math.ceil(Math.ceil(e.scanLines/8)*z.v/e.maxV),a=t*z.h,s=n*z.v,l=64*s*(a+1);z.blockData=new Int16Array(l),z.blocksPerLine=r,z.blocksPerColumn=o}e.mcusPerLine=t,e.mcusPerColumn=n}var l,u,c=0,h=(e.length,null),d=null,f=[],p=[],m=[],g=n();if(65496!==g)throw"SOI not found";for(g=n();65497!==g;){var v,y,b;switch(g){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var w=r();65504===g&&74===w[0]&&70===w[1]&&73===w[2]&&70===w[3]&&0===w[4]&&(h={version:{major:w[5],minor:w[6]},densityUnits:w[7],xDensity:w[8]<<8|w[9],yDensity:w[10]<<8|w[11],thumbWidth:w[12],thumbHeight:w[13],thumbData:w.subarray(14,14+3*w[12]*w[13])}),65518===g&&65===w[0]&&100===w[1]&&111===w[2]&&98===w[3]&&101===w[4]&&0===w[5]&&(d={version:w[6],flags0:w[7]<<8|w[8],flags1:w[9]<<8|w[10],transformCode:w[11]});break;case 65499:for(var x,$=n(),C=$+c-2;C>c;){var T=e[c++],_=new Uint16Array(64);if(T>>4===0)for(y=0;64>y;y++)x=s[y],_[x]=e[c++];else{if(T>>4!==1)throw"DQT: invalid table spec";for(y=0;64>y;y++)x=s[y],_[x]=n()}f[15&T]=_}break;case 65472:case 65473:case 65474:if(l)throw"Only single frame JPEGs supported";n(),l={},l.extended=65473===g,l.progressive=65474===g,l.precision=e[c++],l.scanLines=n(),l.samplesPerLine=n(),l.components=[],l.componentIds={};var k,S=e[c++],M=0,D=0;for(v=0;S>v;v++){k=e[c];var I=e[c+1]>>4,E=15&e[c+1];I>M&&(M=I),E>D&&(D=E);var P=e[c+2];b=l.components.push({h:I,v:E,quantizationTable:f[P]}),l.componentIds[k]=b-1,c+=3}l.maxH=M,l.maxV=D,a(l);break;case 65476:var A=n();for(v=2;A>v;){var O=e[c++],N=new Uint8Array(16),R=0;for(y=0;16>y;y++,c++)R+=N[y]=e[c];var H=new Uint8Array(R);for(y=0;R>y;y++,c++)H[y]=e[c];v+=17+R,(O>>4===0?m:p)[15&O]=t(N,H)}break;case 65501:n(),u=n();break;case 65498:var z,F=(n(),e[c++]),L=[];for(v=0;F>v;v++){var j=l.componentIds[e[c++]];z=l.components[j];var V=e[c++];z.huffmanTableDC=m[V>>4],z.huffmanTableAC=p[15&V],L.push(z)}var W=e[c++],q=e[c++],B=e[c++],U=i(e,c,l,L,u,W,q,B>>4,15&B);c+=U;break;case 65535:255!==e[c]&&c--;break;default:if(255===e[c-3]&&e[c-2]>=192&&e[c-2]<=254){c-=3;break}throw"unknown JPEG marker "+g.toString(16)}g=n()}for(this.width=l.samplesPerLine,this.height=l.scanLines,this.jfif=h,this.adobe=d,this.components=[],v=0;v<l.components.length;v++)z=l.components[v],this.components.push({output:o(l,z),scaleX:z.h/l.maxH,scaleY:z.v/l.maxV,blocksPerLine:z.blocksPerLine,blocksPerColumn:z.blocksPerColumn});this.numComponents=this.components.length},_getLinearizedBlockData:function(e,t){var n,i,r,o,a,s,l,u,c,h,d,f=this.width/e,p=this.height/t,m=0,g=this.components.length,v=e*t*g,y=new Uint8Array(v),b=new Uint32Array(e),w=4294967288;for(l=0;g>l;l++){for(n=this.components[l],i=n.scaleX*f,r=n.scaleY*p,m=l,d=n.output,o=n.blocksPerLine+1<<3,a=0;e>a;a++)u=0|a*i,b[a]=(u&w)<<3|7&u;for(s=0;t>s;s++)for(u=0|s*r,h=o*(u&w)|(7&u)<<3,a=0;e>a;a++)y[m]=d[h+b[a]],m+=g}var x=this.decodeTransform;if(x)for(l=0;v>l;)for(u=0,c=0;g>u;u++,l++,c+=2)y[l]=(y[l]*x[c]>>8)+x[c+1];return y},_isColorConversionNeeded:function(){return this.adobe&&this.adobe.transformCode?!0:3===this.numComponents},_convertYccToRgb:function(e){for(var t,n,i,r=0,o=e.length;o>r;r+=3)t=e[r],n=e[r+1],i=e[r+2],e[r]=a(t-179.456+1.402*i),e[r+1]=a(t+135.459-.344*n-.714*i),e[r+2]=a(t-226.816+1.772*n);return e},_convertYcckToRgb:function(e){for(var t,n,i,r,o=0,s=0,l=e.length;l>s;s+=4){t=e[s],n=e[s+1],i=e[s+2],r=e[s+3];var u=-122.67195406894+n*(-660635669420364e-19*n+.000437130475926232*i-54080610064599e-18*t+.00048449797120281*r-.154362151871126)+i*(-.000957964378445773*i+.000817076911346625*t-.00477271405408747*r+1.53380253221734)+t*(.000961250184130688*t-.00266257332283933*r+.48357088451265)+r*(-.000336197177618394*r+.484791561490776),c=107.268039397724+n*(219927104525741e-19*n-.000640992018297945*i+.000659397001245577*t+.000426105652938837*r-.176491792462875)+i*(-.000778269941513683*i+.00130872261408275*t+.000770482631801132*r-.151051492775562)+t*(.00126935368114843*t-.00265090189010898*r+.25802910206845)+r*(-.000318913117588328*r-.213742400323665),h=-20.810012546947+n*(-.000570115196973677*n-263409051004589e-19*i+.0020741088115012*t-.00288260236853442*r+.814272968359295)+i*(-153496057440975e-19*i-.000132689043961446*t+.000560833691242812*r-.195152027534049)+t*(.00174418132927582*t-.00255243321439347*r+.116935020465145)+r*(-.000343531996510555*r+.24165260232407);e[o++]=a(u),e[o++]=a(c),e[o++]=a(h)}return e},_convertYcckToCmyk:function(e){for(var t,n,i,r=0,o=e.length;o>r;r+=4)t=e[r],n=e[r+1],i=e[r+2],e[r]=a(434.456-t-1.402*i),e[r+1]=a(119.541-t+.344*n+.714*i),e[r+2]=a(481.816-t-1.772*n);return e},_convertCmykToRgb:function(e){for(var t,n,i,r,o=0,a=-16581375,s=1/255/255,l=0,u=e.length;u>l;l+=4){t=e[l],n=e[l+1],i=e[l+2],r=e[l+3];var c=t*(-4.387332384609988*t+54.48615194189176*n+18.82290502165302*i+212.25662451639585*r-72734.4411664936)+n*(1.7149763477362134*n-5.6096736904047315*i-17.873870861415444*r-1401.7366389350734)+i*(-2.5217340131683033*i-21.248923337353073*r+4465.541406466231)-r*(21.86122147463605*r+48317.86113160301),h=t*(8.841041422036149*t+60.118027045597366*n+6.871425592049007*i+31.159100130055922*r-20220.756542821975)+n*(-15.310361306967817*n+17.575251261109482*i+131.35250912493976*r-48691.05921601825)+i*(4.444339102852739*i+9.8632861493405*r-6341.191035517494)-r*(20.737325471181034*r+47890.15695978492),d=t*(.8842522430003296*t+8.078677503112928*n+30.89978309703729*i-.23883238689178934*r-3616.812083916688)+n*(10.49593273432072*n+63.02378494754052*i+50.606957656360734*r-28620.90484698408)+i*(.03296041114873217*i+115.60384449646641*r-49363.43385999684)-r*(22.33816807309886*r+45932.16563550634);e[o++]=c>=0?255:a>=c?0:255+c*s|0,e[o++]=h>=0?255:a>=h?0:255+h*s|0,e[o++]=d>=0?255:a>=d?0:255+d*s|0}return e},getData:function(e,t,n){if(this.numComponents>4)throw"Unsupported color mode";var i=this._getLinearizedBlockData(e,t);if(3===this.numComponents)return this._convertYccToRgb(i);if(4===this.numComponents){if(this._isColorConversionNeeded())return n?this._convertYcckToRgb(i):this._convertYcckToCmyk(i);if(n)return this._convertCmykToRgb(i)}return i}},e}(),s=function(){function e(e,t,n){this.data=e,this.bp=t,this.dataEnd=n,this.chigh=e[t],this.clow=0,this.byteIn(),this.chigh=this.chigh<<7&65535|this.clow>>9&127,this.clow=this.clow<<7&65535,this.ct-=7,this.a=32768}var t=[{qe:22017,nmps:1,nlps:1,switchFlag:1},{qe:13313,nmps:2,nlps:6,switchFlag:0},{qe:6145,nmps:3,nlps:9,switchFlag:0},{qe:2753,nmps:4,nlps:12,switchFlag:0},{qe:1313,nmps:5,nlps:29,switchFlag:0},{qe:545,nmps:38,nlps:33,switchFlag:0},{qe:22017,nmps:7,nlps:6,switchFlag:1},{qe:21505,nmps:8,nlps:14,switchFlag:0},{qe:18433,nmps:9,nlps:14,switchFlag:0},{qe:14337,nmps:10,nlps:14,switchFlag:0},{qe:12289,nmps:11,nlps:17,switchFlag:0},{qe:9217,nmps:12,nlps:18,switchFlag:0},{qe:7169,nmps:13,nlps:20,switchFlag:0},{qe:5633,nmps:29,nlps:21,switchFlag:0},{qe:22017,nmps:15,nlps:14,switchFlag:1},{qe:21505,nmps:16,nlps:14,switchFlag:0},{qe:20737,nmps:17,nlps:15,switchFlag:0},{qe:18433,nmps:18,nlps:16,switchFlag:0},{qe:14337,nmps:19,nlps:17,switchFlag:0},{qe:13313,nmps:20,nlps:18,switchFlag:0},{qe:12289,nmps:21,nlps:19,switchFlag:0},{qe:10241,nmps:22,nlps:19,switchFlag:0},{qe:9217,nmps:23,nlps:20,switchFlag:0},{qe:8705,nmps:24,nlps:21,switchFlag:0},{qe:7169,nmps:25,nlps:22,switchFlag:0},{qe:6145,nmps:26,nlps:23,switchFlag:0},{qe:5633,nmps:27,nlps:24,switchFlag:0},{qe:5121,nmps:28,nlps:25,switchFlag:0},{qe:4609,nmps:29,nlps:26,switchFlag:0},{qe:4353,nmps:30,nlps:27,switchFlag:0},{qe:2753,nmps:31,nlps:28,switchFlag:0},{qe:2497,nmps:32,nlps:29,switchFlag:0},{qe:2209,nmps:33,nlps:30,switchFlag:0},{qe:1313,nmps:34,nlps:31,switchFlag:0},{qe:1089,nmps:35,nlps:32,switchFlag:0},{qe:673,nmps:36,nlps:33,switchFlag:0},{qe:545,nmps:37,nlps:34,switchFlag:0},{qe:321,nmps:38,nlps:35,switchFlag:0},{qe:273,nmps:39,nlps:36,switchFlag:0},{qe:133,nmps:40,nlps:37,switchFlag:0},{qe:73,nmps:41,nlps:38,switchFlag:0},{qe:37,nmps:42,nlps:39,switchFlag:0},{qe:21,nmps:43,nlps:40,switchFlag:0},{qe:9,nmps:44,nlps:41,switchFlag:0},{qe:5,nmps:45,nlps:42,switchFlag:0},{qe:1,nmps:45,nlps:43,switchFlag:0},{qe:22017,nmps:46,nlps:46,switchFlag:0}];return e.prototype={byteIn:function(){var e=this.data,t=this.bp;if(255===e[t]){var n=e[t+1];n>143?(this.clow+=65280,this.ct=8):(t++,this.clow+=e[t]<<9,this.ct=7,this.bp=t)}else t++,this.clow+=t<this.dataEnd?e[t]<<8:65280,this.ct=8,this.bp=t;this.clow>65535&&(this.chigh+=this.clow>>16,this.clow&=65535)},readBit:function(e,n){var i,r=e[n]>>1,o=1&e[n],a=t[r],s=a.qe,l=this.a-s;if(this.chigh<s)s>l?(l=s,i=o,r=a.nmps):(l=s,i=1^o,1===a.switchFlag&&(o=i),r=a.nlps);else{if(this.chigh-=s,0!==(32768&l))return this.a=l,o;s>l?(i=1^o,1===a.switchFlag&&(o=i),r=a.nlps):(i=o,r=a.nmps)}do 0===this.ct&&this.byteIn(),l<<=1,this.chigh=this.chigh<<1&65535|this.clow>>15&1,this.clow=this.clow<<1&65535,this.ct--;while(0===(32768&l));return this.a=l,e[n]=r<<1|o,i}},e}(),l=function(){function e(){this.failOnCorruptedImage=!1}function n(e,t){e.x0=Math.ceil(t.XOsiz/e.XRsiz),e.x1=Math.ceil(t.Xsiz/e.XRsiz),e.y0=Math.ceil(t.YOsiz/e.YRsiz),e.y1=Math.ceil(t.Ysiz/e.YRsiz),e.width=e.x1-e.x0,e.height=e.y1-e.y0}function o(e,t){for(var n,i=e.SIZ,r=[],o=Math.ceil((i.Xsiz-i.XTOsiz)/i.XTsiz),a=Math.ceil((i.Ysiz-i.YTOsiz)/i.YTsiz),s=0;a>s;s++)for(var l=0;o>l;l++)n={},n.tx0=Math.max(i.XTOsiz+l*i.XTsiz,i.XOsiz),n.ty0=Math.max(i.YTOsiz+s*i.YTsiz,i.YOsiz),n.tx1=Math.min(i.XTOsiz+(l+1)*i.XTsiz,i.Xsiz),n.ty1=Math.min(i.YTOsiz+(s+1)*i.YTsiz,i.Ysiz),n.width=n.tx1-n.tx0,n.height=n.ty1-n.ty0,n.components=[],r.push(n);e.tiles=r;for(var u=i.Csiz,c=0,h=u;h>c;c++)for(var d=t[c],f=0,p=r.length;p>f;f++){var m={};n=r[f],m.tcx0=Math.ceil(n.tx0/d.XRsiz),m.tcy0=Math.ceil(n.ty0/d.YRsiz),m.tcx1=Math.ceil(n.tx1/d.XRsiz),m.tcy1=Math.ceil(n.ty1/d.YRsiz),m.width=m.tcx1-m.tcx0,m.height=m.tcy1-m.tcy0,n.components[c]=m}}function a(e,t,n){var i=t.codingStyleParameters,r={};return i.entropyCoderWithCustomPrecincts?(r.PPx=i.precinctsSizes[n].PPx,r.PPy=i.precinctsSizes[n].PPy):(r.PPx=15,r.PPy=15),r.xcb_=n>0?Math.min(i.xcb,r.PPx-1):Math.min(i.xcb,r.PPx),r.ycb_=n>0?Math.min(i.ycb,r.PPy-1):Math.min(i.ycb,r.PPy),r}function l(e,t,n){var i=1<<n.PPx,r=1<<n.PPy,o=0===t.resLevel,a=1<<n.PPx+(o?0:-1),s=1<<n.PPy+(o?0:-1),l=t.trx1>t.trx0?Math.ceil(t.trx1/i)-Math.floor(t.trx0/i):0,u=t.try1>t.try0?Math.ceil(t.try1/r)-Math.floor(t.try0/r):0,c=l*u;t.precinctParameters={precinctWidth:i,precinctHeight:r,numprecinctswide:l,numprecinctshigh:u,numprecincts:c,precinctWidthInSubband:a,precinctHeightInSubband:s}}function u(e,t,n){var i,r,o,a,s=n.xcb_,l=n.ycb_,u=1<<s,c=1<<l,h=t.tbx0>>s,d=t.tby0>>l,f=t.tbx1+u-1>>s,p=t.tby1+c-1>>l,m=t.resolution.precinctParameters,g=[],v=[];for(r=d;p>r;r++)for(i=h;f>i;i++){o={cbx:i,cby:r,tbx0:u*i,tby0:c*r,tbx1:u*(i+1),tby1:c*(r+1)},o.tbx0_=Math.max(t.tbx0,o.tbx0),o.tby0_=Math.max(t.tby0,o.tby0),o.tbx1_=Math.min(t.tbx1,o.tbx1),o.tby1_=Math.min(t.tby1,o.tby1);var y=Math.floor((o.tbx0_-t.tbx0)/m.precinctWidthInSubband),b=Math.floor((o.tby0_-t.tby0)/m.precinctHeightInSubband);if(a=y+b*m.numprecinctswide,o.precinctNumber=a,o.subbandType=t.type,o.Lblock=3,!(o.tbx1_<=o.tbx0_||o.tby1_<=o.tby0_)){g.push(o);var w=v[a];void 0!==w?(i<w.cbxMin?w.cbxMin=i:i>w.cbxMax&&(w.cbxMax=i),r<w.cbyMin?w.cbxMin=r:r>w.cbyMax&&(w.cbyMax=r)):v[a]=w={cbxMin:i,cbyMin:r,cbxMax:i,cbyMax:r},o.precinct=w}}t.codeblockParameters={codeblockWidth:s,codeblockHeight:l,numcodeblockwide:f-h+1,numcodeblockhigh:p-d+1},t.codeblocks=g,t.precincts=v}function c(e,t,n){for(var i=[],r=e.subbands,o=0,a=r.length;a>o;o++)for(var s=r[o],l=s.codeblocks,u=0,c=l.length;c>u;u++){var h=l[u];h.precinctNumber===t&&i.push(h)}return{layerNumber:n,codeblocks:i}}function f(e){for(var t=e.SIZ,n=e.currentTile.index,i=e.tiles[n],r=i.codingStyleDefaultParameters.layersCount,o=t.Csiz,a=0,s=0;o>s;s++)a=Math.max(a,i.components[s].codingStyleParameters.decompositionLevelsCount);var l=0,u=0,h=0,d=0;this.nextPacket=function(){for(;r>l;l++){for(;a>=u;u++){for(;o>h;h++){var e=i.components[h];if(!(u>e.codingStyleParameters.decompositionLevelsCount)){for(var t=e.resolutions[u],n=t.precinctParameters.numprecincts;n>d;){var s=c(t,d,l);return d++,s}d=0}}h=0}u=0}throw new Error("JPX Error: Out of packets")}}function p(e){for(var t=e.SIZ,n=e.currentTile.index,i=e.tiles[n],r=i.codingStyleDefaultParameters.layersCount,o=t.Csiz,a=0,s=0;o>s;s++)a=Math.max(a,i.components[s].codingStyleParameters.decompositionLevelsCount);var l=0,u=0,h=0,d=0;this.nextPacket=function(){for(;a>=l;l++){for(;r>u;u++){for(;o>h;h++){var e=i.components[h];if(!(l>e.codingStyleParameters.decompositionLevelsCount)){for(var t=e.resolutions[l],n=t.precinctParameters.numprecincts;n>d;){var s=c(t,d,u);return d++,s}d=0}}h=0}u=0}throw new Error("JPX Error: Out of packets")}}function m(e){var t,n,i,r,o=e.SIZ,a=e.currentTile.index,s=e.tiles[a],l=s.codingStyleDefaultParameters.layersCount,u=o.Csiz,h=0;for(i=0;u>i;i++){var d=s.components[i];h=Math.max(h,d.codingStyleParameters.decompositionLevelsCount)}var f=new Int32Array(h+1);for(n=0;h>=n;++n){var p=0;for(i=0;u>i;++i){var m=s.components[i].resolutions;n<m.length&&(p=Math.max(p,m[n].precinctParameters.numprecincts))}f[n]=p}t=0,n=0,i=0,r=0,this.nextPacket=function(){for(;h>=n;n++){for(;r<f[n];r++){for(;u>i;i++){var e=s.components[i];if(!(n>e.codingStyleParameters.decompositionLevelsCount)){var o=e.resolutions[n],a=o.precinctParameters.numprecincts;if(!(r>=a)){for(;l>t;){var d=c(o,r,t);return t++,d}t=0}}}i=0}r=0}throw new Error("JPX Error: Out of packets")}}function g(e){var t=e.SIZ,n=e.currentTile.index,i=e.tiles[n],r=i.codingStyleDefaultParameters.layersCount,o=t.Csiz,a=b(i),s=a,l=0,u=0,h=0,d=0,f=0;this.nextPacket=function(){for(;f<s.maxNumHigh;f++){for(;d<s.maxNumWide;d++){for(;o>h;h++){for(var e=i.components[h],t=e.codingStyleParameters.decompositionLevelsCount;t>=u;u++){var n=e.resolutions[u],p=a.components[h].resolutions[u],m=y(d,f,p,s,n);if(null!==m){for(;r>l;){var g=c(n,m,l);return l++,g}l=0}}u=0}h=0}d=0}throw new Error("JPX Error: Out of packets")}}function v(e){var t=e.SIZ,n=e.currentTile.index,i=e.tiles[n],r=i.codingStyleDefaultParameters.layersCount,o=t.Csiz,a=b(i),s=0,l=0,u=0,h=0,d=0;this.nextPacket=function(){for(;o>u;++u){for(var e=i.components[u],t=a.components[u],n=e.codingStyleParameters.decompositionLevelsCount;d<t.maxNumHigh;d++){for(;h<t.maxNumWide;h++){for(;n>=l;l++){var f=e.resolutions[l],p=t.resolutions[l],m=y(h,d,p,t,f);if(null!==m){for(;r>s;){var g=c(f,m,s);return s++,g}s=0}}l=0}h=0}d=0}throw new Error("JPX Error: Out of packets")}}function y(e,t,n,i,r){var o=e*i.minWidth,a=t*i.minHeight;if(o%n.width!==0||a%n.height!==0)return null;var s=a/n.width*r.precinctParameters.numprecinctswide;return o/n.height+s}function b(e){for(var t=e.components.length,n=Number.MAX_VALUE,i=Number.MAX_VALUE,r=0,o=0,a=new Array(t),s=0;t>s;s++){for(var l=e.components[s],u=l.codingStyleParameters.decompositionLevelsCount,c=new Array(u+1),h=Number.MAX_VALUE,d=Number.MAX_VALUE,f=0,p=0,m=1,g=u;g>=0;--g){var v=l.resolutions[g],y=m*v.precinctParameters.precinctWidth,b=m*v.precinctParameters.precinctHeight;h=Math.min(h,y),d=Math.min(d,b),f=Math.max(f,v.precinctParameters.numprecinctswide),p=Math.max(p,v.precinctParameters.numprecinctshigh),c[g]={width:y,height:b},m<<=1}n=Math.min(n,h),i=Math.min(i,d),r=Math.max(r,f),o=Math.max(o,p),a[s]={resolutions:c,minWidth:h,minHeight:d,maxNumWide:f,maxNumHigh:p}}return{components:a,minWidth:n,minHeight:i,maxNumWide:r,maxNumHigh:o}}function w(e){for(var t=e.SIZ,n=e.currentTile.index,i=e.tiles[n],r=t.Csiz,o=0;r>o;o++){for(var s=i.components[o],c=s.codingStyleParameters.decompositionLevelsCount,h=[],d=[],y=0;c>=y;y++){var b=a(e,s,y),w={},x=1<<c-y;w.trx0=Math.ceil(s.tcx0/x),w.try0=Math.ceil(s.tcy0/x),w.trx1=Math.ceil(s.tcx1/x),w.try1=Math.ceil(s.tcy1/x),w.resLevel=y,l(e,w,b),h.push(w);var $;if(0===y)$={},$.type="LL",$.tbx0=Math.ceil(s.tcx0/x),$.tby0=Math.ceil(s.tcy0/x),$.tbx1=Math.ceil(s.tcx1/x),$.tby1=Math.ceil(s.tcy1/x),$.resolution=w,u(e,$,b),d.push($),w.subbands=[$];else{var C=1<<c-y+1,T=[];$={},$.type="HL",$.tbx0=Math.ceil(s.tcx0/C-.5),$.tby0=Math.ceil(s.tcy0/C),$.tbx1=Math.ceil(s.tcx1/C-.5),$.tby1=Math.ceil(s.tcy1/C),$.resolution=w,u(e,$,b),d.push($),T.push($),$={},$.type="LH",$.tbx0=Math.ceil(s.tcx0/C),$.tby0=Math.ceil(s.tcy0/C-.5),$.tbx1=Math.ceil(s.tcx1/C),$.tby1=Math.ceil(s.tcy1/C-.5),$.resolution=w,u(e,$,b),d.push($),T.push($),$={},$.type="HH",$.tbx0=Math.ceil(s.tcx0/C-.5),$.tby0=Math.ceil(s.tcy0/C-.5),$.tbx1=Math.ceil(s.tcx1/C-.5),$.tby1=Math.ceil(s.tcy1/C-.5),$.resolution=w,u(e,$,b),d.push($),T.push($),w.subbands=T}}s.resolutions=h,s.subbands=d}var _=i.codingStyleDefaultParameters.progressionOrder;switch(_){case 0:i.packetsIterator=new f(e);break;case 1:i.packetsIterator=new p(e);break;case 2:i.packetsIterator=new m(e);break;case 3:i.packetsIterator=new g(e);break;case 4:i.packetsIterator=new v(e);break;default:throw new Error("JPX Error: Unsupported progression order "+_)}}function x(e,n,i,r){function o(e){for(;e>d;){var t=n[i+h];h++,f?(c=c<<7|t,d+=7,f=!1):(c=c<<8|t,d+=8),255===t&&(f=!0)}return d-=e,c>>>d&(1<<e)-1}function a(e){return 255===n[i+h-1]&&n[i+h]===e?(s(1),!0):255===n[i+h]&&n[i+h+1]===e?(s(2),!0):!1}function s(e){h+=e}function l(){d=0,f&&(h++,f=!1)}function u(){if(0===o(1))return 1;if(0===o(1))return 2;var e=o(2);return 3>e?e+3:(e=o(5),31>e?e+6:(e=o(7),e+37))}for(var c,h=0,d=0,f=!1,p=e.currentTile.index,m=e.tiles[p],g=e.COD.sopMarkerUsed,v=e.COD.ephMarkerUsed,y=m.packetsIterator;r>h;){l(),g&&a(145)&&s(4);var b=y.nextPacket();if(o(1)){for(var w,x=b.layerNumber,$=[],C=0,T=b.codeblocks.length;T>C;C++){w=b.codeblocks[C];var _,k=w.precinct,D=w.cbx-k.cbxMin,I=w.cby-k.cbyMin,E=!1,P=!1;if(void 0!==w.included)E=!!o(1);else{k=w.precinct;var A,O;if(void 0!==k.inclusionTree)A=k.inclusionTree;else{var N=k.cbxMax-k.cbxMin+1,R=k.cbyMax-k.cbyMin+1;A=new M(N,R,x),O=new S(N,R),k.inclusionTree=A,k.zeroBitPlanesTree=O}if(A.reset(D,I,x))for(;;){if(!o(1)){A.incrementValue(x);break}if(_=!A.nextLevel()){w.included=!0,E=P=!0;break}}}if(E){if(P){for(O=k.zeroBitPlanesTree,O.reset(D,I);;)if(o(1)){if(_=!O.nextLevel())break}else O.incrementValue();w.zeroBitPlanes=O.value}for(var H=u();o(1);)w.Lblock++;var z=t(H),F=(1<<z>H?z-1:z)+w.Lblock,L=o(F);$.push({codeblock:w,codingpasses:H,dataLength:L})}}for(l(),v&&a(146);$.length>0;){var j=$.shift();w=j.codeblock,void 0===w.data&&(w.data=[]),w.data.push({data:n,start:i+h,end:i+h+j.dataLength,codingpasses:j.codingpasses}),h+=j.dataLength}}}return h}function $(e,t,n,i,r,o,a,l){for(var u=i.tbx0,c=i.tby0,h=i.tbx1-i.tbx0,d=i.codeblocks,f="H"===i.type.charAt(0)?1:0,p="H"===i.type.charAt(1)?t:0,m=0,g=d.length;g>m;++m){var v=d[m],y=v.tbx1_-v.tbx0_,b=v.tby1_-v.tby0_;if(0!==y&&0!==b&&void 0!==v.data){var w,x;w=new D(y,b,v.subbandType,v.zeroBitPlanes,o),x=2;var $,C,T,_=v.data,k=0,S=0;for($=0,C=_.length;C>$;$++)T=_[$],k+=T.end-T.start,S+=T.codingpasses;var M=new Uint8Array(k),I=0;for($=0,C=_.length;C>$;$++){T=_[$];var E=T.data.subarray(T.start,T.end);M.set(E,I),I+=E.length}var P=new s(M,0,k);for(w.setDecoder(P),$=0;S>$;$++){switch(x){case 0:w.runSignificancePropogationPass();break;case 1:w.runMagnitudeRefinementPass();break;case 2:w.runCleanupPass(),l&&w.checkSegmentationSymbol()}x=(x+1)%3}var A,O,N,R=v.tbx0_-u+(v.tby0_-c)*h,H=w.coefficentsSign,z=w.coefficentsMagnitude,F=w.bitsDecoded,L=a?0:.5;I=0;var j="LL"!==i.type;for($=0;b>$;$++){var V=R/h|0,W=2*V*(t-h)+f+p;for(A=0;y>A;A++){if(O=z[I],0!==O){O=(O+L)*r,0!==H[I]&&(O=-O),N=F[I];var q=j?W+(R<<1):R;a&&N>=o?e[q]=O:e[q]=O*(1<<o-N)}R++,I++}R+=h-y}}}}function C(e,t,n){for(var i=t.components[n],r=i.codingStyleParameters,o=i.quantizationParameters,a=r.decompositionLevelsCount,s=o.SPqcds,l=o.scalarExpounded,u=o.guardBits,c=r.segmentationSymbolUsed,h=e.components[n].precision,d=r.reversibleTransformation,f=d?new P:new E,p=[],m=0,g=0;a>=g;g++){for(var v=i.resolutions[g],y=v.trx1-v.trx0,b=v.try1-v.try0,w=new Float32Array(y*b),x=0,C=v.subbands.length;C>x;x++){var T,_;l?(T=s[m].mu,_=s[m].epsilon,m++):(T=s[0].mu,_=s[0].epsilon+(g>0?1-g:0));var S=v.subbands[x],M=k[S.type],D=d?1:Math.pow(2,h+M-_)*(1+T/2048),I=u+_-1;$(w,y,b,S,D,I,d,c)}p.push({width:y,height:b,items:w})}var A=f.calculate(p,i.tcx0,i.tcy0);return{left:i.tcx0,top:i.tcy0,width:A.width,height:A.height,items:A.items}}function T(e){for(var t=e.SIZ,n=e.components,i=t.Csiz,r=[],o=0,a=e.tiles.length;a>o;o++){var s,l=e.tiles[o],u=[];for(s=0;i>s;s++)u[s]=C(e,l,s);var c,h,d,f,p,m,g,v,y,b,w,x,$,T,_,k=u[0],S=new Uint8Array(k.items.length*i),M={left:k.left,top:k.top,width:k.width,height:k.height,items:S},D=0;if(l.codingStyleDefaultParameters.multipleComponentTransform){var I=4===i,E=u[0].items,P=u[1].items,A=u[2].items,O=I?u[3].items:null;c=n[0].precision-8,h=(128<<c)+.5,d=255*(1<<c),p=.5*d,f=-p;var N=l.components[0],R=i-3;if(g=E.length,N.codingStyleParameters.reversibleTransformation)for(m=0;g>m;m++,D+=R)v=E[m]+h,y=P[m],b=A[m],x=v-(b+y>>2),w=x+b,$=x+y,S[D++]=0>=w?0:w>=d?255:w>>c,S[D++]=0>=x?0:x>=d?255:x>>c,S[D++]=0>=$?0:$>=d?255:$>>c;else for(m=0;g>m;m++,D+=R)v=E[m]+h,y=P[m],b=A[m],w=v+1.402*b,x=v-.34413*y-.71414*b,$=v+1.772*y,S[D++]=0>=w?0:w>=d?255:w>>c,S[D++]=0>=x?0:x>=d?255:x>>c,S[D++]=0>=$?0:$>=d?255:$>>c;if(I)for(m=0,D=3;g>m;m++,D+=4)T=O[m],S[D]=f>=T?0:T>=p?255:T+h>>c}else for(s=0;i>s;s++){var H=u[s].items;for(c=n[s].precision-8,h=(128<<c)+.5,d=127.5*(1<<c),f=-d,D=s,m=0,g=H.length;g>m;m++)_=H[m],S[D]=f>=_?0:_>=d?255:_+h>>c,D+=i}r.push(M)}return r}function _(e,t){for(var n=e.SIZ,i=n.Csiz,r=e.tiles[t],o=0;i>o;o++){var a=r.components[o],s=void 0!==e.currentTile.QCC[o]?e.currentTile.QCC[o]:e.currentTile.QCD;a.quantizationParameters=s;var l=void 0!==e.currentTile.COC[o]?e.currentTile.COC[o]:e.currentTile.COD;a.codingStyleParameters=l}r.codingStyleDefaultParameters=e.currentTile.COD}var k={LL:0,LH:1,HL:1,HH:2};e.prototype={parse:function(e){var t=i(e,0);if(65359===t)return void this.parseCodestream(e,0,e.length);for(var n=0,o=e.length;o>n;){var a=8,s=r(e,n),l=r(e,n+4);if(n+=a,1===s&&(s=4294967296*r(e,n)+r(e,n+4),n+=8,a+=8),0===s&&(s=o-n+a),a>s)throw new Error("JPX Error: Invalid box field size");var u=s-a,c=!0;switch(l){case 1785737832:c=!1;break;case 1668246642:var f=e[n];e[n+1],e[n+2];if(1===f){var p=r(e,n+3);switch(p){case 16:case 17:case 18:break;default:h("Unknown colorspace "+p)}}else 2===f&&d("ICC profile not supported");break;case 1785737827:this.parseCodestream(e,n,n+u);break;case 1783636e3:218793738!==r(e,n)&&h("Invalid JP2 signature");break;case 1783634458:case 1718909296:case 1920099697:case 1919251232:case 1768449138:break;default:var m=String.fromCharCode(l>>24&255,l>>16&255,l>>8&255,255&l);h("Unsupported header type "+l+" ("+m+")")}c&&(n+=u)}},parseImageProperties:function(e){for(var t=e.getByte();t>=0;){var n=t;t=e.getByte();var i=n<<8|t;if(65361===i){e.skip(4);var r=e.getInt32()>>>0,o=e.getInt32()>>>0,a=e.getInt32()>>>0,s=e.getInt32()>>>0;e.skip(16);var l=e.getUint16();return this.width=r-a,this.height=o-s,this.componentsCount=l,void(this.bitsPerComponent=8)}}throw new Error("JPX Error: No size marker found in JPX stream")},parseCodestream:function(e,t,a){var s={};try{for(var l=!1,u=t;a>u+1;){var c=i(e,u);u+=2;var d,f,p,m,g,v,y=0;switch(c){case 65359:s.mainHeader=!0;break;case 65497:break;case 65361:y=i(e,u);var b={};b.Xsiz=r(e,u+4),b.Ysiz=r(e,u+8),b.XOsiz=r(e,u+12),b.YOsiz=r(e,u+16),b.XTsiz=r(e,u+20),b.YTsiz=r(e,u+24),b.XTOsiz=r(e,u+28),b.YTOsiz=r(e,u+32);var $=i(e,u+36);b.Csiz=$;var C=[];d=u+38;for(var k=0;$>k;k++){var S={precision:(127&e[d])+1,isSigned:!!(128&e[d]),XRsiz:e[d+1],YRsiz:e[d+1]};n(S,b),C.push(S)}s.SIZ=b,s.components=C,o(s,C),s.QCC=[],s.COC=[];break;case 65372:y=i(e,u);var M={};switch(d=u+2,f=e[d++],31&f){case 0:m=8,g=!0;break;case 1:m=16,g=!1;break;case 2:m=16,g=!0;break;default:throw new Error("JPX Error: Invalid SQcd value "+f)}for(M.noQuantization=8===m,M.scalarExpounded=g,M.guardBits=f>>5,p=[];y+u>d;){var D={};8===m?(D.epsilon=e[d++]>>3,D.mu=0):(D.epsilon=e[d]>>3,D.mu=(7&e[d])<<8|e[d+1],d+=2),p.push(D)}M.SPqcds=p,s.mainHeader?s.QCD=M:(s.currentTile.QCD=M,s.currentTile.QCC=[]);break;case 65373:y=i(e,u);var I={};d=u+2;var E;switch(s.SIZ.Csiz<257?E=e[d++]:(E=i(e,d),d+=2),f=e[d++],31&f){case 0:m=8,g=!0;break;case 1:m=16,g=!1;break;case 2:m=16,g=!0;break;default:throw new Error("JPX Error: Invalid SQcd value "+f)}for(I.noQuantization=8===m,I.scalarExpounded=g,I.guardBits=f>>5,p=[];y+u>d;)D={},8===m?(D.epsilon=e[d++]>>3,D.mu=0):(D.epsilon=e[d]>>3,D.mu=(7&e[d])<<8|e[d+1],d+=2),p.push(D);I.SPqcds=p,s.mainHeader?s.QCC[E]=I:s.currentTile.QCC[E]=I;break;case 65362:y=i(e,u);var P={};d=u+2;var A=e[d++];P.entropyCoderWithCustomPrecincts=!!(1&A),P.sopMarkerUsed=!!(2&A),P.ephMarkerUsed=!!(4&A),P.progressionOrder=e[d++],P.layersCount=i(e,d),d+=2,P.multipleComponentTransform=e[d++],P.decompositionLevelsCount=e[d++],P.xcb=(15&e[d++])+2,P.ycb=(15&e[d++])+2;var O=e[d++];if(P.selectiveArithmeticCodingBypass=!!(1&O),P.resetContextProbabilities=!!(2&O),P.terminationOnEachCodingPass=!!(4&O),P.verticalyStripe=!!(8&O),P.predictableTermination=!!(16&O),
P.segmentationSymbolUsed=!!(32&O),P.reversibleTransformation=e[d++],P.entropyCoderWithCustomPrecincts){for(var N=[];y+u>d;){var R=e[d++];N.push({PPx:15&R,PPy:R>>4})}P.precinctsSizes=N}var H=[];if(P.selectiveArithmeticCodingBypass&&H.push("selectiveArithmeticCodingBypass"),P.resetContextProbabilities&&H.push("resetContextProbabilities"),P.terminationOnEachCodingPass&&H.push("terminationOnEachCodingPass"),P.verticalyStripe&&H.push("verticalyStripe"),P.predictableTermination&&H.push("predictableTermination"),H.length>0)throw l=!0,new Error("JPX Error: Unsupported COD options ("+H.join(", ")+")");s.mainHeader?s.COD=P:(s.currentTile.COD=P,s.currentTile.COC=[]);break;case 65424:y=i(e,u),v={},v.index=i(e,u+2),v.length=r(e,u+4),v.dataEnd=v.length+u-2,v.partIndex=e[u+8],v.partsCount=e[u+9],s.mainHeader=!1,0===v.partIndex&&(v.COD=s.COD,v.COC=s.COC.slice(0),v.QCD=s.QCD,v.QCC=s.QCC.slice(0)),s.currentTile=v;break;case 65427:v=s.currentTile,0===v.partIndex&&(_(s,v.index),w(s)),y=v.dataEnd-u,x(s,e,u,y);break;case 65365:case 65367:case 65368:case 65380:y=i(e,u);break;case 65363:throw new Error("JPX Error: Codestream code 0xFF53 (COC) is not implemented");default:throw new Error("JPX Error: Unknown codestream code: "+c.toString(16))}u+=y}}catch(z){if(l||this.failOnCorruptedImage)throw z;h("Trying to recover from "+z.message)}this.tiles=T(s),this.width=s.SIZ.Xsiz-s.SIZ.XOsiz,this.height=s.SIZ.Ysiz-s.SIZ.YOsiz,this.componentsCount=s.SIZ.Csiz}};var S=function(){function e(e,n){var i=t(Math.max(e,n))+1;this.levels=[];for(var r=0;i>r;r++){var o={width:e,height:n,items:[]};this.levels.push(o),e=Math.ceil(e/2),n=Math.ceil(n/2)}}return e.prototype={reset:function(e,t){for(var n,i=0,r=0;i<this.levels.length;){n=this.levels[i];var o=e+t*n.width;if(void 0!==n.items[o]){r=n.items[o];break}n.index=o,e>>=1,t>>=1,i++}i--,n=this.levels[i],n.items[n.index]=r,this.currentLevel=i,delete this.value},incrementValue:function(){var e=this.levels[this.currentLevel];e.items[e.index]++},nextLevel:function(){var e=this.currentLevel,t=this.levels[e],n=t.items[t.index];return e--,0>e?(this.value=n,!1):(this.currentLevel=e,t=this.levels[e],t.items[t.index]=n,!0)}},e}(),M=function(){function e(e,n,i){var r=t(Math.max(e,n))+1;this.levels=[];for(var o=0;r>o;o++){for(var a=new Uint8Array(e*n),s=0,l=a.length;l>s;s++)a[s]=i;var u={width:e,height:n,items:a};this.levels.push(u),e=Math.ceil(e/2),n=Math.ceil(n/2)}}return e.prototype={reset:function(e,t,n){for(var i=0;i<this.levels.length;){var r=this.levels[i],o=e+t*r.width;r.index=o;var a=r.items[o];if(255===a)break;if(a>n)return this.currentLevel=i,this.propagateValues(),!1;e>>=1,t>>=1,i++}return this.currentLevel=i-1,!0},incrementValue:function(e){var t=this.levels[this.currentLevel];t.items[t.index]=e+1,this.propagateValues()},propagateValues:function(){for(var e=this.currentLevel,t=this.levels[e],n=t.items[t.index];--e>=0;)t=this.levels[e],t.items[t.index]=n},nextLevel:function(){var e=this.currentLevel,t=this.levels[e],n=t.items[t.index];return t.items[t.index]=255,e--,0>e?!1:(this.currentLevel=e,t=this.levels[e],t.items[t.index]=n,!0)}},e}(),D=function(){function e(e,t,n,a,s){this.width=e,this.height=t,this.contextLabelTable="HH"===n?o:"HL"===n?r:i;var l=e*t;this.neighborsSignificance=new Uint8Array(l),this.coefficentsSign=new Uint8Array(l),this.coefficentsMagnitude=s>14?new Uint32Array(l):s>6?new Uint16Array(l):new Uint8Array(l),this.processingFlags=new Uint8Array(l);var u=new Uint8Array(l);if(0!==a)for(var c=0;l>c;c++)u[c]=a;this.bitsDecoded=u,this.reset()}var t=17,n=18,i=new Uint8Array([0,5,8,0,3,7,8,0,4,7,8,0,0,0,0,0,1,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8]),r=new Uint8Array([0,3,4,0,5,7,7,0,8,8,8,0,0,0,0,0,1,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8]),o=new Uint8Array([0,1,2,0,1,2,2,0,2,2,2,0,0,0,0,0,3,4,5,0,4,5,5,0,5,5,5,0,0,0,0,0,6,7,7,0,7,7,7,0,7,7,7,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8]);return e.prototype={setDecoder:function(e){this.decoder=e},reset:function(){this.contexts=new Int8Array(19),this.contexts[0]=8,this.contexts[t]=92,this.contexts[n]=6},setNeighborsSignificance:function(e,t,n){var i,r=this.neighborsSignificance,o=this.width,a=this.height,s=t>0,l=o>t+1;e>0&&(i=n-o,s&&(r[i-1]+=16),l&&(r[i+1]+=16),r[i]+=4),a>e+1&&(i=n+o,s&&(r[i-1]+=16),l&&(r[i+1]+=16),r[i]+=4),s&&(r[n-1]+=1),l&&(r[n+1]+=1),r[n]|=128},runSignificancePropogationPass:function(){for(var e=this.decoder,t=this.width,n=this.height,i=this.coefficentsMagnitude,r=this.coefficentsSign,o=this.neighborsSignificance,a=this.processingFlags,s=this.contexts,l=this.contextLabelTable,u=this.bitsDecoded,c=-2,h=1,d=2,f=0;n>f;f+=4)for(var p=0;t>p;p++)for(var m=f*t+p,g=0;4>g;g++,m+=t){var v=f+g;if(v>=n)break;if(a[m]&=c,!i[m]&&o[m]){var y=l[o[m]],b=e.readBit(s,y);if(b){var w=this.decodeSignBit(v,p,m);r[m]=w,i[m]=1,this.setNeighborsSignificance(v,p,m),a[m]|=d}u[m]++,a[m]|=h}}},decodeSignBit:function(e,t,n){var i,r,o,a,s,l,u=this.width,c=this.height,h=this.coefficentsMagnitude,d=this.coefficentsSign;a=t>0&&0!==h[n-1],u>t+1&&0!==h[n+1]?(o=d[n+1],a?(r=d[n-1],i=1-o-r):i=1-o-o):a?(r=d[n-1],i=1-r-r):i=0;var f=3*i;return a=e>0&&0!==h[n-u],c>e+1&&0!==h[n+u]?(o=d[n+u],a?(r=d[n-u],i=1-o-r+f):i=1-o-o+f):a?(r=d[n-u],i=1-r-r+f):i=f,i>=0?(s=9+i,l=this.decoder.readBit(this.contexts,s)):(s=9-i,l=1^this.decoder.readBit(this.contexts,s)),l},runMagnitudeRefinementPass:function(){for(var e,t=this.decoder,n=this.width,i=this.height,r=this.coefficentsMagnitude,o=this.neighborsSignificance,a=this.contexts,s=this.bitsDecoded,l=this.processingFlags,u=1,c=2,h=n*i,d=4*n,f=0;h>f;f=e){e=Math.min(h,f+d);for(var p=0;n>p;p++)for(var m=f+p;e>m;m+=n)if(r[m]&&0===(l[m]&u)){var g=16;if(0!==(l[m]&c)){l[m]^=c;var v=127&o[m];g=0===v?15:14}var y=t.readBit(a,g);r[m]=r[m]<<1|y,s[m]++,l[m]|=u}}},runCleanupPass:function(){for(var e,i=this.decoder,r=this.width,o=this.height,a=this.neighborsSignificance,s=this.coefficentsMagnitude,l=this.coefficentsSign,u=this.contexts,c=this.contextLabelTable,h=this.bitsDecoded,d=this.processingFlags,f=1,p=2,m=r,g=2*r,v=3*r,y=0;o>y;y=e){e=Math.min(y+4,o);for(var b=y*r,w=o>y+3,x=0;r>x;x++){var $,C=b+x,T=w&&0===d[C]&&0===d[C+m]&&0===d[C+g]&&0===d[C+v]&&0===a[C]&&0===a[C+m]&&0===a[C+g]&&0===a[C+v],_=0,k=C,S=y;if(T){var M=i.readBit(u,n);if(!M){h[C]++,h[C+m]++,h[C+g]++,h[C+v]++;continue}_=i.readBit(u,t)<<1|i.readBit(u,t),0!==_&&(S=y+_,k+=_*r),$=this.decodeSignBit(S,x,k),l[k]=$,s[k]=1,this.setNeighborsSignificance(S,x,k),d[k]|=p,k=C;for(var D=y;S>=D;D++,k+=r)h[k]++;_++}for(S=y+_;e>S;S++,k+=r)if(!s[k]&&0===(d[k]&f)){var I=c[a[k]],E=i.readBit(u,I);1===E&&($=this.decodeSignBit(S,x,k),l[k]=$,s[k]=1,this.setNeighborsSignificance(S,x,k),d[k]|=p),h[k]++}}}},checkSegmentationSymbol:function(){var e=this.decoder,n=this.contexts,i=e.readBit(n,t)<<3|e.readBit(n,t)<<2|e.readBit(n,t)<<1|e.readBit(n,t);if(10!==i)throw new Error("JPX Error: Invalid segmentation symbol")}},e}(),I=function(){function e(){}return e.prototype.calculate=function(e,t,n){for(var i=e[0],r=1,o=e.length;o>r;r++)i=this.iterate(i,e[r],t,n);return i},e.prototype.extend=function(e,t,n){var i=t-1,r=t+1,o=t+n-2,a=t+n;e[i--]=e[r++],e[a++]=e[o--],e[i--]=e[r++],e[a++]=e[o--],e[i--]=e[r++],e[a++]=e[o--],e[i]=e[r],e[a]=e[o]},e.prototype.iterate=function(e,t,n,i){var r,o,a,s,l,u,c=e.width,h=e.height,d=e.items,f=t.width,p=t.height,m=t.items;for(a=0,r=0;h>r;r++)for(s=2*r*f,o=0;c>o;o++,a++,s+=2)m[s]=d[a];d=e.items=null;var g=4,v=new Float32Array(f+2*g);if(1===f){if(0!==(1&n))for(u=0,a=0;p>u;u++,a+=f)m[a]*=.5}else for(u=0,a=0;p>u;u++,a+=f)v.set(m.subarray(a,a+f),g),this.extend(v,g,f),this.filter(v,g,f),m.set(v.subarray(g,g+f),a);var y=16,b=[];for(r=0;y>r;r++)b.push(new Float32Array(p+2*g));var w,x=0;if(e=g+p,1===p){if(0!==(1&i))for(l=0;f>l;l++)m[l]*=.5}else for(l=0;f>l;l++){if(0===x){for(y=Math.min(f-l,y),a=l,s=g;e>s;a+=f,s++)for(w=0;y>w;w++)b[w][s]=m[a+w];x=y}x--;var $=b[x];if(this.extend($,g,p),this.filter($,g,p),0===x)for(a=l-y+1,s=g;e>s;a+=f,s++)for(w=0;y>w;w++)m[a+w]=b[w][s]}return{width:f,height:p,items:m}},e}(),E=function(){function e(){I.call(this)}return e.prototype=Object.create(I.prototype),e.prototype.filter=function(e,t,n){var i=n>>1;t=0|t;var r,o,a,s,l=-1.586134342059924,u=-.052980118572961,c=.882911075530934,h=.443506852043971,d=1.230174104914001,f=1/d;for(r=t-3,o=i+4;o--;r+=2)e[r]*=f;for(r=t-2,a=h*e[r-1],o=i+3;o--&&(s=h*e[r+1],e[r]=d*e[r]-a-s,o--);r+=2)r+=2,a=h*e[r+1],e[r]=d*e[r]-a-s;for(r=t-1,a=c*e[r-1],o=i+2;o--&&(s=c*e[r+1],e[r]-=a+s,o--);r+=2)r+=2,a=c*e[r+1],e[r]-=a+s;for(r=t,a=u*e[r-1],o=i+1;o--&&(s=u*e[r+1],e[r]-=a+s,o--);r+=2)r+=2,a=u*e[r+1],e[r]-=a+s;if(0!==i)for(r=t+1,a=l*e[r-1],o=i;o--&&(s=l*e[r+1],e[r]-=a+s,o--);r+=2)r+=2,a=l*e[r+1],e[r]-=a+s},e}(),P=function(){function e(){I.call(this)}return e.prototype=Object.create(I.prototype),e.prototype.filter=function(e,t,n){var i=n>>1;t=0|t;var r,o;for(r=t,o=i+1;o--;r+=2)e[r]-=e[r-1]+e[r+1]+2>>2;for(r=t+1,o=i;o--;r+=2)e[r]+=e[r-1]+e[r+1]>>1},e}();return e}(),u=function(){function e(){}function a(e,t,n){this.data=e,this.start=t,this.end=n}function l(e,t,n){function i(e){for(var t=0,i=0;e>i;i++){var a=n.readBit(r,o);o=256>o?o<<1|a:511&(o<<1|a)|256,t=t<<1|a}return t>>>0}var r=e.getContexts(t),o=1,a=i(1),s=i(1)?i(1)?i(1)?i(1)?i(1)?i(32)+4436:i(12)+340:i(8)+84:i(6)+20:i(4)+4:i(2);return 0===a?s:s>0?-s:null}function u(e,t,n){for(var i=e.getContexts("IAID"),r=1,o=0;n>o;o++){var a=t.readBit(i,r);r=r<<1|a}return 31>n?r&(1<<n)-1:2147483647&r}function h(e,t,n){var i,r,o,a,s,l,u,c=n.decoder,h=n.contextCache.getContexts("GB"),d=[],f=31735;for(r=0;t>r;r++)for(s=d[r]=new Uint8Array(e),l=1>r?s:d[r-1],u=2>r?s:d[r-2],i=u[0]<<13|u[1]<<12|u[2]<<11|l[0]<<7|l[1]<<6|l[2]<<5|l[3]<<4,o=0;e>o;o++)s[o]=a=c.readBit(h,i),i=(i&f)<<1|(e>o+3?u[o+3]<<11:0)|(e>o+4?l[o+4]<<4:0)|a;return d}function d(e,t,n,i,r,o,a,s){if(e&&c("JBIG2 error: MMR encoding is not supported"),0===i&&!o&&!r&&4===a.length&&3===a[0].x&&-1===a[0].y&&-3===a[1].x&&-1===a[1].y&&2===a[2].x&&-2===a[2].y&&-2===a[3].x&&-2===a[3].y)return h(t,n,s);var l=!!o,u=_[i].concat(a);u.sort(function(e,t){return e.y-t.y||e.x-t.x});var d,f,p=u.length,m=new Int8Array(p),g=new Int8Array(p),v=[],y=0,b=0,w=0,x=0;for(f=0;p>f;f++)m[f]=u[f].x,g[f]=u[f].y,b=Math.min(b,u[f].x),w=Math.max(w,u[f].x),x=Math.min(x,u[f].y),p-1>f&&u[f].y===u[f+1].y&&u[f].x===u[f+1].x-1?y|=1<<p-1-f:v.push(f);var $=v.length,C=new Int8Array($),T=new Int8Array($),k=new Uint16Array($);for(d=0;$>d;d++)f=v[d],C[d]=u[f].x,T[d]=u[f].y,k[d]=1<<p-1-f;for(var M,D,I,E,P,A=-b,O=-x,N=t-w,R=S[i],H=new Uint8Array(t),z=[],F=s.decoder,L=s.contextCache.getContexts("GB"),j=0,V=0,W=0;n>W;W++){if(r){var q=F.readBit(L,R);if(j^=q){z.push(H);continue}}for(H=new Uint8Array(H),z.push(H),M=0;t>M;M++)if(l&&o[W][M])H[M]=0;else{if(M>=A&&N>M&&W>=O)for(V=V<<1&y,f=0;$>f;f++)D=W+T[f],I=M+C[f],E=z[D][I],E&&(E=k[f],V|=E);else for(V=0,P=p-1,f=0;p>f;f++,P--)I=M+m[f],I>=0&&t>I&&(D=W+g[f],D>=0&&(E=z[D][I],E&&(V|=E<<P)));var B=F.readBit(L,V);H[M]=B}}return z}function f(e,t,n,i,r,o,a,s,l){var u=k[n].coding;0===n&&(u=u.concat([s[0]]));var h,d=u.length,f=new Int32Array(d),p=new Int32Array(d);for(h=0;d>h;h++)f[h]=u[h].x,p[h]=u[h].y;var m=k[n].reference;0===n&&(m=m.concat([s[1]]));var g=m.length,v=new Int32Array(g),y=new Int32Array(g);for(h=0;g>h;h++)v[h]=m[h].x,y[h]=m[h].y;for(var b=i[0].length,w=i.length,x=M[n],$=[],C=l.decoder,T=l.contextCache.getContexts("GR"),_=0,S=0;t>S;S++){if(a){var D=C.readBit(T,x);_^=D,_&&c("JBIG2 error: prediction is not supported")}var I=new Uint8Array(e);$.push(I);for(var E=0;e>E;E++){var P,A,O=0;for(h=0;d>h;h++)P=S+p[h],A=E+f[h],0>P||0>A||A>=e?O<<=1:O=O<<1|$[P][A];for(h=0;g>h;h++)P=S+y[h]+o,A=E+v[h]+r,0>P||P>=w||0>A||A>=b?O<<=1:O=O<<1|i[P][A];var N=C.readBit(T,O);I[E]=N}}return $}function p(e,n,i,r,o,a,s,h,p,g,v){e&&c("JBIG2 error: huffman is not supported");for(var y=[],b=0,w=t(i.length+r),x=v.decoder,$=v.contextCache;y.length<r;){var C=l($,"IADH",x);b+=C;for(var T=0,_=0;;){var k=l($,"IADW",x);if(null===k)break;T+=k,_+=T;var S;if(n){var M=l($,"IAAI",x);if(M>1)S=m(e,n,T,b,0,M,1,i.concat(y),w,0,0,1,0,a,p,g,v);else{var D=u($,x,w),I=l($,"IARDX",x),E=l($,"IARDY",x),P=D<i.length?i[D]:y[D-i.length];S=f(T,b,p,P,I,E,!1,g,v)}}else S=d(!1,T,b,s,!1,null,h,v);y.push(S)}}for(var A=[],O=[],N=!1,R=i.length+r;O.length<R;){for(var H=l($,"IAEX",x);H--;)O.push(N);N=!N}for(var z=0,F=i.length;F>z;z++)O[z]&&A.push(i[z]);for(var L=0;r>L;z++,L++)O[z]&&A.push(y[L]);return A}function m(e,t,n,i,r,o,a,s,h,d,p,m,g,v,y,b,w){e&&c("JBIG2 error: huffman is not supported");var x,$,C=[];for(x=0;i>x;x++){if($=new Uint8Array(n),r)for(var T=0;n>T;T++)$[T]=r;C.push($)}var _=w.decoder,k=w.contextCache,S=-l(k,"IADT",_),M=0;for(x=0;o>x;){var D=l(k,"IADT",_);S+=D;var I=l(k,"IAFS",_);M+=I;for(var E=M;;){var P=1===a?0:l(k,"IAIT",_),A=a*S+P,O=u(k,_,h),N=t&&l(k,"IARI",_),R=s[O],H=R[0].length,z=R.length;if(N){var F=l(k,"IARDW",_),L=l(k,"IARDH",_),j=l(k,"IARDX",_),V=l(k,"IARDY",_);H+=F,z+=L,R=f(H,z,y,R,(F>>1)+j,(L>>1)+V,!1,b,w)}var W,q,B,U=A-(1&m?0:z),Y=E-(2&m?H:0);if(d){for(W=0;z>W;W++)if($=C[Y+W]){B=R[W];var X=Math.min(n-U,H);switch(g){case 0:for(q=0;X>q;q++)$[U+q]|=B[q];break;case 2:for(q=0;X>q;q++)$[U+q]^=B[q];break;default:c("JBIG2 error: operator "+g+" is not supported")}}E+=z-1}else{for(q=0;z>q;q++)if($=C[U+q])switch(B=R[q],g){case 0:for(W=0;H>W;W++)$[Y+W]|=B[W];break;case 2:for(W=0;H>W;W++)$[Y+W]^=B[W];break;default:c("JBIG2 error: operator "+g+" is not supported")}E+=H-1}x++;var K=l(k,"IADS",_);if(null===K)break;E+=K+p}}return C}function g(e,t){var n={};n.number=r(e,t);var o=e[t+4],a=63&o;T[a]||c("JBIG2 error: invalid segment type: "+a),n.type=a,n.typeName=T[a],n.deferredNonRetain=!!(128&o);var s=!!(64&o),l=e[t+5],u=l>>5&7,h=[31&l],d=t+6;if(7===l){u=536870911&r(e,d-1),d+=3;var f=u+7>>3;for(h[0]=e[d++];--f>0;)h.push(e[d++])}else 5!==l&&6!==l||c("JBIG2 error: invalid referred-to flags");n.retainBits=h;var p,m,g=n.number<=256?1:n.number<=65536?2:4,v=[];for(p=0;u>p;p++){var b=1===g?e[d]:2===g?i(e,d):r(e,d);v.push(b),d+=g}if(n.referredTo=v,s?(n.pageAssociation=r(e,d),d+=4):n.pageAssociation=e[d++],n.length=r(e,d),d+=4,4294967295===n.length)if(38===a){var w=y(e,d),x=e[d+D],$=!!(1&x),C=6,_=new Uint8Array(C);for($||(_[0]=255,_[1]=172),_[2]=w.height>>>24&255,_[3]=w.height>>16&255,_[4]=w.height>>8&255,_[5]=255&w.height,p=d,m=e.length;m>p;p++){for(var k=0;C>k&&_[k]===e[p+k];)k++;if(k===C){n.length=p+C;break}}4294967295===n.length&&c("JBIG2 error: segment end was not found")}else c("JBIG2 error: invalid unknown segment length");return n.headerEnd=d,n}function v(e,t,n,i){for(var r=[],o=n;i>o;){var a=g(t,o);o=a.headerEnd;var s={header:a,data:t};if(e.randomAccess||(s.start=o,o+=a.length,s.end=o),r.push(s),51===a.type)break}if(e.randomAccess)for(var l=0,u=r.length;u>l;l++)r[l].start=o,o+=r[l].header.length,r[l].end=o;return r}function y(e,t){return{width:r(e,t),height:r(e,t+4),x:r(e,t+8),y:r(e,t+12),combinationOperator:7&e[t+16]}}function b(e,t){var o,a,s,l,u=e.header,h=e.data,d=e.start,f=e.end;switch(u.type){case 0:var p={},m=i(h,d);if(p.huffman=!!(1&m),p.refinement=!!(2&m),p.huffmanDHSelector=m>>2&3,p.huffmanDWSelector=m>>4&3,p.bitmapSizeSelector=m>>6&1,p.aggregationInstancesSelector=m>>7&1,p.bitmapCodingContextUsed=!!(256&m),p.bitmapCodingContextRetained=!!(512&m),p.template=m>>10&3,p.refinementTemplate=m>>12&1,d+=2,!p.huffman){for(l=0===p.template?4:1,a=[],s=0;l>s;s++)a.push({x:n(h,d),y:n(h,d+1)}),d+=2;p.at=a}if(p.refinement&&!p.refinementTemplate){for(a=[],s=0;2>s;s++)a.push({x:n(h,d),y:n(h,d+1)}),d+=2;p.refinementAt=a}p.numberOfExportedSymbols=r(h,d),d+=4,p.numberOfNewSymbols=r(h,d),d+=4,o=[p,u.number,u.referredTo,h,d,f];break;case 6:case 7:var g={};g.info=y(h,d),d+=D;var v=i(h,d);if(d+=2,g.huffman=!!(1&v),g.refinement=!!(2&v),g.stripSize=1<<(v>>2&3),g.referenceCorner=v>>4&3,g.transposed=!!(64&v),g.combinationOperator=v>>7&3,g.defaultPixelValue=v>>9&1,g.dsOffset=v<<17>>27,g.refinementTemplate=v>>15&1,g.huffman){var b=i(h,d);d+=2,g.huffmanFS=3&b,g.huffmanDS=b>>2&3,g.huffmanDT=b>>4&3,g.huffmanRefinementDW=b>>6&3,g.huffmanRefinementDH=b>>8&3,g.huffmanRefinementDX=b>>10&3,g.huffmanRefinementDY=b>>12&3,g.huffmanRefinementSizeSelector=!!(14&b)}if(g.refinement&&!g.refinementTemplate){for(a=[],s=0;2>s;s++)a.push({x:n(h,d),y:n(h,d+1)}),d+=2;g.refinementAt=a}g.numberOfSymbolInstances=r(h,d),d+=4,g.huffman&&c("JBIG2 error: huffman is not supported"),o=[g,u.referredTo,h,d,f];break;case 38:case 39:var w={};w.info=y(h,d),d+=D;var x=h[d++];if(w.mmr=!!(1&x),w.template=x>>1&3,w.prediction=!!(8&x),!w.mmr){for(l=0===w.template?4:1,a=[],s=0;l>s;s++)a.push({x:n(h,d),y:n(h,d+1)}),d+=2;w.at=a}o=[w,h,d,f];break;case 48:var $={width:r(h,d),height:r(h,d+4),resolutionX:r(h,d+8),resolutionY:r(h,d+12)};4294967295===$.height&&delete $.height;var C=h[d+16];i(h,d+17);$.lossless=!!(1&C),$.refinement=!!(2&C),$.defaultPixelValue=C>>2&1,$.combinationOperator=C>>3&3,$.requiresBuffer=!!(32&C),$.combinationOperatorOverride=!!(64&C),o=[$];break;case 49:break;case 50:break;case 51:break;case 62:break;default:c("JBIG2 error: segment type "+u.typeName+"("+u.type+") is not implemented")}var T="on"+u.typeName;T in t&&t[T].apply(t,o)}function w(e,t){for(var n=0,i=e.length;i>n;n++)b(e[n],t)}function x(e){for(var t=new $,n=0,i=e.length;i>n;n++){var r=e[n],o=v({},r.data,r.start,r.end);w(o,t)}return t}function $(){}function C(){}e.prototype={getContexts:function(e){return e in this?this[e]:this[e]=new Int8Array(65536)}},a.prototype={get decoder(){var e=new s(this.data,this.start,this.end);return o(this,"decoder",e)},get contextCache(){var t=new e;return o(this,"contextCache",t)}};var T=["SymbolDictionary",null,null,null,"IntermediateTextRegion",null,"ImmediateTextRegion","ImmediateLosslessTextRegion",null,null,null,null,null,null,null,null,"patternDictionary",null,null,null,"IntermediateHalftoneRegion",null,"ImmediateHalftoneRegion","ImmediateLosslessHalftoneRegion",null,null,null,null,null,null,null,null,null,null,null,null,"IntermediateGenericRegion",null,"ImmediateGenericRegion","ImmediateLosslessGenericRegion","IntermediateGenericRefinementRegion",null,"ImmediateGenericRefinementRegion","ImmediateLosslessGenericRefinementRegion",null,null,null,null,"PageInformation","EndOfPage","EndOfStripe","EndOfFile","Profiles","Tables",null,null,null,null,null,null,null,null,"Extension"],_=[[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:2,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-2,y:0},{x:-1,y:0}],[{x:-3,y:-1},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}]],k=[{coding:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:-1,y:1},{x:0,y:1},{x:1,y:1}]},{coding:[{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:0,y:1},{x:1,y:1}]}],S=[39717,1941,229,405],M=[32,8],D=17;return $.prototype={onPageInformation:function(e){this.currentPageInfo=e;var t=e.width+7>>3,n=new Uint8Array(t*e.height);if(e.defaultPixelValue)for(var i=0,r=n.length;r>i;i++)n[i]=255;this.buffer=n},drawBitmap:function(e,t){var n,i,r,o,a=this.currentPageInfo,s=e.width,l=e.height,u=a.width+7>>3,h=a.combinationOperatorOverride?e.combinationOperator:a.combinationOperator,d=this.buffer,f=128>>(7&e.x),p=e.y*u+(e.x>>3);switch(h){case 0:for(n=0;l>n;n++){for(r=f,o=p,i=0;s>i;i++)t[n][i]&&(d[o]|=r),r>>=1,r||(r=128,o++);p+=u}break;case 2:for(n=0;l>n;n++){for(r=f,o=p,i=0;s>i;i++)t[n][i]&&(d[o]^=r),r>>=1,r||(r=128,o++);p+=u}break;default:c("JBIG2 error: operator "+h+" is not supported")}},onImmediateGenericRegion:function(e,t,n,i){var r=e.info,o=new a(t,n,i),s=d(e.mmr,r.width,r.height,e.template,e.prediction,null,e.at,o);this.drawBitmap(r,s)},onImmediateLosslessGenericRegion:function(){this.onImmediateGenericRegion.apply(this,arguments)},onSymbolDictionary:function(e,t,n,i,r,o){var s;e.huffman&&c("JBIG2 error: huffman is not supported");var l=this.symbols;l||(this.symbols=l={});for(var u=[],h=0,d=n.length;d>h;h++)u=u.concat(l[n[h]]);var f=new a(i,r,o);l[t]=p(e.huffman,e.refinement,u,e.numberOfNewSymbols,e.numberOfExportedSymbols,s,e.template,e.at,e.refinementTemplate,e.refinementAt,f)},onImmediateTextRegion:function(e,n,i,r,o){for(var s,l=e.info,u=this.symbols,c=[],h=0,d=n.length;d>h;h++)c=c.concat(u[n[h]]);var f=t(c.length),p=new a(i,r,o),g=m(e.huffman,e.refinement,l.width,l.height,e.defaultPixelValue,e.numberOfSymbolInstances,e.stripSize,c,f,e.transposed,e.dsOffset,e.referenceCorner,e.combinationOperator,s,e.refinementTemplate,e.refinementAt,p);this.drawBitmap(l,g)},onImmediateLosslessTextRegion:function(){this.onImmediateTextRegion.apply(this,arguments)}},C.prototype={parseChunks:function(e){return x(e)}},C}(),c=function(){throw console.error.apply(console,arguments),new Error("PDFJS error: "+arguments[0])},h=function(){console.warn.apply(console,arguments)},d=function(){console.info.apply(console,arguments)};u.prototype.parse=function(e){var t=0,n=e.length;151===e[t]&&74===e[t+1]&&66===e[t+2]&&50===e[t+3]&&13===e[t+4]&&10===e[t+5]&&26===e[t+6]&&10===e[t+7]||c("JBIG2 error: invalid header");var i={};t+=8;var o=e[t++];i.randomAccess=!(1&o),2&o||(i.numberOfPages=r(e,t),t+=4);for(var a=this.parseChunks([{data:e,start:t,end:n}]),s=a.currentPageInfo.width,l=a.currentPageInfo.height,u=a.buffer,e=new Uint8Array(s*l),h=0,d=0,f=0;l>f;f++)for(var p,m=0,g=0;s>g;g++)m||(m=128,p=u[d++]),e[h++]=p&m?0:255,m>>=1;this.width=s,this.height=l,this.data=e},e.JpegImage=a,e.JpxImage=l,e.Jbig2Image=u}(PDFJS||(PDFJS={}));var JpegDecoder=PDFJS.JpegImage,JpxDecoder=PDFJS.JpxImage,Jbig2Decoder=PDFJS.Jbig2Image;!function(e,t){"use strict";var n=function(e){return new n.Instance(e)};n.SUPPORT="wheel",n.ADD_EVENT="addEventListener",n.REMOVE_EVENT="removeEventListener",n.PREFIX="",n.READY=!1,n.Instance=function(e){return n.READY||(n.normalise.browser(),n.READY=!0),this.element=e,this.handlers=[],this},n.Instance.prototype={wheel:function(e,t){return n.event.add(this,n.SUPPORT,e,t),"DOMMouseScroll"===n.SUPPORT&&n.event.add(this,"MozMousePixelScroll",e,t),this},unwheel:function(e,t){return void 0===e&&(e=this.handlers.slice(-1)[0])&&(e=e.original),n.event.remove(this,n.SUPPORT,e,t),"DOMMouseScroll"===n.SUPPORT&&n.event.remove(this,"MozMousePixelScroll",e,t),this}},n.event={add:function(t,i,r,o){var a=r;r=function(t){t||(t=e.event);var i=n.normalise.event(t),r=n.normalise.delta(t);return a(i,r[0],r[1],r[2])},t.element[n.ADD_EVENT](n.PREFIX+i,r,o||!1),t.handlers.push({original:a,normalised:r})},remove:function(e,t,i,r){for(var o,a=i,s={},l=0,u=e.handlers.length;u>l;++l)s[e.handlers[l].original]=e.handlers[l];o=s[a],i=o.normalised,e.element[n.REMOVE_EVENT](n.PREFIX+t,i,r||!1);for(var c in e.handlers)if(e.handlers[c]==o){e.handlers.splice(c,1);break}}};var i,r;n.normalise={browser:function(){"onwheel"in t||t.documentMode>=9||(n.SUPPORT=void 0!==t.onmousewheel?"mousewheel":"DOMMouseScroll"),e.addEventListener||(n.ADD_EVENT="attachEvent",n.REMOVE_EVENT="detachEvent",n.PREFIX="on")},event:function(e){var t={originalEvent:e,target:e.target||e.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"===e.type?0:1,deltaX:0,delatZ:0,preventDefault:function(){e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(){e.stopPropagation?e.stopPropagation():e.cancelBubble=!1}};return e.wheelDelta&&(t.deltaY=-1/40*e.wheelDelta),e.wheelDeltaX&&(t.deltaX=-1/40*e.wheelDeltaX),e.detail&&(t.deltaY=e.detail),t},delta:function(e){var t,n=0,o=0,a=0,s=0,l=0;return e.deltaY&&(a=-1*e.deltaY,n=a),e.deltaX&&(o=e.deltaX,n=-1*o),e.wheelDelta&&(n=e.wheelDelta),e.wheelDeltaY&&(a=e.wheelDeltaY),e.wheelDeltaX&&(o=-1*e.wheelDeltaX),e.detail&&(n=-1*e.detail),0===n?[0,0,0]:(s=Math.abs(n),(!i||i>s)&&(i=s),l=Math.max(Math.abs(a),Math.abs(o)),(!r||r>l)&&(r=l),t=n>0?"floor":"ceil",n=Math[t](n/i),o=Math[t](o/r),a=Math[t](a/r),[n,o,a])}},"function"==typeof e.define&&e.define.amd?e.define("hamster",[],function(){return n}):"object"==typeof exports?module.exports=n:e.Hamster=n}(window,window.document),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(t,i){var r,o,a,s=t.nodeName.toLowerCase();return"area"===s?(r=t.parentNode,o=r.name,t.href&&o&&"map"===r.nodeName.toLowerCase()?(a=e("img[usemap='#"+o+"']")[0],!!a&&n(a)):!1):(/^(input|select|textarea|button|object)$/.test(s)?!t.disabled:"a"===s?t.href||i:i)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}function i(e){for(var t,n;e.length&&e[0]!==document;){if(t=e.css("position"),("absolute"===t||"relative"===t||"fixed"===t)&&(n=parseInt(e.css("zIndex"),10),!isNaN(n)&&0!==n))return n;e=e.parent()}return 0}function r(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=o(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function o(t){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(n,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(n,"mouseover",a)}function a(){e.datepicker._isDisabledDatepicker(v.inline?v.dpDiv.parent()[0]:v.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))}function s(t,n){e.extend(t,n);for(var i in n)null==n[i]&&(t[i]=n[i]);return t}function l(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var n=this.css("position"),i="absolute"===n,r=t?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var t=e(this);return i&&"static"===t.css("position")?!1:r.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==n&&o.length?o:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])},focusable:function(n){return t(n,!isNaN(e.attr(n,"tabindex")))},tabbable:function(n){var i=e.attr(n,"tabindex"),r=isNaN(i);return(r||i>=0)&&t(n,!r)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,n){function i(t,n,i,o){return e.each(r,function(){n-=parseFloat(e.css(t,"padding"+this))||0,i&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),o&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var r="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),a={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(t){return void 0===t?a["inner"+n].call(this):this.each(function(){e(this).css(o,i(this,t)+"px")})},e.fn["outer"+n]=function(t,r){return"number"!=typeof t?a["outer"+n].call(this,t):this.each(function(){e(this).css(o,i(this,t,!0,r)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(n,i){return"number"==typeof n?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),i&&i.call(t)},n)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var n,i,r=e(this[0]);r.length&&r[0]!==document;){if(n=r.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(i=parseInt(r.css("zIndex"),10),!isNaN(i)&&0!==i))return i;r=r.parent()}return 0}}),e.ui.plugin={add:function(t,n,i){var r,o=e.ui[t].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(e,t,n,i){var r,o=e.plugins[t];if(o&&(i||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(r=0;r<o.length;r++)e.options[o[r][0]]&&o[r][1].apply(e.element,n)}};var u=0,c=Array.prototype.slice;e.cleanData=function(t){return function(n){var i,r,o;for(o=0;null!=(r=n[o]);o++)try{i=e._data(r,"events"),i&&i.remove&&e(r).triggerHandler("remove")}catch(a){}t(n)}}(e.cleanData),e.widget=function(t,n,i){var r,o,a,s,l={},u=t.split(".")[0];return t=t.split(".")[1],r=u+"-"+t,i||(i=n,n=e.Widget),e.expr[":"][r.toLowerCase()]=function(t){return!!e.data(t,r)},e[u]=e[u]||{},o=e[u][t],a=e[u][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new a(e,t)},e.extend(a,o,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),s=new n,s.options=e.widget.extend({},s.options),e.each(i,function(t,i){return e.isFunction(i)?void(l[t]=function(){
var e=function(){return n.prototype[t].apply(this,arguments)},r=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,o=this._superApply;return this._super=e,this._superApply=r,t=i.apply(this,arguments),this._super=n,this._superApply=o,t}}()):void(l[t]=i)}),a.prototype=e.widget.extend(s,{widgetEventPrefix:o?s.widgetEventPrefix||t:t},l,{constructor:a,namespace:u,widgetName:t,widgetFullName:r}),o?(e.each(o._childConstructors,function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,a,n._proto)}),delete o._childConstructors):n._childConstructors.push(a),e.widget.bridge(t,a),a},e.widget.extend=function(t){for(var n,i,r=c.call(arguments,1),o=0,a=r.length;a>o;o++)for(n in r[o])i=r[o][n],r[o].hasOwnProperty(n)&&void 0!==i&&(e.isPlainObject(i)?t[n]=e.isPlainObject(t[n])?e.widget.extend({},t[n],i):e.widget.extend({},i):t[n]=i);return t},e.widget.bridge=function(t,n){var i=n.prototype.widgetFullName||t;e.fn[t]=function(r){var o="string"==typeof r,a=c.call(arguments,1),s=this;return o?this.each(function(){var n,o=e.data(this,i);return"instance"===r?(s=o,!1):o?e.isFunction(o[r])&&"_"!==r.charAt(0)?(n=o[r].apply(o,a),n!==o&&void 0!==n?(s=n&&n.jquery?s.pushStack(n.get()):n,!1):void 0):e.error("no such method '"+r+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+r+"'")}):(a.length&&(r=e.widget.extend.apply(null,[r].concat(a))),this.each(function(){var t=e.data(this,i);t?(t.option(r||{}),t._init&&t._init()):e.data(this,i,new n(r,this))})),s}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=u++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var i,r,o,a=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(a={},i=t.split("."),t=i.shift(),i.length){for(r=a[t]=e.widget.extend({},this.options[t]),o=0;o<i.length-1;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]];if(t=i.pop(),1===arguments.length)return void 0===r[t]?null:r[t];r[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];a[t]=n}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,n,i){var r,o=this;"boolean"!=typeof t&&(i=n,n=t,t=!1),i?(n=r=e(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),e.each(i,function(i,a){function s(){return t||o.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof a?o[a]:a).apply(o,arguments):void 0}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||e.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+o.eventNamespace,c=l[2];c?r.delegate(c,u,s):n.bind(u,s)})},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(n).undelegate(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function n(){return("string"==typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,i){var r,o,a=this.options[t];if(i=i||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(e.isFunction(a)&&a.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(i,r,o){"string"==typeof r&&(r={effect:r});var a,s=r?r===!0||"number"==typeof r?n:r.effect||n:t;r=r||{},"number"==typeof r&&(r={duration:r}),a=!e.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),a&&e.effects&&e.effects.effect[s]?i[t](r):s!==t&&i[s]?i[s](r.duration,r.easing,o):i.queue(function(n){e(this)[t](),o&&o.call(i[0]),n()})}});var h=(e.widget,!1);e(document).mouseup(function(){h=!1});e.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){return!0===e.data(n.target,t.widgetName+".preventClickEvent")?(e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!h){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var n=this,i=1===t.which,r="string"==typeof this.options.cancel&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:!1;return i&&!r&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),h=!0,!0)):!0}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),h=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});!function(){function t(e,t,n){return[parseFloat(e[0])*(f.test(e[0])?t/100:1),parseFloat(e[1])*(f.test(e[1])?n/100:1)]}function n(t,n){return parseInt(e.css(t,n),10)||0}function i(t){var n=t[0];return 9===n.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(n)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var r,o,a=Math.max,s=Math.abs,l=Math.round,u=/left|center|right/,c=/top|center|bottom/,h=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,f=/%$/,p=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==r)return r;var t,n,i=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=i.children()[0];return e("body").append(i),t=o.offsetWidth,i.css("overflow","scroll"),n=o.offsetWidth,t===n&&(n=i[0].clientWidth),i.remove(),r=t-n},getScrollInfo:function(t){var n=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),i=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),r="scroll"===n||"auto"===n&&t.width<t.element[0].scrollWidth,o="scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight;return{width:o?e.position.scrollbarWidth():0,height:r?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),i=e.isWindow(n[0]),r=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:i,isDocument:r,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:i||r?n.width():n.outerWidth(),height:i||r?n.height():n.outerHeight()}}},e.fn.position=function(r){if(!r||!r.of)return p.apply(this,arguments);r=e.extend({},r);var f,m,g,v,y,b,w=e(r.of),x=e.position.getWithinInfo(r.within),$=e.position.getScrollInfo(x),C=(r.collision||"flip").split(" "),T={};return b=i(w),w[0].preventDefault&&(r.at="left top"),m=b.width,g=b.height,v=b.offset,y=e.extend({},v),e.each(["my","at"],function(){var e,t,n=(r[this]||"").split(" ");1===n.length&&(n=u.test(n[0])?n.concat(["center"]):c.test(n[0])?["center"].concat(n):["center","center"]),n[0]=u.test(n[0])?n[0]:"center",n[1]=c.test(n[1])?n[1]:"center",e=h.exec(n[0]),t=h.exec(n[1]),T[this]=[e?e[0]:0,t?t[0]:0],r[this]=[d.exec(n[0])[0],d.exec(n[1])[0]]}),1===C.length&&(C[1]=C[0]),"right"===r.at[0]?y.left+=m:"center"===r.at[0]&&(y.left+=m/2),"bottom"===r.at[1]?y.top+=g:"center"===r.at[1]&&(y.top+=g/2),f=t(T.at,m,g),y.left+=f[0],y.top+=f[1],this.each(function(){var i,u,c=e(this),h=c.outerWidth(),d=c.outerHeight(),p=n(this,"marginLeft"),b=n(this,"marginTop"),_=h+p+n(this,"marginRight")+$.width,k=d+b+n(this,"marginBottom")+$.height,S=e.extend({},y),M=t(T.my,c.outerWidth(),c.outerHeight());"right"===r.my[0]?S.left-=h:"center"===r.my[0]&&(S.left-=h/2),"bottom"===r.my[1]?S.top-=d:"center"===r.my[1]&&(S.top-=d/2),S.left+=M[0],S.top+=M[1],o||(S.left=l(S.left),S.top=l(S.top)),i={marginLeft:p,marginTop:b},e.each(["left","top"],function(t,n){e.ui.position[C[t]]&&e.ui.position[C[t]][n](S,{targetWidth:m,targetHeight:g,elemWidth:h,elemHeight:d,collisionPosition:i,collisionWidth:_,collisionHeight:k,offset:[f[0]+M[0],f[1]+M[1]],my:r.my,at:r.at,within:x,elem:c})}),r.using&&(u=function(e){var t=v.left-S.left,n=t+m-h,i=v.top-S.top,o=i+g-d,l={target:{element:w,left:v.left,top:v.top,width:m,height:g},element:{element:c,left:S.left,top:S.top,width:h,height:d},horizontal:0>n?"left":t>0?"right":"center",vertical:0>o?"top":i>0?"bottom":"middle"};h>m&&s(t+n)<m&&(l.horizontal="center"),d>g&&s(i+o)<g&&(l.vertical="middle"),a(s(t),s(n))>a(s(i),s(o))?l.important="horizontal":l.important="vertical",r.using.call(this,e,l)}),c.offset(e.extend(S,{using:u}))})},e.ui.position={fit:{left:function(e,t){var n,i=t.within,r=i.isWindow?i.scrollLeft:i.offset.left,o=i.width,s=e.left-t.collisionPosition.marginLeft,l=r-s,u=s+t.collisionWidth-o-r;t.collisionWidth>o?l>0&&0>=u?(n=e.left+l+t.collisionWidth-o-r,e.left+=l-n):u>0&&0>=l?e.left=r:l>u?e.left=r+o-t.collisionWidth:e.left=r:l>0?e.left+=l:u>0?e.left-=u:e.left=a(e.left-s,e.left)},top:function(e,t){var n,i=t.within,r=i.isWindow?i.scrollTop:i.offset.top,o=t.within.height,s=e.top-t.collisionPosition.marginTop,l=r-s,u=s+t.collisionHeight-o-r;t.collisionHeight>o?l>0&&0>=u?(n=e.top+l+t.collisionHeight-o-r,e.top+=l-n):u>0&&0>=l?e.top=r:l>u?e.top=r+o-t.collisionHeight:e.top=r:l>0?e.top+=l:u>0?e.top-=u:e.top=a(e.top-s,e.top)}},flip:{left:function(e,t){var n,i,r=t.within,o=r.offset.left+r.scrollLeft,a=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,u=e.left-t.collisionPosition.marginLeft,c=u-l,h=u+t.collisionWidth-a-l,d="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,f="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,p=-2*t.offset[0];0>c?(n=e.left+d+f+p+t.collisionWidth-a-o,(0>n||n<s(c))&&(e.left+=d+f+p)):h>0&&(i=e.left-t.collisionPosition.marginLeft+d+f+p-l,(i>0||s(i)<h)&&(e.left+=d+f+p))},top:function(e,t){var n,i,r=t.within,o=r.offset.top+r.scrollTop,a=r.height,l=r.isWindow?r.scrollTop:r.offset.top,u=e.top-t.collisionPosition.marginTop,c=u-l,h=u+t.collisionHeight-a-l,d="top"===t.my[1],f=d?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,p="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,m=-2*t.offset[1];0>c?(i=e.top+f+p+m+t.collisionHeight-a-o,(0>i||i<s(c))&&(e.top+=f+p+m)):h>0&&(n=e.top-t.collisionPosition.marginTop+f+p+m-l,(n>0||s(n)<h)&&(e.top+=f+p+m))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,n,i,r,a,s=document.getElementsByTagName("body")[0],l=document.createElement("div");t=document.createElement(s?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},s&&e.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"});for(a in i)t.style[a]=i[a];t.appendChild(l),n=s||document.documentElement,n.insertBefore(t,n.firstChild),l.style.cssText="position: absolute; left: 10.7432222px;",r=e(l).offset().left,o=r>10&&11>r,t.innerHTML="",n.removeChild(t)}()}();e.ui.position,e.widget("ui.accordion",{version:"1.11.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||t.active!==!1&&null!=t.active||(t.active=0),this._processPanels(),t.active<0&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){return"active"===e?void this._activate(t):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||this.options.active!==!1||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),void("disabled"===e&&(this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t))))},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var n=e.ui.keyCode,i=this.headers.length,r=this.headers.index(t.target),o=!1;switch(t.keyCode){case n.RIGHT:case n.DOWN:o=this.headers[(r+1)%i];break;case n.LEFT:case n.UP:o=this.headers[(r-1+i)%i];break;case n.SPACE:case n.ENTER:this._eventHandler(t);break;case n.HOME:o=this.headers[0];break;case n.END:o=this.headers[i-1]}o&&(e(t.target).attr("tabIndex",-1),e(o).attr("tabIndex",0),o.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),t.active===!1&&t.collapsible===!0||!this.headers.length?(t.active=!1,this.active=e()):t.active===!1?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,t=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),t&&(this._off(e.not(this.headers)),this._off(t.not(this.panels)))},_refresh:function(){var t,n=this.options,i=n.heightStyle,r=this.element.parent();this.active=this._findActive(n.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var t=e(this),n=t.uniqueId().attr("id"),i=t.next(),r=i.uniqueId().attr("id");t.attr("aria-controls",r),i.attr("aria-labelledby",n)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===i?(t=r.height(),this.element.siblings(":visible").each(function(){var n=e(this),i=n.css("position");"absolute"!==i&&"fixed"!==i&&(t-=n.outerHeight(!0))}),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===i&&(t=0,this.headers.next().each(function(){t=Math.max(t,e(this).css("height","").height())}).height(t))},_activate:function(t){var n=this._findActive(t)[0];n!==this.active[0]&&(n=n||this.active[0],this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var n={keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){n[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var n=this.options,i=this.active,r=e(t.currentTarget),o=r[0]===i[0],a=o&&n.collapsible,s=a?e():r.next(),l=i.next(),u={oldHeader:i,oldPanel:l,newHeader:a?e():r,newPanel:s};t.preventDefault(),o&&!n.collapsible||this._trigger("beforeActivate",t,u)===!1||(n.active=a?!1:this.headers.index(r),this.active=o?e():r,this._toggle(u),i.removeClass("ui-accordion-header-active ui-state-active"),n.icons&&i.children(".ui-accordion-header-icon").removeClass(n.icons.activeHeader).addClass(n.icons.header),o||(r.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),n.icons&&r.children(".ui-accordion-header-icon").removeClass(n.icons.header).addClass(n.icons.activeHeader),r.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var n=t.newPanel,i=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=n,this.prevHide=i,this.options.animate?this._animate(n,i,t):(i.hide(),n.show(),this._toggleComplete(t)),i.attr({"aria-hidden":"true"}),i.prev().attr({"aria-selected":"false","aria-expanded":"false"}),n.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):n.length&&this.headers.filter(function(){return 0===parseInt(e(this).attr("tabIndex"),10)}).attr("tabIndex",-1),n.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(e,t,n){var i,r,o,a=this,s=0,l=e.css("box-sizing"),u=e.length&&(!t.length||e.index()<t.index()),c=this.options.animate||{},h=u&&c.down||c,d=function(){a._toggleComplete(n)};return"number"==typeof h&&(o=h),"string"==typeof h&&(r=h),r=r||h.easing||c.easing,o=o||h.duration||c.duration,t.length?e.length?(i=e.show().outerHeight(),t.animate(this.hideProps,{duration:o,easing:r,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(this.showProps,{duration:o,easing:r,complete:d,step:function(e,n){n.now=Math.round(e),"height"!==n.prop?"content-box"===l&&(s+=n.now):"content"!==a.options.heightStyle&&(n.now=Math.round(i-t.outerHeight()-s),s=0)}})):t.animate(this.hideProps,o,r,d):e.animate(this.showProps,o,r,d)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}}),e.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var n=e(t.target);!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var n=e(t.currentTarget);n.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(t,n)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var n=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,n)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){var n,i,r,o,a=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:a=!1,i=this.previousFilter||"",r=String.fromCharCode(t.keyCode),o=!1,clearTimeout(this.filterTimer),r===i?o=!0:r=i+r,n=this._filterMenuItems(r),n=o&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n,n.length||(r=String.fromCharCode(t.keyCode),n=this._filterMenuItems(r)),n.length?(this.focus(t,n),this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}a&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(e):this.select(e))},refresh:function(){var t,n,i=this,r=this.options.icons.submenu,o=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),o.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),n=t.parent(),i=e("<span>").addClass("ui-menu-icon ui-icon "+r).data("ui-menu-submenu-carat",!0);n.attr("aria-haspopup","true").prepend(i),t.attr("aria-labelledby",n.attr("id"))}),t=o.add(this.element),n=t.find(this.options.items),n.not(".ui-menu-item").each(function(){var t=e(this);i._isDivider(t)&&t.addClass("ui-widget-content ui-menu-divider")}),n.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),n.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},focus:function(e,t){var n,i;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),i=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),n=t.children(".ui-menu"),n.length&&e&&/^mouse/.test(e.type)&&this._startOpening(n),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var n,i,r,o,a,s;this._hasScroll()&&(n=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,r=t.offset().top-this.activeMenu.offset().top-n-i,o=this.activeMenu.scrollTop(),a=this.activeMenu.height(),s=t.outerHeight(),0>r?this.activeMenu.scrollTop(o+r):r+s>a&&this.activeMenu.scrollTop(o+r-a+s))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var n=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(t,n){clearTimeout(this.timer),this.timer=this._delay(function(){var i=n?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(t),this.activeMenu=i},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,n){var i;this.active&&(i="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.find(this.options.items)[t]()),this.focus(n,i)},nextPage:function(t){var n,i,r;return this.active?void(this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return n=e(this),n.offset().top-i-r<0}),this.focus(t,n)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(t)},previousPage:function(t){var n,i,r;return this.active?void(this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return n=e(this),n.offset().top-i+r>0}),this.focus(t,n)):this.focus(t,this.activeMenu.find(this.options.items).first()))):void this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");
var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,n)},_filterMenuItems:function(t){var n=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),i=new RegExp("^"+n,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return i.test(e.trim(e(this).text()))})}});e.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,n,i,r=this.element[0].nodeName.toLowerCase(),o="textarea"===r,a="input"===r;this.isMultiLine=o?!0:a?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[o||a?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return t=!0,i=!0,void(n=!0);t=!1,i=!1,n=!1;var o=e.ui.keyCode;switch(r.keyCode){case o.PAGE_UP:t=!0,this._move("previousPage",r);break;case o.PAGE_DOWN:t=!0,this._move("nextPage",r);break;case o.UP:t=!0,this._keyEvent("previous",r);break;case o.DOWN:t=!0,this._keyEvent("next",r);break;case o.ENTER:this.menu.active&&(t=!0,r.preventDefault(),this.menu.select(r));break;case o.TAB:this.menu.active&&this.menu.select(r);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(r),r.preventDefault());break;default:n=!0,this._searchTimeout(r)}},keypress:function(i){if(t)return t=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||i.preventDefault());if(!n){var r=e.ui.keyCode;switch(i.keyCode){case r.PAGE_UP:this._move("previousPage",i);break;case r.PAGE_DOWN:this._move("nextPage",i);break;case r.UP:this._keyEvent("previous",i);break;case r.DOWN:this._keyEvent("next",i)}}},input:function(e){return i?(i=!1,void e.preventDefault()):void this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),void this._change(e))}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var n=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(i){i.target===t.element[0]||i.target===n||e.contains(n,i.target)||t.close()})})},menufocus:function(t,n){var i,r;return this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)})):(r=n.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:r})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(r.value),i=n.item.attr("aria-label")||r.value,void(i&&e.trim(i).length&&(this.liveRegion.children().hide(),e("<div>").text(i).appendTo(this.liveRegion))))},menuselect:function(e,t){var n=t.item.data("ui-autocomplete-item"),i=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i,this.selectedItem=n})),!1!==this._trigger("select",e,{item:n})&&this._value(n.value),this.term=this._value(),this.close(e),this.selectedItem=n}}),this.liveRegion=e("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,n,i=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(n,i){i(e.ui.autocomplete.filter(t,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(t,r){i.xhr&&i.xhr.abort(),i.xhr=e.ajax({url:n,data:t,dataType:"json",success:function(e){r(e)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),n=this.menu.element.is(":visible"),i=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;t&&(!t||n||i)||(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var n=this.menu.element.empty();this._renderMenu(n,t),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,n){var i=this;e.each(n,function(e,n){i._renderItemData(t,n)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,n){return e("<li>").text(n.label).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t):void this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,n){var i=new RegExp(e.ui.autocomplete.escapeRegex(n),"i");return e.grep(t,function(e){return i.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var n;this._superApply(arguments),this.options.disabled||this.cancelSearch||(n=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(n).appendTo(this.liveRegion))}});var d,f=(e.ui.autocomplete,"ui-button ui-widget ui-state-default ui-corner-all"),p="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",m=function(){var t=e(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},g=function(t){var n=t.name,i=t.form,r=e([]);return n&&(n=n.replace(/'/g,"\\'"),r=i?e(i).find("[name='"+n+"'][type=radio]"):e("[name='"+n+"'][type=radio]",t.ownerDocument).filter(function(){return!this.form})),r};e.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,m),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,n=this.options,i="checkbox"===this.type||"radio"===this.type,r=i?"":"ui-state-active";null===n.label&&(n.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(f).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){n.disabled||this===d&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){n.disabled||e(this).removeClass(r)}).bind("click"+this.eventNamespace,function(e){n.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),i&&this.element.bind("change"+this.eventNamespace,function(){t.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return n.disabled?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(n.disabled)return!1;e(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var i=t.element[0];g(i).not(i).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return n.disabled?!1:(e(this).addClass("ui-state-active"),d=this,void t.document.one("mouseup",function(){d=null}))}).bind("mouseup"+this.eventNamespace,function(){return n.disabled?!1:void e(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(t){return n.disabled?!1:void(t.keyCode!==e.ui.keyCode.SPACE&&t.keyCode!==e.ui.keyCode.ENTER||e(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",n.disabled),this._resetButton()},_determineButtonType:function(){var e,t,n;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),n=this.element.is(":checked"),n&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",n)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(f+" ui-state-active "+p).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),void(t&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")))):void this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?g(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var t=this.buttonElement.removeClass(p),n=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),i=this.options.icons,r=i.primary&&i.secondary,o=[];i.primary||i.secondary?(this.options.text&&o.push("ui-button-text-icon"+(r?"s":i.primary?"-primary":"-secondary")),i.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+i.primary+"'></span>"),i.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+i.secondary+"'></span>"),this.options.text||(o.push(r?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(n)))):o.push("ui-button-text-only"),t.addClass(o.join(" "))}}),e.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction"),n=this.element.find(this.options.items),i=n.filter(":ui-button");n.not(":ui-button").button(),i.button("refresh"),this.buttons=n.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}});e.ui.button;e.extend(e.ui,{datepicker:{version:"1.11.4"}});var v;e.extend(r.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return s(this._defaults,e||{}),this},_attachDatepicker:function(t,n){var i,r,o;i=t.nodeName.toLowerCase(),r="div"===i||"span"===i,t.id||(this.uuid+=1,t.id="dp"+this.uuid),o=this._newInst(e(t),r),o.settings=e.extend({},n||{}),"input"===i?this._connectDatepicker(t,o):r&&this._inlineDatepicker(t,o)},_newInst:function(t,n){var i=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:i,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?o(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,n){var i=e(t);n.append=e([]),n.trigger=e([]),i.hasClass(this.markerClassName)||(this._attachments(i,n),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(n),e.data(t,"datepicker",n),n.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,n){var i,r,o,a=this._get(n,"appendText"),s=this._get(n,"isRTL");n.append&&n.append.remove(),a&&(n.append=e("<span class='"+this._appendClass+"'>"+a+"</span>"),t[s?"before":"after"](n.append)),t.unbind("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),i=this._get(n,"showOn"),"focus"!==i&&"both"!==i||t.focus(this._showDatepicker),"button"!==i&&"both"!==i||(r=this._get(n,"buttonText"),o=this._get(n,"buttonImage"),n.trigger=e(this._get(n,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:o,alt:r,title:r}):e("<button type='button'></button>").addClass(this._triggerClass).html(o?e("<img/>").attr({src:o,alt:r,title:r}):r)),t[s?"before":"after"](n.trigger),n.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,n,i,r,o=new Date(2009,11,20),a=this._get(e,"dateFormat");a.match(/[DM]/)&&(t=function(e){for(n=0,i=0,r=0;r<e.length;r++)e[r].length>n&&(n=e[r].length,i=r);return i},o.setMonth(t(this._get(e,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(t(this._get(e,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),e.input.attr("size",this._formatDate(e,o).length)}},_inlineDatepicker:function(t,n){var i=e(t);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(n.dpDiv),e.data(t,"datepicker",n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(t),n.dpDiv.css("display","block"))},_dialogDatepicker:function(t,n,i,r,o){var a,l,u,c,h,d=this._dialogInst;return d||(this.uuid+=1,a="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+a+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),d=this._dialogInst=this._newInst(this._dialogInput,!1),d.settings={},e.data(this._dialogInput[0],"datepicker",d)),s(d.settings,r||{}),n=n&&n.constructor===Date?this._formatDate(d,n):n,this._dialogInput.val(n),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(l=document.documentElement.clientWidth,u=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,h=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+c,u/2-150+h]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),d.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",d),this},_destroyDatepicker:function(t){var n,i=e(t),r=e.data(t,"datepicker");i.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===n?(r.append.remove(),r.trigger.remove(),i.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!==n&&"span"!==n||i.removeClass(this.markerClassName).empty(),v===r&&(v=null))},_enableDatepicker:function(t){var n,i,r=e(t),o=e.data(t,"datepicker");r.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),"input"===n?(t.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==n&&"span"!==n||(i=r.children("."+this._inlineClass),i.children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var n,i,r=e(t),o=e.data(t,"datepicker");r.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),"input"===n?(t.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==n&&"span"!==n||(i=r.children("."+this._inlineClass),i.children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(n){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,n,i){var r,o,a,l,u=this._getInst(t);return 2===arguments.length&&"string"==typeof n?"defaults"===n?e.extend({},e.datepicker._defaults):u?"all"===n?e.extend({},u.settings):this._get(u,n):null:(r=n||{},"string"==typeof n&&(r={},r[n]=i),void(u&&(this._curInst===u&&this._hideDatepicker(),o=this._getDateDatepicker(t,!0),a=this._getMinMaxDate(u,"min"),l=this._getMinMaxDate(u,"max"),s(u.settings,r),null!==a&&void 0!==r.dateFormat&&void 0===r.minDate&&(u.settings.minDate=this._formatDate(u,a)),null!==l&&void 0!==r.dateFormat&&void 0===r.maxDate&&(u.settings.maxDate=this._formatDate(u,l)),"disabled"in r&&(r.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),u),this._autoSize(u),this._setDate(u,o),this._updateAlternate(u),this._updateDatepicker(u))))},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,t){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(t){var n,i,r,o=e.datepicker._getInst(t.target),a=!0,s=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),a=!1;break;case 13:return r=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",o.dpDiv),r[0]&&e.datepicker._selectDay(t.target,o.selectedMonth,o.selectedYear,r[0]),n=e.datepicker._get(o,"onSelect"),n?(i=e.datepicker._formatDate(o),n.apply(o.input?o.input[0]:null,[i,o])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(o,"stepBigMonths"):-e.datepicker._get(o,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(o,"stepBigMonths"):+e.datepicker._get(o,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),a=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),a=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,s?1:-1,"D"),a=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(o,"stepBigMonths"):-e.datepicker._get(o,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),a=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,s?-1:1,"D"),a=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(o,"stepBigMonths"):+e.datepicker._get(o,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),a=t.ctrlKey||t.metaKey;break;default:a=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):a=!1;a&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var n,i,r=e.datepicker._getInst(t.target);return e.datepicker._get(r,"constrainInput")?(n=e.datepicker._possibleChars(e.datepicker._get(r,"dateFormat")),i=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||" ">i||!n||n.indexOf(i)>-1):void 0},_doKeyUp:function(t){var n,i=e.datepicker._getInst(t.target);if(i.input.val()!==i.lastVal)try{n=e.datepicker.parseDate(e.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,e.datepicker._getFormatConfig(i)),n&&(e.datepicker._setDateFromField(i),e.datepicker._updateAlternate(i),e.datepicker._updateDatepicker(i))}catch(r){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var n,r,o,a,l,u,c;n=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==n&&(e.datepicker._curInst.dpDiv.stop(!0,!0),n&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),r=e.datepicker._get(n,"beforeShow"),o=r?r.apply(t,[t,n]):{},o!==!1&&(s(n.settings,o),n.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(n),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),a=!1,e(t).parents().each(function(){return a|="fixed"===e(this).css("position"),!a}),l={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(n),l=e.datepicker._checkOffset(n,l,a),n.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":a?"fixed":"absolute",display:"none",left:l.left+"px",top:l.top+"px"}),n.inline||(u=e.datepicker._get(n,"showAnim"),c=e.datepicker._get(n,"duration"),n.dpDiv.css("z-index",i(e(t))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[u]?n.dpDiv.show(u,e.datepicker._get(n,"showOptions"),c):n.dpDiv[u||"show"](u?c:null),e.datepicker._shouldFocusInput(n)&&n.input.focus(),e.datepicker._curInst=n))}},_updateDatepicker:function(t){this.maxRows=4,v=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var n,i=this._getNumberOfMonths(t),r=i[1],o=17,s=t.dpDiv.find("."+this._dayOverClass+" a");s.length>0&&a.apply(s.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&t.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",o*r+"em"),t.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(n=t.yearshtml,setTimeout(function(){n===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),n=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,n,i){var r=t.dpDiv.outerWidth(),o=t.dpDiv.outerHeight(),a=t.input?t.input.outerWidth():0,s=t.input?t.input.outerHeight():0,l=document.documentElement.clientWidth+(i?0:e(document).scrollLeft()),u=document.documentElement.clientHeight+(i?0:e(document).scrollTop());return n.left-=this._get(t,"isRTL")?r-a:0,n.left-=i&&n.left===t.input.offset().left?e(document).scrollLeft():0,n.top-=i&&n.top===t.input.offset().top+s?e(document).scrollTop():0,n.left-=Math.min(n.left,n.left+r>l&&l>r?Math.abs(n.left+r-l):0),n.top-=Math.min(n.top,n.top+o>u&&u>o?Math.abs(o+s):0),n},_findPos:function(t){for(var n,i=this._getInst(t),r=this._get(i,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[r?"previousSibling":"nextSibling"];return n=e(t).offset(),[n.left,n.top]},_hideDatepicker:function(t){var n,i,r,o,a=this._curInst;!a||t&&a!==e.data(t,"datepicker")||this._datepickerShowing&&(n=this._get(a,"showAnim"),i=this._get(a,"duration"),r=function(){e.datepicker._tidyDialog(a)},e.effects&&(e.effects.effect[n]||e.effects[n])?a.dpDiv.hide(n,e.datepicker._get(a,"showOptions"),i,r):a.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?i:null,r),n||r(),this._datepickerShowing=!1,o=this._get(a,"onClose"),o&&o.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var n=e(t.target),i=e.datepicker._getInst(n[0]);(n[0].id===e.datepicker._mainDivId||0!==n.parents("#"+e.datepicker._mainDivId).length||n.hasClass(e.datepicker.markerClassName)||n.closest("."+e.datepicker._triggerClass).length||!e.datepicker._datepickerShowing||e.datepicker._inDialog&&e.blockUI)&&(!n.hasClass(e.datepicker.markerClassName)||e.datepicker._curInst===i)||e.datepicker._hideDatepicker()}},_adjustDate:function(t,n,i){var r=e(t),o=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(o,n+("M"===i?this._get(o,"showCurrentAtPos"):0),i),this._updateDatepicker(o))},_gotoToday:function(t){var n,i=e(t),r=this._getInst(i[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(n=new Date,r.selectedDay=n.getDate(),r.drawMonth=r.selectedMonth=n.getMonth(),r.drawYear=r.selectedYear=n.getFullYear()),this._notifyChange(r),this._adjustDate(i)},_selectMonthYear:function(t,n,i){var r=e(t),o=this._getInst(r[0]);o["selected"+("M"===i?"Month":"Year")]=o["draw"+("M"===i?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(r)},_selectDay:function(t,n,i,r){var o,a=e(t);e(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||(o=this._getInst(a[0]),o.selectedDay=o.currentDay=e("a",r).html(),o.selectedMonth=o.currentMonth=n,o.selectedYear=o.currentYear=i,this._selectDate(t,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(t){var n=e(t);this._selectDate(n,"")},_selectDate:function(t,n){var i,r=e(t),o=this._getInst(r[0]);n=null!=n?n:this._formatDate(o),o.input&&o.input.val(n),this._updateAlternate(o),i=this._get(o,"onSelect"),i?i.apply(o.input?o.input[0]:null,[n,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var n,i,r,o=this._get(t,"altField");o&&(n=this._get(t,"altFormat")||this._get(t,"dateFormat"),i=this._getDate(t),r=this.formatDate(n,i,this._getFormatConfig(t)),e(o).each(function(){e(this).val(r)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),t=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1},parseDate:function(t,n,i){if(null==t||null==n)throw"Invalid arguments";if(n="object"==typeof n?n.toString():n+"",""===n)return null;var r,o,a,s,l=0,u=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof u?u:(new Date).getFullYear()%100+parseInt(u,10),h=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,d=(i?i.dayNames:null)||this._defaults.dayNames,f=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,p=(i?i.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,y=-1,b=!1,w=function(e){var n=r+1<t.length&&t.charAt(r+1)===e;return n&&r++,n},x=function(e){var t=w(e),i="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,r="y"===e?i:1,o=new RegExp("^\\d{"+r+","+i+"}"),a=n.substring(l).match(o);
if(!a)throw"Missing number at position "+l;return l+=a[0].length,parseInt(a[0],10)},$=function(t,i,r){var o=-1,a=e.map(w(t)?r:i,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(a,function(e,t){var i=t[1];return n.substr(l,i.length).toLowerCase()===i.toLowerCase()?(o=t[0],l+=i.length,!1):void 0}),-1!==o)return o+1;throw"Unknown name at position "+l},C=function(){if(n.charAt(l)!==t.charAt(r))throw"Unexpected literal at position "+l;l++};for(r=0;r<t.length;r++)if(b)"'"!==t.charAt(r)||w("'")?C():b=!1;else switch(t.charAt(r)){case"d":v=x("d");break;case"D":$("D",h,d);break;case"o":y=x("o");break;case"m":g=x("m");break;case"M":g=$("M",f,p);break;case"y":m=x("y");break;case"@":s=new Date(x("@")),m=s.getFullYear(),g=s.getMonth()+1,v=s.getDate();break;case"!":s=new Date((x("!")-this._ticksTo1970)/1e4),m=s.getFullYear(),g=s.getMonth()+1,v=s.getDate();break;case"'":w("'")?C():b=!0;break;default:C()}if(l<n.length&&(a=n.substr(l),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c>=m?0:-100)),y>-1)for(g=1,v=y;;){if(o=this._getDaysInMonth(m,g-1),o>=v)break;g++,v-=o}if(s=this._daylightSavingAdjust(new Date(m,g-1,v)),s.getFullYear()!==m||s.getMonth()+1!==g||s.getDate()!==v)throw"Invalid date";return s},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,n){if(!t)return"";var i,r=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,o=(n?n.dayNames:null)||this._defaults.dayNames,a=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,s=(n?n.monthNames:null)||this._defaults.monthNames,l=function(t){var n=i+1<e.length&&e.charAt(i+1)===t;return n&&i++,n},u=function(e,t,n){var i=""+t;if(l(e))for(;i.length<n;)i="0"+i;return i},c=function(e,t,n,i){return l(e)?i[t]:n[t]},h="",d=!1;if(t)for(i=0;i<e.length;i++)if(d)"'"!==e.charAt(i)||l("'")?h+=e.charAt(i):d=!1;else switch(e.charAt(i)){case"d":h+=u("d",t.getDate(),2);break;case"D":h+=c("D",t.getDay(),r,o);break;case"o":h+=u("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":h+=u("m",t.getMonth()+1,2);break;case"M":h+=c("M",t.getMonth(),a,s);break;case"y":h+=l("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":h+=t.getTime();break;case"!":h+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?h+="'":d=!0;break;default:h+=e.charAt(i)}return h},_possibleChars:function(e){var t,n="",i=!1,r=function(n){var i=t+1<e.length&&e.charAt(t+1)===n;return i&&t++,i};for(t=0;t<e.length;t++)if(i)"'"!==e.charAt(t)||r("'")?n+=e.charAt(t):i=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":r("'")?n+="'":i=!0;break;default:n+=e.charAt(t)}return n},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var n=this._get(e,"dateFormat"),i=e.lastVal=e.input?e.input.val():null,r=this._getDefaultDate(e),o=r,a=this._getFormatConfig(e);try{o=this.parseDate(n,i,a)||r}catch(s){i=t?"":i}e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),e.currentDay=i?o.getDate():0,e.currentMonth=i?o.getMonth():0,e.currentYear=i?o.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,n,i){var r=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},o=function(n){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),n,e.datepicker._getFormatConfig(t))}catch(i){}for(var r=(n.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,o=r.getFullYear(),a=r.getMonth(),s=r.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,u=l.exec(n);u;){switch(u[2]||"d"){case"d":case"D":s+=parseInt(u[1],10);break;case"w":case"W":s+=7*parseInt(u[1],10);break;case"m":case"M":a+=parseInt(u[1],10),s=Math.min(s,e.datepicker._getDaysInMonth(o,a));break;case"y":case"Y":o+=parseInt(u[1],10),s=Math.min(s,e.datepicker._getDaysInMonth(o,a))}u=l.exec(n)}return new Date(o,a,s)},a=null==n||""===n?i:"string"==typeof n?o(n):"number"==typeof n?isNaN(n)?i:r(n):new Date(n.getTime());return a=a&&"Invalid Date"===a.toString()?i:a,a&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var i=!t,r=e.selectedMonth,o=e.selectedYear,a=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=a.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=a.getMonth(),e.drawYear=e.selectedYear=e.currentYear=a.getFullYear(),r===e.selectedMonth&&o===e.selectedYear||n||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(i?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var n=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(i,-n,"M")},next:function(){e.datepicker._adjustDate(i,+n,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(i)},selectDay:function(){return e.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(i,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,n,i,r,o,a,s,l,u,c,h,d,f,p,m,g,v,y,b,w,x,$,C,T,_,k,S,M,D,I,E,P,A,O,N,R,H,z,F,L=new Date,j=this._daylightSavingAdjust(new Date(L.getFullYear(),L.getMonth(),L.getDate())),V=this._get(e,"isRTL"),W=this._get(e,"showButtonPanel"),q=this._get(e,"hideIfNoPrevNext"),B=this._get(e,"navigationAsDateFormat"),U=this._getNumberOfMonths(e),Y=this._get(e,"showCurrentAtPos"),X=this._get(e,"stepMonths"),K=1!==U[0]||1!==U[1],G=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),J=this._getMinMaxDate(e,"min"),Q=this._getMinMaxDate(e,"max"),Z=e.drawMonth-Y,ee=e.drawYear;if(0>Z&&(Z+=12,ee--),Q)for(t=this._daylightSavingAdjust(new Date(Q.getFullYear(),Q.getMonth()-U[0]*U[1]+1,Q.getDate())),t=J&&J>t?J:t;this._daylightSavingAdjust(new Date(ee,Z,1))>t;)Z--,0>Z&&(Z=11,ee--);for(e.drawMonth=Z,e.drawYear=ee,n=this._get(e,"prevText"),n=B?this.formatDate(n,this._daylightSavingAdjust(new Date(ee,Z-X,1)),this._getFormatConfig(e)):n,i=this._canAdjustMonth(e,-1,ee,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"e":"w")+"'>"+n+"</span></a>":q?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"e":"w")+"'>"+n+"</span></a>",r=this._get(e,"nextText"),r=B?this.formatDate(r,this._daylightSavingAdjust(new Date(ee,Z+X,1)),this._getFormatConfig(e)):r,o=this._canAdjustMonth(e,1,ee,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"w":"e")+"'>"+r+"</span></a>":q?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"w":"e")+"'>"+r+"</span></a>",a=this._get(e,"currentText"),s=this._get(e,"gotoCurrent")&&e.currentDay?G:j,a=B?this.formatDate(a,s,this._getFormatConfig(e)):a,l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",u=W?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(V?l:"")+(this._isInRange(e,s)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(V?"":l)+"</div>":"",c=parseInt(this._get(e,"firstDay"),10),c=isNaN(c)?0:c,h=this._get(e,"showWeek"),d=this._get(e,"dayNames"),f=this._get(e,"dayNamesMin"),p=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),g=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),y=this._get(e,"selectOtherMonths"),b=this._getDefaultDate(e),w="",$=0;$<U[0];$++){for(C="",this.maxRows=4,T=0;T<U[1];T++){if(_=this._daylightSavingAdjust(new Date(ee,Z,e.selectedDay)),k=" ui-corner-all",S="",K){if(S+="<div class='ui-datepicker-group",U[1]>1)switch(T){case 0:S+=" ui-datepicker-group-first",k=" ui-corner-"+(V?"right":"left");break;case U[1]-1:S+=" ui-datepicker-group-last",k=" ui-corner-"+(V?"left":"right");break;default:S+=" ui-datepicker-group-middle",k=""}S+="'>"}for(S+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+k+"'>"+(/all|left/.test(k)&&0===$?V?o:i:"")+(/all|right/.test(k)&&0===$?V?i:o:"")+this._generateMonthYearHeader(e,Z,ee,J,Q,$>0||T>0,p,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",M=h?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",x=0;7>x;x++)D=(x+c)%7,M+="<th scope='col'"+((x+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+d[D]+"'>"+f[D]+"</span></th>";for(S+=M+"</tr></thead><tbody>",I=this._getDaysInMonth(ee,Z),ee===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,I)),E=(this._getFirstDayOfMonth(ee,Z)-c+7)%7,P=Math.ceil((E+I)/7),A=K&&this.maxRows>P?this.maxRows:P,this.maxRows=A,O=this._daylightSavingAdjust(new Date(ee,Z,1-E)),N=0;A>N;N++){for(S+="<tr>",R=h?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(O)+"</td>":"",x=0;7>x;x++)H=g?g.apply(e.input?e.input[0]:null,[O]):[!0,""],z=O.getMonth()!==Z,F=z&&!y||!H[0]||J&&J>O||Q&&O>Q,R+="<td class='"+((x+c+6)%7>=5?" ui-datepicker-week-end":"")+(z?" ui-datepicker-other-month":"")+(O.getTime()===_.getTime()&&Z===e.selectedMonth&&e._keyEvent||b.getTime()===O.getTime()&&b.getTime()===_.getTime()?" "+this._dayOverClass:"")+(F?" "+this._unselectableClass+" ui-state-disabled":"")+(z&&!v?"":" "+H[1]+(O.getTime()===G.getTime()?" "+this._currentClass:"")+(O.getTime()===j.getTime()?" ui-datepicker-today":""))+"'"+(z&&!v||!H[2]?"":" title='"+H[2].replace(/'/g,"&#39;")+"'")+(F?"":" data-handler='selectDay' data-event='click' data-month='"+O.getMonth()+"' data-year='"+O.getFullYear()+"'")+">"+(z&&!v?"&#xa0;":F?"<span class='ui-state-default'>"+O.getDate()+"</span>":"<a class='ui-state-default"+(O.getTime()===j.getTime()?" ui-state-highlight":"")+(O.getTime()===G.getTime()?" ui-state-active":"")+(z?" ui-priority-secondary":"")+"' href='#'>"+O.getDate()+"</a>")+"</td>",O.setDate(O.getDate()+1),O=this._daylightSavingAdjust(O);S+=R+"</tr>"}Z++,Z>11&&(Z=0,ee++),S+="</tbody></table>"+(K?"</div>"+(U[0]>0&&T===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),C+=S}w+=C}return w+=u,e._keyEvent=!1,w},_generateMonthYearHeader:function(e,t,n,i,r,o,a,s){var l,u,c,h,d,f,p,m,g=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),y=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",w="";if(o||!g)w+="<span class='ui-datepicker-month'>"+a[t]+"</span>";else{for(l=i&&i.getFullYear()===n,u=r&&r.getFullYear()===n,w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;12>c;c++)(!l||c>=i.getMonth())&&(!u||c<=r.getMonth())&&(w+="<option value='"+c+"'"+(c===t?" selected='selected'":"")+">"+s[c]+"</option>");w+="</select>"}if(y||(b+=w+(!o&&g&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",o||!v)b+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(h=this._get(e,"yearRange").split(":"),d=(new Date).getFullYear(),f=function(e){var t=e.match(/c[+\-].*/)?n+parseInt(e.substring(1),10):e.match(/[+\-].*/)?d+parseInt(e,10):parseInt(e,10);return isNaN(t)?d:t},p=f(h[0]),m=Math.max(p,f(h[1]||"")),p=i?Math.max(p,i.getFullYear()):p,m=r?Math.min(m,r.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=p;p++)e.yearshtml+="<option value='"+p+"'"+(p===n?" selected='selected'":"")+">"+p+"</option>";e.yearshtml+="</select>",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,"yearSuffix"),y&&(b+=(!o&&g&&v?"":"&#xa0;")+w),b+="</div>"},_adjustInstDate:function(e,t,n){var i=e.drawYear+("Y"===n?t:0),r=e.drawMonth+("M"===n?t:0),o=Math.min(e.selectedDay,this._getDaysInMonth(i,r))+("D"===n?t:0),a=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(i,r,o)));e.selectedDay=a.getDate(),e.drawMonth=e.selectedMonth=a.getMonth(),e.drawYear=e.selectedYear=a.getFullYear(),"M"!==n&&"Y"!==n||this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),i=this._getMinMaxDate(e,"max"),r=n&&n>t?n:t;return i&&r>i?i:r},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,n,i){var r=this._getNumberOfMonths(e),o=this._daylightSavingAdjust(new Date(n,i+(0>t?t:r[0]*r[1]),1));return 0>t&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(e,o)},_isInRange:function(e,t){var n,i,r=this._getMinMaxDate(e,"min"),o=this._getMinMaxDate(e,"max"),a=null,s=null,l=this._get(e,"yearRange");return l&&(n=l.split(":"),i=(new Date).getFullYear(),a=parseInt(n[0],10),s=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(a+=i),n[1].match(/[+\-].*/)&&(s+=i)),(!r||t.getTime()>=r.getTime())&&(!o||t.getTime()<=o.getTime())&&(!a||t.getFullYear()>=a)&&(!s||t.getFullYear()<=s)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,i){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var r=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(i,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),r,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(n)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n))},e.datepicker=new r,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.11.4";e.datepicker;e.widget("ui.draggable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(t){var n=this.options;return this._blurActiveElement(t),this.helper||n.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(this._blockFrames(n.iframeFix===!0?"iframe":n.iframeFix),!0):!1)},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var n=this.document[0];if(this.handleElement.is(t.target))try{n.activeElement&&"body"!==n.activeElement.nodeName.toLowerCase()&&e(n.activeElement).blur()}catch(i){}},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(this._trigger("drag",t,i)===!1)return this._mouseUp({}),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=this,i=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(i=e.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){n._trigger("stop",t)!==!1&&n._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper),r=i?e(n.helper.apply(this.element[0],[t])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i&&r[0]===this.element[0]&&this._setPositionRelative(),r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,r=this.options,o=this.document[0];return this.relativeContainer=null,r.containment?"window"===r.containment?void(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===r.containment?void(this.containment=[0,0,e(o).width()-this.helperProportions.width-this.margins.left,(e(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):r.containment.constructor===Array?void(this.containment=r.containment):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),n=e(r.containment),i=n[0],void(i&&(t=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(t?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n))):void(this.containment=null)},_convertPositionTo:function(e,t){t||(t=this.position);var n="absolute"===e?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(e,t){var n,i,r,o,a=this.options,s=this._isRootNode(this.scrollParent[0]),l=e.pageX,u=e.pageY;return s&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,e.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),e.pageY-this.offset.click.top<n[1]&&(u=n[1]+this.offset.click.top),e.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),e.pageY-this.offset.click.top>n[3]&&(u=n[3]+this.offset.click.top)),a.grid&&(r=a.grid[1]?this.originalPageY+Math.round((u-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,u=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-a.grid[1]:r+a.grid[1]:r,o=a.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,l=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-a.grid[0]:o+a.grid[0]:o),"y"===a.axis&&(l=this.originalPageX),"x"===a.axis&&(u=this.originalPageY)),{top:u-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(t,n,i){return i=i||this._uiHash(),e.ui.plugin.call(this,t,[n,i,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n,i){var r=e.extend({},n,{item:i.element});i.sortables=[],e(i.options.connectToSortable).each(function(){var n=e(this).sortable("instance");n&&!n.options.disabled&&(i.sortables.push(n),n.refreshPositions(),n._trigger("activate",t,r))})},stop:function(t,n,i){var r=e.extend({},n,{item:i.element});i.cancelHelperRemoval=!1,e.each(i.sortables,function(){var e=this;e.isOver?(e.isOver=0,i.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,r))})},drag:function(t,n,i){e.each(i.sortables,function(){var r=!1,o=this;o.positionAbs=i.positionAbs,o.helperProportions=i.helperProportions,o.offset.click=i.offset.click,o._intersectsWith(o.containerCache)&&(r=!0,e.each(i.sortables,function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&e.contains(o.element[0],this.element[0])&&(r=!1),r})),r?(o.isOver||(o.isOver=1,i._parent=n.helper.parent(),o.currentItem=n.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return n.helper[0]},t.target=o.currentItem[0],o._mouseCapture(t,!0),o._mouseStart(t,!0,!0),o.offset.click.top=i.offset.click.top,o.offset.click.left=i.offset.click.left,o.offset.parent.left-=i.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=i.offset.parent.top-o.offset.parent.top,i._trigger("toSortable",t),i.dropped=o.element,e.each(i.sortables,function(){this.refreshPositions()}),i.currentItem=i.element,o.fromOutside=i),o.currentItem&&(o._mouseDrag(t),n.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",t,o._uiHash(o)),o._mouseStop(t,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),n.helper.appendTo(i._parent),i._refreshOffsets(t),n.position=i._generatePosition(t,!0),i._trigger("fromSortable",t),i.dropped=!1,e.each(i.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,n,i){var r=e("body"),o=i.options;r.css("cursor")&&(o._cursor=r.css("cursor")),r.css("cursor",o.cursor)},stop:function(t,n,i){var r=i.options;r._cursor&&e("body").css("cursor",r._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n,i){var r=e(n.helper),o=i.options;r.css("opacity")&&(o._opacity=r.css("opacity")),r.css("opacity",o.opacity)},stop:function(t,n,i){var r=i.options;r._opacity&&e(n.helper).css("opacity",r._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(t,n,i){var r=i.options,o=!1,a=i.scrollParentNotHidden[0],s=i.document[0];a!==s&&"HTML"!==a.tagName?(r.axis&&"x"===r.axis||(i.overflowOffset.top+a.offsetHeight-t.pageY<r.scrollSensitivity?a.scrollTop=o=a.scrollTop+r.scrollSpeed:t.pageY-i.overflowOffset.top<r.scrollSensitivity&&(a.scrollTop=o=a.scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(i.overflowOffset.left+a.offsetWidth-t.pageX<r.scrollSensitivity?a.scrollLeft=o=a.scrollLeft+r.scrollSpeed:t.pageX-i.overflowOffset.left<r.scrollSensitivity&&(a.scrollLeft=o=a.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(t.pageY-e(s).scrollTop()<r.scrollSensitivity?o=e(s).scrollTop(e(s).scrollTop()-r.scrollSpeed):e(window).height()-(t.pageY-e(s).scrollTop())<r.scrollSensitivity&&(o=e(s).scrollTop(e(s).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(t.pageX-e(s).scrollLeft()<r.scrollSensitivity?o=e(s).scrollLeft(e(s).scrollLeft()-r.scrollSpeed):e(window).width()-(t.pageX-e(s).scrollLeft())<r.scrollSensitivity&&(o=e(s).scrollLeft(e(s).scrollLeft()+r.scrollSpeed)))),o!==!1&&e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(i,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,n,i){
var r=i.options;i.snapElements=[],e(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var t=e(this),n=t.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:n.top,left:n.left})})},drag:function(t,n,i){var r,o,a,s,l,u,c,h,d,f,p=i.options,m=p.snapTolerance,g=n.offset.left,v=g+i.helperProportions.width,y=n.offset.top,b=y+i.helperProportions.height;for(d=i.snapElements.length-1;d>=0;d--)l=i.snapElements[d].left-i.margins.left,u=l+i.snapElements[d].width,c=i.snapElements[d].top-i.margins.top,h=c+i.snapElements[d].height,l-m>v||g>u+m||c-m>b||y>h+m||!e.contains(i.snapElements[d].item.ownerDocument,i.snapElements[d].item)?(i.snapElements[d].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,t,e.extend(i._uiHash(),{snapItem:i.snapElements[d].item})),i.snapElements[d].snapping=!1):("inner"!==p.snapMode&&(r=Math.abs(c-b)<=m,o=Math.abs(h-y)<=m,a=Math.abs(l-v)<=m,s=Math.abs(u-g)<=m,r&&(n.position.top=i._convertPositionTo("relative",{top:c-i.helperProportions.height,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:h,left:0}).top),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:u}).left)),f=r||o||a||s,"outer"!==p.snapMode&&(r=Math.abs(c-y)<=m,o=Math.abs(h-b)<=m,a=Math.abs(l-g)<=m,s=Math.abs(u-v)<=m,r&&(n.position.top=i._convertPositionTo("relative",{top:c,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:h-i.helperProportions.height,left:0}).top),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l}).left),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:u-i.helperProportions.width}).left)),!i.snapElements[d].snapping&&(r||o||a||s||f)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,t,e.extend(i._uiHash(),{snapItem:i.snapElements[d].item})),i.snapElements[d].snapping=r||o||a||s||f)}}),e.ui.plugin.add("draggable","stack",{start:function(t,n,i){var r,o=i.options,a=e.makeArray(e(o.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});a.length&&(r=parseInt(e(a[0]).css("zIndex"),10)||0,e(a).each(function(t){e(this).css("zIndex",r+t)}),this.css("zIndex",r+a.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n,i){var r=e(n.helper),o=i.options;r.css("zIndex")&&(o._zIndex=r.css("zIndex")),r.css("zIndex",o.zIndex)},stop:function(t,n,i){var r=i.options;r._zIndex&&e(n.helper).css("zIndex",r._zIndex)}});e.ui.draggable;e.widget("ui.resizable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return t[i]>0?!0:(t[i]=1,r=t[i]>0,t[i]=0,r)},_create:function(){var t,n,i,r,o,a=this,s=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!s.aspectRatio,aspectRatio:s.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:s.helper||s.ghost||s.animate?s.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=s.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},n=0;n<t.length;n++)i=e.trim(t[n]),o="ui-resizable-"+i,r=e("<div class='ui-resizable-handle "+o+"'></div>"),r.css({zIndex:s.zIndex}),"se"===i&&r.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[i]=".ui-resizable-"+i,this.element.append(r);this._renderAxis=function(t){var n,i,r,o;t=t||this.element;for(n in this.handles)this.handles[n].constructor===String?this.handles[n]=this.element.children(this.handles[n]).first().show():(this.handles[n].jquery||this.handles[n].nodeType)&&(this.handles[n]=e(this.handles[n]),this._on(this.handles[n],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=e(this.handles[n],this.element),o=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),r=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),t.css(r,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[n])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){a.resizing||(this.className&&(r=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=r&&r[1]?r[1]:"se")}),s.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){s.disabled||(e(this).removeClass("ui-resizable-autohide"),a._handles.show())}).mouseleave(function(){s.disabled||a.resizing||(e(this).addClass("ui-resizable-autohide"),a._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,n=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_mouseCapture:function(t){var n,i,r=!1;for(n in this.handles)i=e(this.handles[n])[0],(i===t.target||e.contains(i,t.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(t){var n,i,r,o=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),o.containment&&(n+=e(o.containment).scrollLeft()||0,i+=e(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalPosition={left:n,top:i},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===r?this.axis+"-resize":r),a.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var n,i,r=this.originalMousePosition,o=this.axis,a=t.pageX-r.left||0,s=t.pageY-r.top||0,l=this._change[o];return this._updatePrevProperties(),l?(n=l.apply(this,[t,a,s]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(n=this._updateRatio(n,t)),n=this._respectSize(n,t),this._updateCache(n),this._propagate("resize",t),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(t){this.resizing=!1;var n,i,r,o,a,s,l,u=this.options,c=this;return this._helper&&(n=this._proportionallyResizeElements,i=n.length&&/textarea/i.test(n[0].nodeName),r=i&&this._hasScroll(n[0],"left")?0:c.sizeDiff.height,o=i?0:c.sizeDiff.width,a={width:c.helper.width()-o,height:c.helper.height()-r},s=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,l=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null,u.animate||this.element.css(e.extend(a,{top:l,left:s})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!u.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,n,i,r,o,a=this.options;o={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||e)&&(t=o.minHeight*this.aspectRatio,i=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,r=o.maxWidth/this.aspectRatio,t>o.minWidth&&(o.minWidth=t),i>o.minHeight&&(o.minHeight=i),n<o.maxWidth&&(o.maxWidth=n),r<o.maxHeight&&(o.maxHeight=r)),this._vBoundaries=o},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,i=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===i&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"===i&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,i=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,r=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,o=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,a=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,s=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,u=/sw|nw|w/.test(n),c=/nw|ne|n/.test(n);return o&&(e.width=t.minWidth),a&&(e.height=t.minHeight),i&&(e.width=t.maxWidth),r&&(e.height=t.maxHeight),o&&u&&(e.left=s-t.minWidth),i&&u&&(e.left=s-t.maxWidth),a&&c&&(e.top=l-t.minHeight),r&&c&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,n=[],i=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],r=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];4>t;t++)n[t]=parseInt(i[t],10)||0,n[t]+=parseInt(r[t],10)||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,n=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,n=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize,i=this.originalPosition;return{left:i.left+t,width:n.width-t}},n:function(e,t,n){var i=this.originalSize,r=this.originalPosition;return{top:r.top+n,height:i.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},sw:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,i]))},ne:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},nw:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,i]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),"resize"!==t&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var n=e(this).resizable("instance"),i=n.options,r=n._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),a=o&&n._hasScroll(r[0],"left")?0:n.sizeDiff.height,s=o?0:n.sizeDiff.width,l={width:n.size.width-s,height:n.size.height-a},u=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,c=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(e.extend(l,c&&u?{top:c,left:u}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};r&&r.length&&e(r[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,n,i,r,o,a,s,l=e(this).resizable("instance"),u=l.options,c=l.element,h=u.containment,d=h instanceof e?h.get(0):/parent/.test(h)?c.parent().get(0):h;d&&(l.containerElement=e(d),/document/.test(h)||h===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(d),n=[],e(["Top","Right","Left","Bottom"]).each(function(e,i){n[e]=l._num(t.css("padding"+i))}),l.containerOffset=t.offset(),l.containerPosition=t.position(),l.containerSize={height:t.innerHeight()-n[3],width:t.innerWidth()-n[1]},i=l.containerOffset,r=l.containerSize.height,o=l.containerSize.width,a=l._hasScroll(d,"left")?d.scrollWidth:o,s=l._hasScroll(d)?d.scrollHeight:r,l.parentData={element:d,left:i.left,top:i.top,width:a,height:s}))},resize:function(t){var n,i,r,o,a=e(this).resizable("instance"),s=a.options,l=a.containerOffset,u=a.position,c=a._aspectRatio||t.shiftKey,h={top:0,left:0},d=a.containerElement,f=!0;d[0]!==document&&/static/.test(d.css("position"))&&(h=l),u.left<(a._helper?l.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-l.left:a.position.left-h.left),c&&(a.size.height=a.size.width/a.aspectRatio,f=!1),a.position.left=s.helper?l.left:0),u.top<(a._helper?l.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-l.top:a.position.top),c&&(a.size.width=a.size.height*a.aspectRatio,f=!1),a.position.top=a._helper?l.top:0),r=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css("position")),r&&o?(a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top):(a.offset.left=a.element.offset().left,a.offset.top=a.element.offset().top),n=Math.abs(a.sizeDiff.width+(a._helper?a.offset.left-h.left:a.offset.left-l.left)),i=Math.abs(a.sizeDiff.height+(a._helper?a.offset.top-h.top:a.offset.top-l.top)),n+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-n,c&&(a.size.height=a.size.width/a.aspectRatio,f=!1)),i+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-i,c&&(a.size.width=a.size.height*a.aspectRatio,f=!1)),f||(a.position.left=a.prevPosition.left,a.position.top=a.prevPosition.top,a.size.width=a.prevSize.width,a.size.height=a.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),n=t.options,i=t.containerOffset,r=t.containerPosition,o=t.containerElement,a=e(t.helper),s=a.offset(),l=a.outerWidth()-t.sizeDiff.width,u=a.outerHeight()-t.sizeDiff.height;t._helper&&!n.animate&&/relative/.test(o.css("position"))&&e(this).css({left:s.left-r.left-i.left,width:l,height:u}),t._helper&&!n.animate&&/static/.test(o.css("position"))&&e(this).css({left:s.left-r.left-i.left,width:l,height:u})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),n=t.options;e(n.alsoResize).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})},resize:function(t,n){var i=e(this).resizable("instance"),r=i.options,o=i.originalSize,a=i.originalPosition,s={height:i.size.height-o.height||0,width:i.size.width-o.width||0,top:i.position.top-a.top||0,left:i.position.left-a.left||0};e(r.alsoResize).each(function(){var t=e(this),i=e(this).data("ui-resizable-alsoresize"),r={},o=t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(o,function(e,t){var n=(i[t]||0)+(s[t]||0);n&&n>=0&&(r[t]=n||null)}),t.css(r)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),n=t.options,i=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof n.ghost?n.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,n=e(this).resizable("instance"),i=n.options,r=n.size,o=n.originalSize,a=n.originalPosition,s=n.axis,l="number"==typeof i.grid?[i.grid,i.grid]:i.grid,u=l[0]||1,c=l[1]||1,h=Math.round((r.width-o.width)/u)*u,d=Math.round((r.height-o.height)/c)*c,f=o.width+h,p=o.height+d,m=i.maxWidth&&i.maxWidth<f,g=i.maxHeight&&i.maxHeight<p,v=i.minWidth&&i.minWidth>f,y=i.minHeight&&i.minHeight>p;i.grid=l,v&&(f+=u),y&&(p+=c),m&&(f-=u),g&&(p-=c),/^(se|s|e)$/.test(s)?(n.size.width=f,n.size.height=p):/^(ne)$/.test(s)?(n.size.width=f,n.size.height=p,n.position.top=a.top-d):/^(sw)$/.test(s)?(n.size.width=f,n.size.height=p,n.position.left=a.left-h):((0>=p-c||0>=f-u)&&(t=n._getPaddingPlusBorderDimensions(this)),p-c>0?(n.size.height=p,n.position.top=a.top-d):(p=c-t.height,n.size.height=p,n.position.top=a.top+o.height-p),f-u>0?(n.size.width=f,n.position.left=a.left-h):(f=u-t.width,n.size.width=f,n.position.left=a.left+o.width-f))}});e.ui.resizable,e.widget("ui.dialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var n=e(this).css(t).offset().top;0>n&&e(this).css("top",t.top-n)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var n,i=this;if(this._isOpen&&this._trigger("beforeClose",t)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{n=this.document[0].activeElement,n&&"body"!==n.nodeName.toLowerCase()&&e(n).blur()}catch(r){}this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",t)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,n){var i=!1,r=this.uiDialog.siblings(".ui-front:visible").map(function(){return+e(this).css("z-index")}).get(),o=Math.max.apply(null,r);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),i=!0),i&&!n&&this._trigger("focus",t),i},open:function(){var t=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function n(){var t=this.document[0].activeElement,n=this.uiDialog[0]===t||e.contains(this.uiDialog[0],t);n||this._focusTabbable()}t.preventDefault(),n.call(this),this._delay(n)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var n=this.uiDialog.find(":tabbable"),i=n.filter(":first"),r=n.filter(":last");t.target!==r[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==i[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){r.focus()}),t.preventDefault()):(this._delay(function(){i.focus()}),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,n=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(n)||e.isArray(n)&&!n.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(e.each(n,function(n,i){var r,o;i=e.isFunction(i)?{click:i,text:n}:i,i=e.extend({type:"button"},i),r=i.click,i.click=function(){r.apply(t.element[0],arguments)},o={icons:i.icons,text:i.showText},delete i.icons,delete i.showText,e("<button></button>",i).button(o).appendTo(t.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var n=this,i=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(i,r){e(this).addClass("ui-dialog-dragging"),n._blockFrames(),n._trigger("dragStart",i,t(r))},drag:function(e,i){n._trigger("drag",e,t(i))},stop:function(r,o){var a=o.offset.left-n.document.scrollLeft(),s=o.offset.top-n.document.scrollTop();i.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(s>=0?"+":"")+s,of:n.window},e(this).removeClass("ui-dialog-dragging"),n._unblockFrames(),n._trigger("dragStop",r,t(o))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var n=this,i=this.options,r=i.resizable,o=this.uiDialog.css("position"),a="string"==typeof r?r:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:a,start:function(i,r){e(this).addClass("ui-dialog-resizing"),n._blockFrames(),n._trigger("resizeStart",i,t(r))},resize:function(e,i){n._trigger("resize",e,t(i))},stop:function(r,o){var a=n.uiDialog.offset(),s=a.left-n.document.scrollLeft(),l=a.top-n.document.scrollTop();i.height=n.uiDialog.height(),i.width=n.uiDialog.width(),i.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(l>=0?"+":"")+l,of:n.window},e(this).removeClass("ui-dialog-resizing"),n._unblockFrames(),n._trigger("resizeStop",r,t(o))}}).css("position",o)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),n=e.inArray(this,t);-1!==n&&t.splice(n,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var n=this,i=!1,r={};e.each(t,function(e,t){n._setOption(e,t),e in n.sizeRelatedOptions&&(i=!0),e in n.resizableRelatedOptions&&(r[e]=t)}),i&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(e,t){var n,i,r=this.uiDialog;"dialogClass"===e&&r.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&(n=r.is(":data(ui-draggable)"),n&&!t&&r.draggable("destroy"),!n&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(i=r.is(":data(ui-resizable)"),i&&!t&&r.resizable("destroy"),i&&"string"==typeof t&&r.resizable("option","handles",t),i||t===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,n,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),i.minWidth>i.width&&(i.width=i.minWidth),e=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),t=Math.max(0,i.minHeight-e),n="number"==typeof i.maxHeight?Math.max(0,i.maxHeight-e):"none","auto"===i.height?this.element.css({minHeight:t,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,i.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return e(t.target).closest(".ui-dialog").length?!0:!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),
this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}});e.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,n=this.options,i=n.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(i)?i:function(e){return e.is(i)},this.proportions=function(){return arguments.length?void(t=arguments[0]):t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(n.scope),n.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;t<e.length;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,n){if("accept"===t)this.accept=e.isFunction(n)?n:function(e){return e.is(n)};else if("scope"===t){var i=e.ui.ddmanager.droppables[this.options.scope];this._splice(i),this._addToManager(n)}this._super(t,n)},_activate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",t,this.ui(n))},_deactivate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),n&&this._trigger("deactivate",t,this.ui(n))},_over:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(n)))},_out:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(n)))},_drop:function(t,n){var i=n||e.ui.ddmanager.current,r=!1;return i&&(i.currentItem||i.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var n=e(this).droppable("instance");return n.options.greedy&&!n.options.disabled&&n.options.scope===i.options.scope&&n.accept.call(n.element[0],i.currentItem||i.element)&&e.ui.intersect(i,e.extend(n,{offset:n.element.offset()}),n.options.tolerance,t)?(r=!0,!1):void 0}),r?!1:this.accept.call(this.element[0],i.currentItem||i.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(i)),this.element):!1):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(){function e(e,t,n){return e>=t&&t+n>e}return function(t,n,i,r){if(!n.offset)return!1;var o=(t.positionAbs||t.position.absolute).left+t.margins.left,a=(t.positionAbs||t.position.absolute).top+t.margins.top,s=o+t.helperProportions.width,l=a+t.helperProportions.height,u=n.offset.left,c=n.offset.top,h=u+n.proportions().width,d=c+n.proportions().height;switch(i){case"fit":return o>=u&&h>=s&&a>=c&&d>=l;case"intersect":return u<o+t.helperProportions.width/2&&s-t.helperProportions.width/2<h&&c<a+t.helperProportions.height/2&&l-t.helperProportions.height/2<d;case"pointer":return e(r.pageY,c,n.proportions().height)&&e(r.pageX,u,n.proportions().width);case"touch":return(a>=c&&d>=a||l>=c&&d>=l||c>a&&l>d)&&(o>=u&&h>=o||s>=u&&h>=s||u>o&&s>h);default:return!1}}}(),e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,n){var i,r,o=e.ui.ddmanager.droppables[t.options.scope]||[],a=n?n.type:null,s=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(i=0;i<o.length;i++)if(!(o[i].options.disabled||t&&!o[i].accept.call(o[i].element[0],t.currentItem||t.element))){for(r=0;r<s.length;r++)if(s[r]===o[i].element[0]){o[i].proportions().height=0;continue e}o[i].visible="none"!==o[i].element.css("display"),o[i].visible&&("mousedown"===a&&o[i]._activate.call(o[i],n),o[i].offset=o[i].element.offset(),o[i].proportions({width:o[i].element[0].offsetWidth,height:o[i].element[0].offsetHeight}))}},drop:function(t,n){var i=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance,n)&&(i=this._drop.call(this,n)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),i},dragStart:function(t,n){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)})},drag:function(t,n){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,n),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i,r,o,a=e.ui.intersect(t,this,this.options.tolerance,n),s=!a&&this.isover?"isout":a&&!this.isover?"isover":null;s&&(this.options.greedy&&(r=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===r}),o.length&&(i=e(o[0]).droppable("instance"),i.greedyChild="isover"===s)),i&&"isover"===s&&(i.isover=!1,i.isout=!0,i._out.call(i,n)),this[s]=!0,this["isout"===s?"isover":"isout"]=!1,this["isover"===s?"_over":"_out"].call(this,n),i&&"isout"===s&&(i.isout=!1,i.isover=!0,i._over.call(i,n)))}})},dragStop:function(t,n){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}};var y=(e.ui.droppable,"ui-effects-"),b=e;e.effects={effect:{}},function(e,t){function n(e,t,n){var i=h[t.type]||{};return null==e?n||!t.def?null:t.def:(e=i.floor?~~e:parseFloat(e),isNaN(e)?t.def:i.mod?(e+i.mod)%i.mod:0>e?0:i.max<e?i.max:e)}function i(t){var n=u(),i=n._rgba=[];return t=t.toLowerCase(),p(l,function(e,r){var o,a=r.re.exec(t),s=a&&r.parse(a),l=r.space||"rgba";return s?(o=n[l](s),n[c[l].cache]=o[c[l].cache],i=n._rgba=o._rgba,!1):void 0}),i.length?("0,0,0,0"===i.join()&&e.extend(i,o.transparent),n):o[t]}function r(e,t,n){return n=(n+1)%1,1>6*n?e+(t-e)*n*6:1>2*n?t:2>3*n?e+(t-e)*(2/3-n)*6:e}var o,a="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",s=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],u=e.Color=function(t,n,i,r){return new e.Color.fn.parse(t,n,i,r)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},h={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=u.support={},f=e("<p>")[0],p=e.each;f.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=f.style.backgroundColor.indexOf("rgba")>-1,p(c,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),u.fn=e.extend(u.prototype,{parse:function(r,a,s,l){if(r===t)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=e(r).css(a),a=t);var h=this,d=e.type(r),f=this._rgba=[];return a!==t&&(r=[r,a,s,l],d="array"),"string"===d?this.parse(i(r)||o._default):"array"===d?(p(c.rgba.props,function(e,t){f[t.idx]=n(r[t.idx],t)}),this):"object"===d?(r instanceof u?p(c,function(e,t){r[t.cache]&&(h[t.cache]=r[t.cache].slice())}):p(c,function(t,i){var o=i.cache;p(i.props,function(e,t){if(!h[o]&&i.to){if("alpha"===e||null==r[e])return;h[o]=i.to(h._rgba)}h[o][t.idx]=n(r[e],t,!0)}),h[o]&&e.inArray(null,h[o].slice(0,3))<0&&(h[o][3]=1,i.from&&(h._rgba=i.from(h[o])))}),this):void 0},is:function(e){var t=u(e),n=!0,i=this;return p(c,function(e,r){var o,a=t[r.cache];return a&&(o=i[r.cache]||r.to&&r.to(i._rgba)||[],p(r.props,function(e,t){return null!=a[t.idx]?n=a[t.idx]===o[t.idx]:void 0})),n}),n},_space:function(){var e=[],t=this;return p(c,function(n,i){t[i.cache]&&e.push(n)}),e.pop()},transition:function(e,t){var i=u(e),r=i._space(),o=c[r],a=0===this.alpha()?u("transparent"):this,s=a[o.cache]||o.to(a._rgba),l=s.slice();return i=i[o.cache],p(o.props,function(e,r){var o=r.idx,a=s[o],u=i[o],c=h[r.type]||{};null!==u&&(null===a?l[o]=u:(c.mod&&(u-a>c.mod/2?a+=c.mod:a-u>c.mod/2&&(a-=c.mod)),l[o]=n((u-a)*t+a,r)))}),this[r](l)},blend:function(t){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),r=u(t)._rgba;return u(e.map(n,function(e,t){return(1-i)*r[t]+i*e}))},toRgbaString:function(){var t="rgba(",n=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===n[3]&&(n.pop(),t="rgb("),t+n.join()+")"},toHslaString:function(){var t="hsla(",n=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===n[3]&&(n.pop(),t="hsl("),t+n.join()+")"},toHexString:function(t){var n=this._rgba.slice(),i=n.pop();return t&&n.push(~~(255*i)),"#"+e.map(n,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),u.fn.parse.prototype=u.fn,c.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,n,i=e[0]/255,r=e[1]/255,o=e[2]/255,a=e[3],s=Math.max(i,r,o),l=Math.min(i,r,o),u=s-l,c=s+l,h=.5*c;return t=l===s?0:i===s?60*(r-o)/u+360:r===s?60*(o-i)/u+120:60*(i-r)/u+240,n=0===u?0:.5>=h?u/c:u/(2-c),[Math.round(t)%360,n,h,null==a?1:a]},c.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,n=e[1],i=e[2],o=e[3],a=.5>=i?i*(1+n):i+n-i*n,s=2*i-a;return[Math.round(255*r(s,a,t+1/3)),Math.round(255*r(s,a,t)),Math.round(255*r(s,a,t-1/3)),o]},p(c,function(i,r){var o=r.props,a=r.cache,l=r.to,c=r.from;u.fn[i]=function(i){if(l&&!this[a]&&(this[a]=l(this._rgba)),i===t)return this[a].slice();var r,s=e.type(i),h="array"===s||"object"===s?i:arguments,d=this[a].slice();return p(o,function(e,t){var i=h["object"===s?e:t.idx];null==i&&(i=d[t.idx]),d[t.idx]=n(i,t)}),c?(r=u(c(d)),r[a]=d,r):u(d)},p(o,function(t,n){u.fn[t]||(u.fn[t]=function(r){var o,a=e.type(r),l="alpha"===t?this._hsla?"hsla":"rgba":i,u=this[l](),c=u[n.idx];return"undefined"===a?c:("function"===a&&(r=r.call(this,c),a=e.type(r)),null==r&&n.empty?this:("string"===a&&(o=s.exec(r),o&&(r=c+parseFloat(o[2])*("+"===o[1]?1:-1))),u[n.idx]=r,this[l](u)))})})}),u.hook=function(t){var n=t.split(" ");p(n,function(t,n){e.cssHooks[n]={set:function(t,r){var o,a,s="";if("transparent"!==r&&("string"!==e.type(r)||(o=i(r)))){if(r=u(o||r),!d.rgba&&1!==r._rgba[3]){for(a="backgroundColor"===n?t.parentNode:t;(""===s||"transparent"===s)&&a&&a.style;)try{s=e.css(a,"backgroundColor"),a=a.parentNode}catch(l){}r=r.blend(s&&"transparent"!==s?s:"_default")}r=r.toRgbaString()}try{t.style[n]=r}catch(l){}}},e.fx.step[n]=function(t){t.colorInit||(t.start=u(t.elem,n),t.end=u(t.end),t.colorInit=!0),e.cssHooks[n].set(t.elem,t.start.transition(t.end,t.pos))}})},u.hook(a),e.cssHooks.borderColor={expand:function(e){var t={};return p(["Top","Right","Bottom","Left"],function(n,i){t["border"+i+"Color"]=e}),t}},o=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(b),function(){function t(t){var n,i,r=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,o={};if(r&&r.length&&r[0]&&r[r[0]])for(i=r.length;i--;)n=r[i],"string"==typeof r[n]&&(o[e.camelCase(n)]=r[n]);else for(n in r)"string"==typeof r[n]&&(o[n]=r[n]);return o}function n(t,n){var i,o,a={};for(i in n)o=n[i],t[i]!==o&&(r[i]||!e.fx.step[i]&&isNaN(parseFloat(o))||(a[i]=o));return a}var i=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,n){e.fx.step[n]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(b.style(e.elem,n,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(r,o,a,s){var l=e.speed(o,a,s);return this.queue(function(){var o,a=e(this),s=a.attr("class")||"",u=l.children?a.find("*").addBack():a;u=u.map(function(){var n=e(this);return{el:n,start:t(this)}}),o=function(){e.each(i,function(e,t){r[t]&&a[t+"Class"](r[t])})},o(),u=u.map(function(){return this.end=t(this.el[0]),this.diff=n(this.start,this.end),this}),a.attr("class",s),u=u.map(function(){var t=this,n=e.Deferred(),i=e.extend({},l,{queue:!1,complete:function(){n.resolve(t)}});return this.el.animate(this.diff,i),n.promise()}),e.when.apply(e,u.get()).done(function(){o(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),l.complete.call(a[0])})})},e.fn.extend({addClass:function(t){return function(n,i,r,o){return i?e.effects.animateClass.call(this,{add:n},i,r,o):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(n,i,r,o){return arguments.length>1?e.effects.animateClass.call(this,{remove:n},i,r,o):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(n,i,r,o,a){return"boolean"==typeof i||void 0===i?r?e.effects.animateClass.call(this,i?{add:n}:{remove:n},r,o,a):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:n},i,r,o)}}(e.fn.toggleClass),switchClass:function(t,n,i,r,o){return e.effects.animateClass.call(this,{add:n,remove:t},i,r,o)}})}(),function(){function t(t,n,i,r){return e.isPlainObject(t)&&(n=t,t=t.effect),t={effect:t},null==n&&(n={}),e.isFunction(n)&&(r=n,i=null,n={}),("number"==typeof n||e.fx.speeds[n])&&(r=i,i=n,n={}),e.isFunction(i)&&(r=i,i=null),n&&e.extend(t,n),i=i||n.duration,t.duration=e.fx.off?0:"number"==typeof i?i:i in e.fx.speeds?e.fx.speeds[i]:e.fx.speeds._default,t.complete=r||n.complete,t}function n(t){return!t||"number"==typeof t||e.fx.speeds[t]?!0:"string"!=typeof t||e.effects.effect[t]?e.isFunction(t)?!0:"object"==typeof t&&!t.effect:!0}e.extend(e.effects,{version:"1.11.4",save:function(e,t){for(var n=0;n<t.length;n++)null!==t[n]&&e.data(y+t[n],e[0].style[t[n]])},restore:function(e,t){var n,i;for(i=0;i<t.length;i++)null!==t[i]&&(n=e.data(y+t[i]),void 0===n&&(n=""),e.css(t[i],n))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var n,i;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=e[1]/t.width}return{x:i,y:n}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var n={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},i=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:t.width(),height:t.height()},o=document.activeElement;try{o.id}catch(a){o=document.body}return t.wrap(i),(t[0]===o||e.contains(t[0],o))&&e(o).focus(),i=t.parent(),"static"===t.css("position")?(i.css({position:"relative"}),t.css({position:"relative"})):(e.extend(n,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,i){n[i]=t.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(r),i.css(n).show()},removeWrapper:function(t){var n=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===n||e.contains(t[0],n))&&e(n).focus()),t},setTransition:function(t,n,i,r){return r=r||{},e.each(n,function(e,n){var o=t.cssUnit(n);o[0]>0&&(r[n]=o[0]*i+o[1])}),r}}),e.fn.extend({effect:function(){function n(t){function n(){e.isFunction(o)&&o.call(r[0]),e.isFunction(t)&&t()}var r=e(this),o=i.complete,s=i.mode;(r.is(":hidden")?"hide"===s:"show"===s)?(r[s](),n()):a.call(r[0],i,n)}var i=t.apply(this,arguments),r=i.mode,o=i.queue,a=e.effects.effect[i.effect];return e.fx.off||!a?r?this[r](i.duration,i.complete):this.each(function(){i.complete&&i.complete.call(this)}):o===!1?this.each(n):this.queue(o||"fx",n)},show:function(e){return function(i){if(n(i))return e.apply(this,arguments);var r=t.apply(this,arguments);return r.mode="show",this.effect.call(this,r)}}(e.fn.show),hide:function(e){return function(i){if(n(i))return e.apply(this,arguments);var r=t.apply(this,arguments);return r.mode="hide",this.effect.call(this,r)}}(e.fn.hide),toggle:function(e){return function(i){if(n(i)||"boolean"==typeof i)return e.apply(this,arguments);var r=t.apply(this,arguments);return r.mode="toggle",this.effect.call(this,r)}}(e.fn.toggle),cssUnit:function(t){var n=this.css(t),i=[];return e.each(["em","px","%","pt"],function(e,t){n.indexOf(t)>0&&(i=[parseFloat(n),t])}),i}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,n){t[n]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,n){e.easing["easeIn"+t]=n,e.easing["easeOut"+t]=function(e){return 1-n(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?n(2*e)/2:1-n(-2*e+2)/2}})}();e.effects,e.effects.effect.blind=function(t,n){var i,r,o,a=e(this),s=/up|down|vertical/,l=/up|left|vertical|horizontal/,u=["position","top","bottom","left","right","height","width"],c=e.effects.setMode(a,t.mode||"hide"),h=t.direction||"up",d=s.test(h),f=d?"height":"width",p=d?"top":"left",m=l.test(h),g={},v="show"===c;a.parent().is(".ui-effects-wrapper")?e.effects.save(a.parent(),u):e.effects.save(a,u),a.show(),i=e.effects.createWrapper(a).css({overflow:"hidden"}),r=i[f](),o=parseFloat(i.css(p))||0,g[f]=v?r:0,m||(a.css(d?"bottom":"right",0).css(d?"top":"left","auto").css({position:"absolute"}),g[p]=v?o:r+o),v&&(i.css(f,0),m||i.css(p,o+r)),i.animate(g,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){"hide"===c&&a.hide(),e.effects.restore(a,u),e.effects.removeWrapper(a),n()}})},e.effects.effect.bounce=function(t,n){var i,r,o,a=e(this),s=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(a,t.mode||"effect"),u="hide"===l,c="show"===l,h=t.direction||"up",d=t.distance,f=t.times||5,p=2*f+(c||u?1:0),m=t.duration/p,g=t.easing,v="up"===h||"down"===h?"top":"left",y="up"===h||"left"===h,b=a.queue(),w=b.length;for((c||u)&&s.push("opacity"),e.effects.save(a,s),a.show(),e.effects.createWrapper(a),d||(d=a["top"===v?"outerHeight":"outerWidth"]()/3),c&&(o={opacity:1},o[v]=0,a.css("opacity",0).css(v,y?2*-d:2*d).animate(o,m,g)),u&&(d/=Math.pow(2,f-1)),o={},o[v]=0,i=0;f>i;i++)r={},r[v]=(y?"-=":"+=")+d,a.animate(r,m,g).animate(o,m,g),d=u?2*d:d/2;u&&(r={opacity:0},r[v]=(y?"-=":"+=")+d,a.animate(r,m,g)),a.queue(function(){u&&a.hide(),e.effects.restore(a,s),e.effects.removeWrapper(a),n()}),w>1&&b.splice.apply(b,[1,0].concat(b.splice(w,p+1))),a.dequeue()},e.effects.effect.clip=function(t,n){var i,r,o,a=e(this),s=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(a,t.mode||"hide"),u="show"===l,c=t.direction||"vertical",h="vertical"===c,d=h?"height":"width",f=h?"top":"left",p={};e.effects.save(a,s),a.show(),i=e.effects.createWrapper(a).css({overflow:"hidden"}),r="IMG"===a[0].tagName?i:a,o=r[d](),u&&(r.css(d,0),r.css(f,o/2)),p[d]=u?o:0,p[f]=u?0:o/2,r.animate(p,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){u||a.hide(),e.effects.restore(a,s),e.effects.removeWrapper(a),n()}})},e.effects.effect.drop=function(t,n){var i,r=e(this),o=["position","top","bottom","left","right","opacity","height","width"],a=e.effects.setMode(r,t.mode||"hide"),s="show"===a,l=t.direction||"left",u="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l?"pos":"neg",h={opacity:s?1:0};e.effects.save(r,o),r.show(),e.effects.createWrapper(r),i=t.distance||r["top"===u?"outerHeight":"outerWidth"](!0)/2,s&&r.css("opacity",0).css(u,"pos"===c?-i:i),h[u]=(s?"pos"===c?"+=":"-=":"pos"===c?"-=":"+=")+i,r.animate(h,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===a&&r.hide(),e.effects.restore(r,o),e.effects.removeWrapper(r),n()}})},e.effects.effect.explode=function(t,n){function i(){b.push(this),b.length===h*d&&r()}function r(){f.css({visibility:"visible"}),e(b).remove(),m||f.hide(),n()}var o,a,s,l,u,c,h=t.pieces?Math.round(Math.sqrt(t.pieces)):3,d=h,f=e(this),p=e.effects.setMode(f,t.mode||"hide"),m="show"===p,g=f.show().css("visibility","hidden").offset(),v=Math.ceil(f.outerWidth()/d),y=Math.ceil(f.outerHeight()/h),b=[];for(o=0;h>o;o++)for(l=g.top+o*y,c=o-(h-1)/2,a=0;d>a;a++)s=g.left+a*v,u=a-(d-1)/2,f.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-a*v,top:-o*y}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:y,left:s+(m?u*v:0),top:l+(m?c*y:0),opacity:m?0:1}).animate({left:s+(m?0:u*v),top:l+(m?0:c*y),opacity:m?1:0},t.duration||500,t.easing,i)},e.effects.effect.fade=function(t,n){var i=e(this),r=e.effects.setMode(i,t.mode||"toggle");i.animate({opacity:r},{queue:!1,duration:t.duration,easing:t.easing,complete:n})},e.effects.effect.fold=function(t,n){var i,r,o=e(this),a=["position","top","bottom","left","right","height","width"],s=e.effects.setMode(o,t.mode||"hide"),l="show"===s,u="hide"===s,c=t.size||15,h=/([0-9]+)%/.exec(c),d=!!t.horizFirst,f=l!==d,p=f?["width","height"]:["height","width"],m=t.duration/2,g={},v={};e.effects.save(o,a),o.show(),i=e.effects.createWrapper(o).css({overflow:"hidden"}),r=f?[i.width(),i.height()]:[i.height(),i.width()],h&&(c=parseInt(h[1],10)/100*r[u?0:1]),l&&i.css(d?{height:0,width:c}:{height:c,width:0}),g[p[0]]=l?r[0]:c,v[p[1]]=l?r[1]:0,i.animate(g,m,t.easing).animate(v,m,t.easing,function(){u&&o.hide(),e.effects.restore(o,a),e.effects.removeWrapper(o),n()})},e.effects.effect.highlight=function(t,n){var i=e(this),r=["backgroundImage","backgroundColor","opacity"],o=e.effects.setMode(i,t.mode||"show"),a={backgroundColor:i.css("backgroundColor")};"hide"===o&&(a.opacity=0),e.effects.save(i,r),i.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(a,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&i.hide(),e.effects.restore(i,r),n()}})},e.effects.effect.size=function(t,n){var i,r,o,a=e(this),s=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],u=["width","height","overflow"],c=["fontSize"],h=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],d=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],f=e.effects.setMode(a,t.mode||"effect"),p=t.restore||"effect"!==f,m=t.scale||"both",g=t.origin||["middle","center"],v=a.css("position"),y=p?s:l,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===f&&a.show(),i={height:a.height(),width:a.width(),outerHeight:a.outerHeight(),outerWidth:a.outerWidth()},"toggle"===t.mode&&"show"===f?(a.from=t.to||b,a.to=t.from||i):(a.from=t.from||("show"===f?b:i),a.to=t.to||("hide"===f?b:i)),o={from:{y:a.from.height/i.height,x:a.from.width/i.width},to:{y:a.to.height/i.height,x:a.to.width/i.width}},"box"!==m&&"both"!==m||(o.from.y!==o.to.y&&(y=y.concat(h),a.from=e.effects.setTransition(a,h,o.from.y,a.from),a.to=e.effects.setTransition(a,h,o.to.y,a.to)),o.from.x!==o.to.x&&(y=y.concat(d),a.from=e.effects.setTransition(a,d,o.from.x,a.from),a.to=e.effects.setTransition(a,d,o.to.x,a.to))),"content"!==m&&"both"!==m||o.from.y!==o.to.y&&(y=y.concat(c).concat(u),a.from=e.effects.setTransition(a,c,o.from.y,a.from),a.to=e.effects.setTransition(a,c,o.to.y,a.to)),e.effects.save(a,y),a.show(),e.effects.createWrapper(a),a.css("overflow","hidden").css(a.from),g&&(r=e.effects.getBaseline(g,i),a.from.top=(i.outerHeight-a.outerHeight())*r.y,a.from.left=(i.outerWidth-a.outerWidth())*r.x,a.to.top=(i.outerHeight-a.to.outerHeight)*r.y,a.to.left=(i.outerWidth-a.to.outerWidth)*r.x),a.css(a.from),"content"!==m&&"both"!==m||(h=h.concat(["marginTop","marginBottom"]).concat(c),d=d.concat(["marginLeft","marginRight"]),u=s.concat(h).concat(d),a.find("*[width]").each(function(){var n=e(this),i={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};p&&e.effects.save(n,u),n.from={height:i.height*o.from.y,width:i.width*o.from.x,outerHeight:i.outerHeight*o.from.y,outerWidth:i.outerWidth*o.from.x},n.to={height:i.height*o.to.y,width:i.width*o.to.x,outerHeight:i.height*o.to.y,outerWidth:i.width*o.to.x},o.from.y!==o.to.y&&(n.from=e.effects.setTransition(n,h,o.from.y,n.from),n.to=e.effects.setTransition(n,h,o.to.y,n.to)),o.from.x!==o.to.x&&(n.from=e.effects.setTransition(n,d,o.from.x,n.from),n.to=e.effects.setTransition(n,d,o.to.x,n.to)),n.css(n.from),n.animate(n.to,t.duration,t.easing,function(){p&&e.effects.restore(n,u)})})),a.animate(a.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===a.to.opacity&&a.css("opacity",a.from.opacity),"hide"===f&&a.hide(),e.effects.restore(a,y),p||("static"===v?a.css({position:"relative",top:a.to.top,left:a.to.left}):e.each(["top","left"],function(e,t){a.css(t,function(t,n){var i=parseInt(n,10),r=e?a.to.left:a.to.top;return"auto"===n?r+"px":i+r+"px"})})),e.effects.removeWrapper(a),n()}})},e.effects.effect.scale=function(t,n){var i=e(this),r=e.extend(!0,{},t),o=e.effects.setMode(i,t.mode||"effect"),a=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===o?0:100),s=t.direction||"both",l=t.origin,u={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()},c={y:"horizontal"!==s?a/100:1,x:"vertical"!==s?a/100:1};r.effect="size",r.queue=!1,r.complete=n,"effect"!==o&&(r.origin=l||["middle","center"],r.restore=!0),r.from=t.from||("show"===o?{height:0,width:0,outerHeight:0,outerWidth:0}:u),r.to={height:u.height*c.y,width:u.width*c.x,outerHeight:u.outerHeight*c.y,outerWidth:u.outerWidth*c.x},r.fade&&("show"===o&&(r.from.opacity=0,r.to.opacity=1),"hide"===o&&(r.from.opacity=1,r.to.opacity=0)),i.effect(r)},e.effects.effect.puff=function(t,n){var i=e(this),r=e.effects.setMode(i,t.mode||"hide"),o="hide"===r,a=parseInt(t.percent,10)||150,s=a/100,l={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:r,complete:n,percent:o?a:100,from:o?l:{height:l.height*s,width:l.width*s,outerHeight:l.outerHeight*s,outerWidth:l.outerWidth*s}}),i.effect(t)},e.effects.effect.pulsate=function(t,n){var i,r=e(this),o=e.effects.setMode(r,t.mode||"show"),a="show"===o,s="hide"===o,l=a||"hide"===o,u=2*(t.times||5)+(l?1:0),c=t.duration/u,h=0,d=r.queue(),f=d.length;for(!a&&r.is(":visible")||(r.css("opacity",0).show(),h=1),i=1;u>i;i++)r.animate({opacity:h},c,t.easing),h=1-h;r.animate({opacity:h},c,t.easing),r.queue(function(){s&&r.hide(),n()}),f>1&&d.splice.apply(d,[1,0].concat(d.splice(f,u+1))),r.dequeue()},e.effects.effect.shake=function(t,n){var i,r=e(this),o=["position","top","bottom","left","right","height","width"],a=e.effects.setMode(r,t.mode||"effect"),s=t.direction||"left",l=t.distance||20,u=t.times||3,c=2*u+1,h=Math.round(t.duration/c),d="up"===s||"down"===s?"top":"left",f="up"===s||"left"===s,p={},m={},g={},v=r.queue(),y=v.length;for(e.effects.save(r,o),r.show(),e.effects.createWrapper(r),p[d]=(f?"-=":"+=")+l,m[d]=(f?"+=":"-=")+2*l,g[d]=(f?"-=":"+=")+2*l,r.animate(p,h,t.easing),i=1;u>i;i++)r.animate(m,h,t.easing).animate(g,h,t.easing);r.animate(m,h,t.easing).animate(p,h/2,t.easing).queue(function(){"hide"===a&&r.hide(),e.effects.restore(r,o),e.effects.removeWrapper(r),n()}),y>1&&v.splice.apply(v,[1,0].concat(v.splice(y,c+1))),r.dequeue()},e.effects.effect.slide=function(t,n){var i,r=e(this),o=["position","top","bottom","left","right","width","height"],a=e.effects.setMode(r,t.mode||"show"),s="show"===a,l=t.direction||"left",u="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l,h={};e.effects.save(r,o),r.show(),i=t.distance||r["top"===u?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(r).css({overflow:"hidden"}),s&&r.css(u,c?isNaN(i)?"-"+i:-i:i),h[u]=(s?c?"+=":"-=":c?"-=":"+=")+i,r.animate(h,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===a&&r.hide(),e.effects.restore(r,o),e.effects.removeWrapper(r),n()}})},e.effects.effect.transfer=function(t,n){var i=e(this),r=e(t.to),o="fixed"===r.css("position"),a=e("body"),s=o?a.scrollTop():0,l=o?a.scrollLeft():0,u=r.offset(),c={top:u.top-s,left:u.left-l,height:r.innerHeight(),width:r.innerWidth()},h=i.offset(),d=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:h.top-s,left:h.left-l,height:i.innerHeight(),width:i.innerWidth(),position:o?"fixed":"absolute"}).animate(c,t.duration,t.easing,function(){d.remove(),n()})},e.widget("ui.progressbar",{version:"1.11.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){return void 0===e?this.options.value:(this.options.value=this._constrainedValue(e),void this._refreshValue())},_constrainedValue:function(e){return void 0===e&&(e=this.options.value),this.indeterminate=e===!1,"number"!=typeof e&&(e=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t);
},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,n=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(n.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}}),e.widget("ui.selectable",e.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,n=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t=e(n.options.filter,n.element[0]),t.addClass("ui-selectee"),t.each(function(){var t=e(this),n=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:n.left,top:n.top,right:n.left+t.outerWidth(),bottom:n.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var n=this,i=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(i.filter,this.element[0]),this._trigger("start",t),e(i.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var i=e.data(this,"selectable-item");i.startselected=!0,t.metaKey||t.ctrlKey||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",t,{unselecting:i.element}))}),e(t.target).parents().addBack().each(function(){var i,r=e.data(this,"selectable-item");return r?(i=!t.metaKey&&!t.ctrlKey||!r.$element.hasClass("ui-selected"),r.$element.removeClass(i?"ui-unselecting":"ui-selected").addClass(i?"ui-selecting":"ui-unselecting"),r.unselecting=!i,r.selecting=i,r.selected=i,i?n._trigger("selecting",t,{selecting:r.element}):n._trigger("unselecting",t,{unselecting:r.element}),!1):void 0}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var n,i=this,r=this.options,o=this.opos[0],a=this.opos[1],s=t.pageX,l=t.pageY;return o>s&&(n=s,s=o,o=n),a>l&&(n=l,l=a,a=n),this.helper.css({left:o,top:a,width:s-o,height:l-a}),this.selectees.each(function(){var n=e.data(this,"selectable-item"),u=!1;n&&n.element!==i.element[0]&&("touch"===r.tolerance?u=!(n.left>s||n.right<o||n.top>l||n.bottom<a):"fit"===r.tolerance&&(u=n.left>o&&n.right<s&&n.top>a&&n.bottom<l),u?(n.selected&&(n.$element.removeClass("ui-selected"),n.selected=!1),n.unselecting&&(n.$element.removeClass("ui-unselecting"),n.unselecting=!1),n.selecting||(n.$element.addClass("ui-selecting"),n.selecting=!0,i._trigger("selecting",t,{selecting:n.element}))):(n.selecting&&((t.metaKey||t.ctrlKey)&&n.startselected?(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.$element.addClass("ui-selected"),n.selected=!0):(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.startselected&&(n.$element.addClass("ui-unselecting"),n.unselecting=!0),i._trigger("unselecting",t,{unselecting:n.element}))),n.selected&&(t.metaKey||t.ctrlKey||n.startselected||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",t,{unselecting:n.element})))))}),!1}},_mouseStop:function(t){var n=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var i=e.data(this,"selectable-item");i.$element.removeClass("ui-unselecting"),i.unselecting=!1,i.startselected=!1,n._trigger("unselected",t,{unselected:i.element})}),e(".ui-selecting",this.element[0]).each(function(){var i=e.data(this,"selectable-item");i.$element.removeClass("ui-selecting").addClass("ui-selected"),i.selecting=!1,i.selected=!0,i.startselected=!0,n._trigger("selected",t,{selected:i.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),e.widget("ui.selectmenu",{version:"1.11.4",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var t=this;this.label=e("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(e){this.button.focus(),e.preventDefault()}}),this.element.hide(),this.button=e("<span>",{"class":"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),e("<span>",{"class":"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=e("<span>",{"class":"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){t.menuItems||t._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var t=this;this.menu=e("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=e("<div>",{"class":"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(e,n){e.preventDefault(),t._setSelection(),t._select(n.item.data("ui-selectmenu-item"),e)},focus:function(e,n){var i=n.item.data("ui-selectmenu-item");null!=t.focusIndex&&i.index!==t.focusIndex&&(t._trigger("focus",e,{item:i}),t.isOpen||t._select(i,e)),t.focusIndex=i.index,t.button.attr("aria-activedescendant",t.menuItems.eq(i.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var e,t=this.element.find("option");t.length&&(this._parseOptions(t),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(e){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",e))},_position:function(){this.menuWrap.position(e.extend({of:this.button},this.options.position))},close:function(e){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(t,n){var i=this,r="";e.each(n,function(n,o){o.optgroup!==r&&(e("<li>",{"class":"ui-selectmenu-optgroup ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:o.optgroup}).appendTo(t),r=o.optgroup),i._renderItemData(t,o)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-selectmenu-item",t)},_renderItem:function(t,n){var i=e("<li>");return n.disabled&&i.addClass("ui-state-disabled"),this._setText(i,n.label),i.appendTo(t)},_setText:function(e,t){t?e.text(t):e.html("&#160;")},_move:function(e,t){var n,i,r=".ui-menu-item";this.isOpen?n=this.menuItems.eq(this.focusIndex):(n=this.menuItems.eq(this.element[0].selectedIndex),r+=":not(.ui-state-disabled)"),i="first"===e||"last"===e?n["first"===e?"prevAll":"nextAll"](r).eq(-1):n[e+"All"](r).eq(0),i.length&&this.menuInstance.focus(t,i)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_setSelection:function(){var e;this.range&&(window.getSelection?(e=window.getSelection(),e.removeAllRanges(),e.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(t){this.isOpen&&(e(t.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(t))}},_buttonEvents:{mousedown:function(){var e;window.getSelection?(e=window.getSelection(),e.rangeCount&&(this.range=e.getRangeAt(0))):this.range=document.selection.createRange()},click:function(e){this._setSelection(),this._toggle(e)},keydown:function(t){var n=!0;switch(t.keyCode){case e.ui.keyCode.TAB:case e.ui.keyCode.ESCAPE:this.close(t),n=!1;break;case e.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case e.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case e.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case e.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case e.ui.keyCode.LEFT:this._move("prev",t);break;case e.ui.keyCode.RIGHT:this._move("next",t);break;case e.ui.keyCode.HOME:case e.ui.keyCode.PAGE_UP:this._move("first",t);break;case e.ui.keyCode.END:case e.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t),n=!1}n&&t.preventDefault()}},_selectFocusedItem:function(e){var t=this.menuItems.eq(this.focusIndex);t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),e)},_select:function(e,t){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this._setText(this.buttonText,e.label),this._setAria(e),this._trigger("select",t,{item:e}),e.index!==n&&this._trigger("change",t,{item:e}),this.close(t)},_setAria:function(e){var t=this.menuItems.eq(e.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t}),this.menu.attr("aria-activedescendant",t)},_setOption:function(e,t){"icons"===e&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(t.button),this._super(e,t),"appendTo"===e&&this.menuWrap.appendTo(this._appendTo()),"disabled"===e&&(this.menuInstance.option("disabled",t),this.button.toggleClass("ui-state-disabled",t).attr("aria-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===e&&this._resizeButton()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var e=this.options.width;e||(e=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(e)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(t){var n=[];t.each(function(t,i){var r=e(i),o=r.parent("optgroup");n.push({element:r,index:t,value:r.val(),label:r.text(),optgroup:o.attr("label")||"",disabled:o.prop("disabled")||r.prop("disabled")})}),this.items=n},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),e.widget("ui.slider",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,n,i=this.options,r=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),o="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",a=[];for(n=i.values&&i.values.length||1,r.length>n&&(r.slice(n).remove(),r=r.slice(0,n)),t=r.length;n>t;t++)a.push(o);this.handles=r.add(e(a.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,n="";t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),n="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(n+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var n,i,r,o,a,s,l,u,c=this,h=this.options;return h.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(n),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var n=Math.abs(i-c.values(t));(r>n||r===n&&(t===c._lastChangedValue||c.values(t)===h.min))&&(r=n,o=e(this),a=t)}),s=this._start(t,a),s===!1?!1:(this._mouseSliding=!0,this._handleIndex=a,o.addClass("ui-state-active").focus(),l=o.offset(),u=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=u?{left:0,top:0}:{left:t.pageX-l.left-o.width()/2,top:t.pageY-l.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,a,i),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,n),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,n,i,r,o;return"horizontal"===this.orientation?(t=this.elementSize.width,n=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,n=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),i=n/t,i>1&&(i=1),0>i&&(i=0),"vertical"===this.orientation&&(i=1-i),r=this._valueMax()-this._valueMin(),o=this._valueMin()+i*r,this._trimAlignValue(o)},_start:function(e,t){var n={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("start",e,n)},_slide:function(e,t,n){var i,r,o;this.options.values&&this.options.values.length?(i=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&n>i||1===t&&i>n)&&(n=i),n!==this.values(t)&&(r=this.values(),r[t]=n,o=this._trigger("slide",e,{handle:this.handles[t],value:n,values:r}),i=this.values(t?0:1),o!==!1&&this.values(t,n))):n!==this.value()&&(o=this._trigger("slide",e,{handle:this.handles[t],value:n}),o!==!1&&this.value(n))},_stop:function(e,t){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("stop",e,n)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,n)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,n){var i,r,o;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(i=this.options.values,r=arguments[0],o=0;o<i.length;o+=1)i[o]=this._trimAlignValue(r[o]),this._change(null,o);this._refreshValue()},_setOption:function(t,n){var i,r=0;switch("range"===t&&this.options.range===!0&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(r=this.options.values.length),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!n),this._super(t,n),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===n?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=0;r>i;i+=1)this._change(null,i);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,n,i;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(n=this.options.values.slice(),i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(n[i]);return n}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,n=(e-this._valueMin())%t,i=e-n;return 2*Math.abs(n)>=t&&(i+=n>0?t:-t),parseFloat(i.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),n=this.options.step,i=Math.floor(+(e-t).toFixed(this._precision())/n)*n;e=i+t,this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),n=t.indexOf(".");return-1===n?0:t.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var t,n,i,r,o,a=this.options.range,s=this.options,l=this,u=this._animateOff?!1:s.animate,c={};this.options.values&&this.options.values.length?this.handles.each(function(i){n=(l.values(i)-l._valueMin())/(l._valueMax()-l._valueMin())*100,c["horizontal"===l.orientation?"left":"bottom"]=n+"%",e(this).stop(1,1)[u?"animate":"css"](c,s.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===i&&l.range.stop(1,1)[u?"animate":"css"]({left:n+"%"},s.animate),1===i&&l.range[u?"animate":"css"]({width:n-t+"%"},{queue:!1,duration:s.animate})):(0===i&&l.range.stop(1,1)[u?"animate":"css"]({bottom:n+"%"},s.animate),1===i&&l.range[u?"animate":"css"]({height:n-t+"%"},{queue:!1,duration:s.animate}))),t=n}):(i=this.value(),r=this._valueMin(),o=this._valueMax(),n=o!==r?(i-r)/(o-r)*100:0,c["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[u?"animate":"css"](c,s.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:n+"%"},s.animate),"max"===a&&"horizontal"===this.orientation&&this.range[u?"animate":"css"]({width:100-n+"%"},{queue:!1,duration:s.animate}),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:n+"%"},s.animate),"max"===a&&"vertical"===this.orientation&&this.range[u?"animate":"css"]({height:100-n+"%"},{queue:!1,duration:s.animate}))},_handleEvents:{keydown:function(t){var n,i,r,o,a=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(t.target).addClass("ui-state-active"),n=this._start(t,a),n===!1))return}switch(o=this.options.step,i=r=this.options.values&&this.options.values.length?this.values(a):this.value(),t.keyCode){case e.ui.keyCode.HOME:r=this._valueMin();break;case e.ui.keyCode.END:r=this._valueMax();break;case e.ui.keyCode.PAGE_UP:r=this._trimAlignValue(i+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(i-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(i===this._valueMax())return;r=this._trimAlignValue(i+o);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(i===this._valueMin())return;r=this._trimAlignValue(i-o)}this._slide(t,a,r)},keyup:function(t){var n=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,n),this._change(t,n),e(t.target).removeClass("ui-state-active"))}}}),e.widget("ui.sortable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,n){return e>=t&&t+n>e},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),e.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,n){var i=null,r=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,o.widgetName+"-item")===o?(i=e(this),!1):void 0}),e.data(t.target,o.widgetName+"-item")===o&&(i=e(t.target)),i&&(!this.options.handle||n||(e(this.options.handle,i).find("*").addBack().each(function(){this===t.target&&(r=!0)}),r))?(this.currentItem=i,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(t,n,i){var r,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=e("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var n,i,r,o,a=this.options,s=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+a.scrollSpeed:t.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+a.scrollSpeed:t.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(t.pageY-this.document.scrollTop()<a.scrollSensitivity?s=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<a.scrollSensitivity&&(s=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed)),t.pageX-this.document.scrollLeft()<a.scrollSensitivity?s=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<a.scrollSensitivity&&(s=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed))),s!==!1&&e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(i=this.items[n],r=i.item[0],o=this._intersectsWithPointer(i),o&&i.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==r&&!e.contains(this.placeholder[0],r)&&("semi-dynamic"===this.options.type?!e.contains(this.element[0],r):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(t,i),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var i=this,r=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){i._clear(t)})}else this._clear(t,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&i.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},n.each(function(){i.push(e(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=e.left,a=o+e.width,s=e.top,l=s+e.height,u=this.offset.click.top,c=this.offset.click.left,h="x"===this.options.axis||i+u>s&&l>i+u,d="y"===this.options.axis||t+c>o&&a>t+c,f=h&&d;
return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?f:o<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<a&&s<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),i=t&&n,r=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return i?this.floating?o&&"right"===o||"down"===r?2:1:r&&("down"===r?2:1):!1},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:i&&("down"===i&&t||"up"===i&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function n(){s.push(this)}var i,r,o,a,s=[],l=[],u=this._connectWith();if(u&&t)for(i=u.length-1;i>=0;i--)for(o=e(u[i],this.document[0]),r=o.length-1;r>=0;r--)a=e.data(o[r],this.widgetFullName),a&&a!==this&&!a.options.disabled&&l.push([e.isFunction(a.options.items)?a.options.items.call(a.element):e(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(l.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=l.length-1;i>=0;i--)l[i][0].each(n);return e(s)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var n=0;n<t.length;n++)if(t[n]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var n,i,r,o,a,s,l,u,c=this.items,h=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(n=d.length-1;n>=0;n--)for(r=e(d[n],this.document[0]),i=r.length-1;i>=0;i--)o=e.data(r[i],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(h.push([e.isFunction(o.options.items)?o.options.items.call(o.element[0],t,{item:this.currentItem}):e(o.options.items,o.element),o]),this.containers.push(o));for(n=h.length-1;n>=0;n--)for(a=h[n][1],s=h[n][0],i=0,u=s.length;u>i;i++)l=e(s[i]),l.data(this.widgetName+"-item",a),c.push({item:l,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,i,r,o;for(n=this.items.length-1;n>=0;n--)i=this.items[n],i.instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?e(this.options.toleranceElement,i.item):i.item,t||(i.width=r.outerWidth(),i.height=r.outerHeight()),o=r.offset(),i.left=o.left,i.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var n,i=t.options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=t.currentItem[0].nodeName.toLowerCase(),r=e("<"+i+">",t.document[0]).addClass(n||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===i?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(r)):"tr"===i?t._createTrPlaceholder(t.currentItem,r):"img"===i&&r.attr("src",t.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(e,r){n&&!i.forcePlaceholderSize||(r.height()||r.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(i.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),i.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,n){var i=this;t.children().each(function(){e("<td>&#160;</td>",i.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(n)})},_contactContainers:function(t){var n,i,r,o,a,s,l,u,c,h,d=null,f=null;for(n=this.containers.length-1;n>=0;n--)if(!e.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(d&&e.contains(this.containers[n].element[0],d.element[0]))continue;d=this.containers[n],f=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",t,this._uiHash(this)),this.containers[n].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[f].containerCache.over||(this.containers[f]._trigger("over",t,this._uiHash(this)),this.containers[f].containerCache.over=1);else{for(r=1e4,o=null,c=d.floating||this._isFloating(this.currentItem),a=c?"left":"top",s=c?"width":"height",h=c?"clientX":"clientY",i=this.items.length-1;i>=0;i--)e.contains(this.containers[f].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(l=this.items[i].item.offset()[a],u=!1,t[h]-l>this.items[i][s]/2&&(u=!0),Math.abs(t[h]-l)<r&&(r=Math.abs(t[h]-l),o=this.items[i],this.direction=u?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[f])return void(this.currentContainer.containerCache.over||(this.containers[f]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(t,o,null,!0):this._rearrange(t,null,this.containers[f].element,!0),this._trigger("change",t,this._uiHash()),this.containers[f]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[f],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[f]._trigger("over",t,this._uiHash(this)),this.containers[f].containerCache.over=1}},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||e("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),i[0].style.width&&!n.forceHelperSize||i.width(this.currentItem.width()),i[0].style.height&&!n.forceHelperSize||i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),"document"!==r.containment&&"window"!==r.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===r.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===r.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(t=e(r.containment)[0],n=e(r.containment).offset(),i="hidden"!==e(t).css("overflow"),this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,n){n||(n=this.position);var i="absolute"===t?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i}},_generatePosition:function(t){var n,i,r=this.options,o=t.pageX,a=t.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((a-this.originalPageY)/r.grid[1])*r.grid[1],a=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:s.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:s.scrollLeft())}},_rearrange:function(e,t,n,i){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(e,t){function n(e,t,n){return function(i){n._trigger(e,i,t._uiHash(t))}}this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&r.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||r.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(r.push(function(e){this._trigger("remove",e,this._uiHash())}),r.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)t||r.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(i=0;i<r.length;i++)r[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}}),e.widget("ui.spinner",{version:"1.11.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},n=this.element;return e.each(["min","max","step"],function(e,i){var r=n.attr(i);void 0!==r&&r.length&&(t[i]=r)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",e)))},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function n(){var e=this.element[0]===this.document[0].activeElement;e||(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i}))}var i;i=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),n.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,n.call(this)}),this._start(t)!==!1&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){return e(t.currentTarget).hasClass("ui-state-active")?this._start(t)===!1?!1:void this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var n=this.options,i=e.ui.keyCode;switch(t.keyCode){case i.UP:return this._repeat(null,1,t),!0;case i.DOWN:return this._repeat(null,-1,t),!0;case i.PAGE_UP:return this._repeat(null,n.page,t),!0;case i.PAGE_DOWN:return this._repeat(null,-n.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(e){return this.spinning||this._trigger("start",e)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(e,t,n){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,n)},e),this._spin(t*this.options.step,n)},_spin:function(e,t){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+e*this._increment(this.counter)),this.spinning&&this._trigger("spin",t,{value:n})===!1||(this._value(n),this.counter++)},_increment:function(t){var n=this.options.incremental;return n?e.isFunction(n)?n(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),n=t.indexOf(".");return-1===n?0:t.length-n-1},_adjustValue:function(e){var t,n,i=this.options;return t=null!==i.min?i.min:0,n=e-t,n=Math.round(n/i.step)*i.step,e=t+n,e=parseFloat(e.toFixed(this._precision())),null!==i.max&&e>i.max?i.max:null!==i.min&&e<i.min?i.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var n=this._parse(this.element.val());return this.options[e]=t,void this.element.val(this._format(n))}"max"!==e&&"min"!==e&&"step"!==e||"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable"))},_setOptions:l(function(e){this._super(e)}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null===e?!1:e===this._adjustValue(e)},_value:function(e,t){var n;""!==e&&(n=this._parse(e),null!==n&&(t||(n=this._adjustValue(n)),e=this._format(n))),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:l(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:l(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:l(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:l(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){return arguments.length?void l(this._value).call(this,e):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),e.widget("ui.tabs",{version:"1.11.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var e=/#.*$/;return function(t){var n,i;t=t.cloneNode(!1),n=t.href.replace(e,""),i=location.href.replace(e,"");try{n=decodeURIComponent(n)}catch(r){}try{i=decodeURIComponent(i)}catch(r){}return t.hash.length>1&&n===i}}(),_create:function(){var t=this,n=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",n.collapsible),this._processTabs(),n.active=this._initialActive(),e.isArray(n.disabled)&&(n.disabled=e.unique(n.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),this.options.active!==!1&&this.anchors.length?this.active=this._findActive(n.active):this.active=e(),this._refresh(),this.active.length&&this.load(n.active)},_initialActive:function(){var t=this.options.active,n=this.options.collapsible,i=location.hash.substring(1);return null===t&&(i&&this.tabs.each(function(n,r){return e(r).attr("aria-controls")===i?(t=n,!1):void 0}),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==t&&-1!==t||(t=this.tabs.length?0:!1)),t!==!1&&(t=this.tabs.index(this.tabs.eq(t)),-1===t&&(t=n?!1:0)),!n&&t===!1&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var n=e(this.document[0].activeElement).closest("li"),i=this.tabs.index(n),r=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:i++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:r=!1,i--;break;case e.ui.keyCode.END:i=this.anchors.length-1;break;case e.ui.keyCode.HOME:i=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(i);case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(i===this.options.active?!1:i);default:return}t.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,r),t.ctrlKey||t.metaKey||(n.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,n){function i(){return t>r&&(t=0),0>t&&(t=r),t}for(var r=this.tabs.length-1;-1!==e.inArray(i(),this.options.disabled);)t=n?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){return"active"===e?void this._activate(t):"disabled"===e?void this._setupDisabled(t):(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||this.options.active!==!1||this._activate(0)),"event"===e&&this._setupEvents(t),void("heightStyle"===e&&this._setupHeightStyle(t)))},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,n=this.tablist.children(":has(a[href])");t.disabled=e.map(n.filter(".ui-state-disabled"),function(e){return n.index(e)}),this._processTabs(),t.active!==!1&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this,n=this.tabs,i=this.anchors,r=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(n,i){var r,o,a,s=e(i).uniqueId().attr("id"),l=e(i).closest("li"),u=l.attr("aria-controls");t._isLocal(i)?(r=i.hash,a=r.substring(1),o=t.element.find(t._sanitizeSelector(r))):(a=l.attr("aria-controls")||e({}).uniqueId()[0].id,r="#"+a,o=t.element.find(r),o.length||(o=t._createPanel(a),o.insertAfter(t.panels[n-1]||t.tablist)),o.attr("aria-live","polite")),o.length&&(t.panels=t.panels.add(o)),u&&l.data("ui-tabs-aria-controls",u),l.attr({"aria-controls":a,"aria-labelledby":s}),o.attr("aria-labelledby",s)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel"),n&&(this._off(n.not(this.tabs)),this._off(i.not(this.anchors)),this._off(r.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var n,i=0;n=this.tabs[i];i++)t===!0||-1!==e.inArray(i,t)?e(n).addClass("ui-state-disabled").attr("aria-disabled","true"):e(n).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var n={};t&&e.each(t.split(" "),function(e,t){n[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var n,i=this.element.parent();"fill"===t?(n=i.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=e(this),i=t.css("position");"absolute"!==i&&"fixed"!==i&&(n-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){n-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,n-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(n=0,this.panels.each(function(){n=Math.max(n,e(this).height("").height())}).height(n))},_eventHandler:function(t){var n=this.options,i=this.active,r=e(t.currentTarget),o=r.closest("li"),a=o[0]===i[0],s=a&&n.collapsible,l=s?e():this._getPanelForTab(o),u=i.length?this._getPanelForTab(i):e(),c={oldTab:i,oldPanel:u,newTab:s?e():o,newPanel:l};t.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||a&&!n.collapsible||this._trigger("beforeActivate",t,c)===!1||(n.active=s?!1:this.tabs.index(o),this.active=a?e():o,this.xhr&&this.xhr.abort(),u.length||l.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(o),t),this._toggle(t,c))},_toggle:function(t,n){function i(){o.running=!1,o._trigger("activate",t,n)}function r(){n.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),a.length&&o.options.show?o._show(a,o.options.show,i):(a.show(),i())}var o=this,a=n.newPanel,s=n.oldPanel;this.running=!0,s.length&&this.options.hide?this._hide(s,this.options.hide,function(){n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r()}):(n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),s.hide(),r()),s.attr("aria-hidden","true"),n.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),a.length&&s.length?n.oldTab.attr("tabIndex",-1):a.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),a.attr("aria-hidden","false"),n.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var n,i=this._findActive(t);i[0]!==this.active[0]&&(i.length||(i=this.active),n=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop}))},_findActive:function(t){return t===!1?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),
this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=e(this),n=t.data("ui-tabs-aria-controls");n?t.attr("aria-controls",n).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(t){var n=this.options.disabled;n!==!1&&(void 0===t?n=!1:(t=this._getIndex(t),n=e.isArray(n)?e.map(n,function(e){return e!==t?e:null}):e.map(this.tabs,function(e,n){return n!==t?n:null})),this._setupDisabled(n))},disable:function(t){var n=this.options.disabled;if(n!==!0){if(void 0===t)n=!0;else{if(t=this._getIndex(t),-1!==e.inArray(t,n))return;n=e.isArray(n)?e.merge([t],n).sort():[t]}this._setupDisabled(n)}},load:function(t,n){t=this._getIndex(t);var i=this,r=this.tabs.eq(t),o=r.find(".ui-tabs-anchor"),a=this._getPanelForTab(r),s={tab:r,panel:a},l=function(e,t){"abort"===t&&i.panels.stop(!1,!0),r.removeClass("ui-tabs-loading"),a.removeAttr("aria-busy"),e===i.xhr&&delete i.xhr};this._isLocal(o[0])||(this.xhr=e.ajax(this._ajaxSettings(o,n,s)),this.xhr&&"canceled"!==this.xhr.statusText&&(r.addClass("ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.done(function(e,t,r){setTimeout(function(){a.html(e),i._trigger("load",n,s),l(r,t)},1)}).fail(function(e,t){setTimeout(function(){l(e,t)},1)})))},_ajaxSettings:function(t,n,i){var r=this;return{url:t.attr("href"),beforeSend:function(t,o){return r._trigger("beforeLoad",n,e.extend({jqXHR:t,ajaxSettings:o},i))}}},_getPanelForTab:function(t){var n=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}}),e.widget("ui.tooltip",{version:"1.11.4",options:{content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(t,n){var i=(t.attr("aria-describedby")||"").split(/\s+/);i.push(n),t.data("ui-tooltip-id",n).attr("aria-describedby",e.trim(i.join(" ")))},_removeDescribedBy:function(t){var n=t.data("ui-tooltip-id"),i=(t.attr("aria-describedby")||"").split(/\s+/),r=e.inArray(n,i);-1!==r&&i.splice(r,1),t.removeData("ui-tooltip-id"),i=e.trim(i.join(" ")),i?t.attr("aria-describedby",i):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=e("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(t,n){var i=this;return"disabled"===t?(this[n?"_disable":"_enable"](),void(this.options[t]=n)):(this._super(t,n),void("content"===t&&e.each(this.tooltips,function(e,t){i._updateContent(t.element)})))},_disable:function(){var t=this;e.each(this.tooltips,function(n,i){var r=e.Event("blur");r.target=r.currentTarget=i.element[0],t.close(r,!0)}),this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var n=this,i=e(t?t.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&i.parents().each(function(){var t,i=e(this);i.data("ui-tooltip-open")&&(t=e.Event("blur"),t.target=t.currentTarget=this,n.close(t,!0)),i.attr("title")&&(i.uniqueId(),n.parents[this.id]={element:this,title:i.attr("title")},i.attr("title",""))}),this._registerCloseHandlers(t,i),this._updateContent(i,t))},_updateContent:function(e,t){var n,i=this.options.content,r=this,o=t?t.type:null;return"string"==typeof i?this._open(t,e,i):(n=i.call(e[0],function(n){r._delay(function(){e.data("ui-tooltip-open")&&(t&&(t.type=o),this._open(t,e,n))})}),void(n&&this._open(t,e,n)))},_open:function(t,n,i){function r(e){u.of=e,a.is(":hidden")||a.position(u)}var o,a,s,l,u=e.extend({},this.options.position);if(i){if(o=this._find(n))return void o.tooltip.find(".ui-tooltip-content").html(i);n.is("[title]")&&(t&&"mouseover"===t.type?n.attr("title",""):n.removeAttr("title")),o=this._tooltip(n),a=o.tooltip,this._addDescribedBy(n,a.attr("id")),a.find(".ui-tooltip-content").html(i),this.liveRegion.children().hide(),i.clone?(l=i.clone(),l.removeAttr("id").find("[id]").removeAttr("id")):l=i,e("<div>").html(l).appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:r}),r(t)):a.position(e.extend({of:n},this.options.position)),a.hide(),this._show(a,this.options.show),this.options.show&&this.options.show.delay&&(s=this.delayedShow=setInterval(function(){a.is(":visible")&&(r(u.of),clearInterval(s))},e.fx.interval)),this._trigger("open",t,{tooltip:a})}},_registerCloseHandlers:function(t,n){var i={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var i=e.Event(t);i.currentTarget=n[0],this.close(i,!0)}}};n[0]!==this.element[0]&&(i.remove=function(){this._removeTooltip(this._find(n).tooltip)}),t&&"mouseover"!==t.type||(i.mouseleave="close"),t&&"focusin"!==t.type||(i.focusout="close"),this._on(!0,n,i)},close:function(t){var n,i=this,r=e(t?t.currentTarget:this.element),o=this._find(r);return o?(n=o.tooltip,void(o.closing||(clearInterval(this.delayedShow),r.data("ui-tooltip-title")&&!r.attr("title")&&r.attr("title",r.data("ui-tooltip-title")),this._removeDescribedBy(r),o.hiding=!0,n.stop(!0),this._hide(n,this.options.hide,function(){i._removeTooltip(e(this))}),r.removeData("ui-tooltip-open"),this._off(r,"mouseleave focusout keyup"),r[0]!==this.element[0]&&this._off(r,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,function(t,n){e(n.element).attr("title",n.title),delete i.parents[t]}),o.closing=!0,this._trigger("close",t,{tooltip:n}),o.hiding||(o.closing=!1)))):void r.removeData("ui-tooltip-open")},_tooltip:function(t){var n=e("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),i=n.uniqueId().attr("id");return e("<div>").addClass("ui-tooltip-content").appendTo(n),n.appendTo(this.document[0].body),this.tooltips[i]={element:t,tooltip:n}},_find:function(e){var t=e.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,function(n,i){var r=e.Event("blur"),o=i.element;r.target=r.currentTarget=o[0],t.close(r,!0),e("#"+n).remove(),o.data("ui-tooltip-title")&&(o.attr("title")||o.attr("title",o.data("ui-tooltip-title")),o.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})}),function(e,t,n,i){"use strict";var r=t.module("ngDragDrop",[]).service("ngDragDropService",["$timeout","$parse","$q",function(o,a,s){this.draggableScope=null,this.droppableScope=null,n("head").prepend('<style type="text/css">@charset "UTF-8";.angular-dragdrop-hide{display: none !important;}</style>'),this.callEventCallback=function(e,t,i,r){function o(t){var i=-1!==t.indexOf("(")?t.indexOf("("):t.length,r=-1!==t.lastIndexOf(")")?t.lastIndexOf(")"):t.length,o=t.substring(i+1,r),s=-1!==t.indexOf(".")?t.substr(0,t.indexOf(".")):null;return s=e[s]&&"function"==typeof e[s].constructor?s:null,{callback:t.substring(s&&s.length+1||0,i),args:n.map(o&&o.split(",")||[],function(t){return[a(t)(e)]}),constructor:s}}if(t){var s=o(t),l=s.callback,u=s.constructor,c=[i,r].concat(s.args);return(e[l]||e[u][l]).apply(e[l]?e:e[u],c)}},this.invokeDrop=function(e,a,l,u){var c,h,d,f="",p="",m={},g={},v=null,y={},b={},w=null,x=this.droppableScope,$=this.draggableScope,C=null,T=[];f=e.ngattr("ng-model"),p=a.ngattr("ng-model"),c=$.$eval(f),h=x.$eval(p),w=a.find("[jqyoui-draggable]:last,[data-jqyoui-draggable]:last"),g=x.$eval(a.attr("jqyoui-droppable")||a.attr("data-jqyoui-droppable"))||[],m=$.$eval(e.attr("jqyoui-draggable")||e.attr("data-jqyoui-draggable"))||[],m.index=this.fixIndex($,m,c),g.index=this.fixIndex(x,g,h),v=t.isArray(c)?m.index:null,y=t.isArray(c)?c[v]:c,m.deepCopy&&(y=t.copy(y)),b=t.isArray(h)&&g&&g.index!==i?h[g.index]:t.isArray(h)?{}:h,g.deepCopy&&(b=t.copy(b)),m.beforeDrop&&T.push(this.callEventCallback($,m.beforeDrop,l,u)),s.all(T).then(t.bind(this,function(){if(m.insertInline&&f===p){if(m.index>g.index){d=c[m.index];for(var i=m.index;i>g.index;i--)h[i]=t.copy(h[i-1]),h[i-1]={},h[i][m.direction]="left";h[g.index]=d}else{d=c[m.index];for(var i=m.index;i<g.index;i++)h[i]=t.copy(h[i+1]),h[i+1]={},h[i][m.direction]="right";h[g.index]=d}this.callEventCallback(x,g.onDrop,l,u)}else m.animate===!0?(C=e.clone(),C.css({position:"absolute"}).css(e.offset()),n("body").append(C),e.addClass("angular-dragdrop-hide"),this.move(C,w.length>0?w:a,null,"fast",g,function(){C.remove()}),this.move(w.length>0&&!g.multiple?w:[],e.parent("[jqyoui-droppable],[data-jqyoui-droppable]"),r.startXY,"fast",g,t.bind(this,function(){o(t.bind(this,function(){e.css({position:"relative",left:"",top:""}).removeClass("angular-dragdrop-hide"),w.css({position:"relative",left:"",top:"",display:"none"===w.css("display")?"":w.css("display")}),this.mutateDraggable($,g,m,f,p,b,e),this.mutateDroppable(x,g,m,p,y,v),this.callEventCallback(x,g.onDrop,l,u)}))}))):o(t.bind(this,function(){this.mutateDraggable($,g,m,f,p,b,e),this.mutateDroppable(x,g,m,p,y,v),this.callEventCallback(x,g.onDrop,l,u)}))}))["finally"](t.bind(this,function(){this.restore(e)}))},this.move=function(t,n,r,o,a,s){if(0===t.length)return s&&e.setTimeout(function(){s()},300),!1;var l=t.css("z-index"),u=t[a.containment||"offset"](),c=n.css("display"),h=n.hasClass("ng-hide"),d=n.hasClass("angular-dragdrop-hide");null===r&&n.length>0&&((n.attr("jqyoui-draggable")||n.attr("data-jqyoui-draggable"))!==i&&n.ngattr("ng-model")!==i&&n.is(":visible")&&a&&a.multiple?(r=n[a.containment||"offset"](),a.stack===!1?r.left+=n.outerWidth(!0):r.top+=n.outerHeight(!0)):(h&&n.removeClass("ng-hide"),d&&n.removeClass("angular-dragdrop-hide"),r=n.css({visibility:"hidden",display:"block"})[a.containment||"offset"](),n.css({visibility:"",display:c}))),t.css({position:"absolute","z-index":9999}).css(u).animate(r,o,function(){h&&n.addClass("ng-hide"),d&&n.addClass("angular-dragdrop-hide"),t.css("z-index",l),s&&s()})},this.mutateDroppable=function(e,n,i,r,o,s){var l=e.$eval(r);e.dndDragItem=o,t.isArray(l)?(n&&n.index>=0?l[n.index]=o:l.push(o),i&&i.placeholder===!0&&(l[l.length-1].jqyoui_pos=s)):(a(r+" = dndDragItem")(e),i&&i.placeholder===!0&&(l.jqyoui_pos=s))},this.mutateDraggable=function(e,n,r,o,s,l,u){var c=t.equals(l,{})||!l,h=e.$eval(o);e.dndDropItem=l,r&&r.placeholder?"keep"!=r.placeholder&&(t.isArray(h)&&r.index!==i?h[r.index]=l:a(o+" = dndDropItem")(e)):t.isArray(h)?c?r&&r.placeholder!==!0&&"keep"!==r.placeholder&&h.splice(r.index,1):h[r.index]=l:(a(o+" = dndDropItem")(e),e.$parent&&a(o+" = dndDropItem")(e.$parent)),this.restore(u)},this.restore=function(e){e.css({"z-index":"",left:"",top:""})},this.fixIndex=function(e,n,r){if(n.applyFilter&&t.isArray(r)&&r.length>0){var o=e[n.applyFilter](),a=o[n.index],s=i;return r.forEach(function(e,n){t.equals(e,a)&&(s=n)}),s}return n.index}}]).directive("jqyouiDraggable",["ngDragDropService",function(e){return{require:"?jqyouiDroppable",restrict:"A",link:function(i,o,a){var s,l,u,c,h=n(o),d=function(o,d){o?(s=i.$eval(h.attr("jqyoui-draggable")||h.attr("data-jqyoui-draggable"))||{},l=i.$eval(a.jqyouiOptions)||{},h.draggable({disabled:!1}).draggable(l).draggable({start:function(t,o){e.draggableScope=i,u=n(l.helper?o.helper:this).css("z-index"),n(l.helper?o.helper:this).css("z-index",9999),r.startXY=n(this)[s.containment||"offset"](),e.callEventCallback(i,s.onStart,t,o)},stop:function(t,r){n(l.helper?r.helper:this).css("z-index",u),e.callEventCallback(i,s.onStop,t,r)},drag:function(t,n){e.callEventCallback(i,s.onDrag,t,n)}})):h.draggable({disabled:!0}),c&&t.isDefined(o)&&(t.equals(a.drag,"true")||t.equals(a.drag,"false"))&&(c(),c=null)};c=i.$watch(function(){return i.$eval(a.drag)},d),d(),h.on("$destroy",function(){h.draggable({disabled:!0}).draggable("destroy")})}}}]).directive("jqyouiDroppable",["ngDragDropService","$q",function(e,i){return{restrict:"A",priority:1,link:function(r,o,a){var s,l,u,c=n(o),h=function(o,h){o?(s=r.$eval(n(c).attr("jqyoui-droppable")||n(c).attr("data-jqyoui-droppable"))||{},l=r.$eval(a.jqyouiOptions)||{},c.droppable({disabled:!1}).droppable(l).droppable({over:function(t,n){e.callEventCallback(r,s.onOver,t,n)},out:function(t,n){e.callEventCallback(r,s.onOut,t,n)},drop:function(o,u){var c=null;c=s.beforeDrop?e.callEventCallback(r,s.beforeDrop,o,u):function(){var e=i.defer();return e.resolve(),e.promise}(),c.then(t.bind(this,function(){n(u.draggable).ngattr("ng-model")&&a.ngModel?(e.droppableScope=r,e.invokeDrop(n(u.draggable),n(this),o,u)):e.callEventCallback(r,s.onDrop,o,u)}),function(){u.draggable.animate({left:"",top:""},l.revertDuration||0)})}})):c.droppable({disabled:!0}),u&&t.isDefined(o)&&(t.equals(a.drop,"true")||t.equals(a.drop,"false"))&&(u(),u=null)};u=r.$watch(function(){return r.$eval(a.drop)},h),h(),c.on("$destroy",function(){c.droppable({disabled:!0}).droppable("destroy")})}}}]);n.fn.ngattr=function(e,t){var n=this[0];return n.getAttribute(e)||n.getAttribute("data-"+e)}}(window,window.angular,window.jQuery),function(e,t,n){"use strict";function i(e,n,i,r,o,a){function s(e,n){return angular.element((n||t).querySelectorAll(e))}function l(e){return u[e]?u[e]:u[e]=n.get(e,{cache:a}).then(function(e){return e.data})}this.compile=function(t){t.template&&/\.html$/.test(t.template)&&(console.warn("Deprecated use of `template` option to pass a file. Please use the `templateUrl` option instead."),t.templateUrl=t.template,t.template="");var n=t.templateUrl,a=t.template||"",u=t.controller,c=t.controllerAs,h=angular.copy(t.resolve||{}),d=angular.copy(t.locals||{}),f=t.transformTemplate||angular.identity,p=t.bindToController;if(angular.forEach(h,function(e,t){angular.isString(e)?h[t]=i.get(e):h[t]=i.invoke(e)}),angular.extend(h,d),a)h.$template=e.when(a);else{if(!n)throw new Error("Missing `template` / `templateUrl` option.");h.$template=l(n)}return t.titleTemplate&&(h.$template=e.all([h.$template,l(t.titleTemplate)]).then(function(e){var t=angular.element(e[0]);return s('[ng-bind="title"]',t[0]).removeAttr("ng-bind").html(e[1]),t[0].outerHTML})),t.contentTemplate&&(h.$template=e.all([h.$template,l(t.contentTemplate)]).then(function(e){var n=angular.element(e[0]),i=s('[ng-bind="content"]',n[0]).removeAttr("ng-bind").html(e[1]);return t.templateUrl||i.next().remove(),n[0].outerHTML})),e.all(h).then(function(e){var n=f(e.$template);t.html&&(n=n.replace(/ng-bind="/gi,'ng-bind-html="'));var i=angular.element("<div>").html(n.trim()).contents(),a=r(i);return{locals:e,element:i,link:function(t){if(e.$scope=t,u){var n=o(u,e,!0);p&&angular.extend(n.instance,e);var r=angular.isObject(n)?n:n();i.data("$ngControllerController",r),i.children().data("$ngControllerController",r),c&&(t[c]=r)}return a.apply(null,arguments)}}})};var u={}}i.$inject=["$q","$http","$injector","$compile","$controller","$templateCache"],angular.module("mgcrea.ngStrap.tooltip",["mgcrea.ngStrap.core","mgcrea.ngStrap.helpers.dimensions"]).provider("$tooltip",function(){var e=this.defaults={animation:"am-fade",customClass:"",prefixClass:"tooltip",prefixEvent:"tooltip",container:!1,target:!1,placement:"top",templateUrl:"tooltip/tooltip.tpl.html",template:"",titleTemplate:!1,trigger:"hover focus",keyboard:!1,html:!1,show:!1,title:"",type:"",delay:0,autoClose:!1,bsEnabled:!0,viewport:{selector:"body",padding:0}};this.$get=["$window","$rootScope","$bsCompiler","$q","$templateCache","$http","$animate","$sce","dimensions","$$rAF","$timeout",function(n,i,r,o,a,s,l,u,c,h,d){function f(o,a){function s(){O.$emit(P.prefixEvent+".show",E)}function f(){if(O.$emit(P.prefixEvent+".hide",E),L===q){if(W&&"focus"===P.trigger)return o[0].blur();I()}}function y(){var e=P.trigger.split(" ");angular.forEach(e,function(e){"click"===e||"contextmenu"===e?o.on(e,E.toggle):"manual"!==e&&(o.on("hover"===e?"mouseenter":"focus",E.enter),o.on("hover"===e?"mouseleave":"blur",E.leave),"button"===N&&"hover"!==e&&o.on(g?"touchstart":"mousedown",E.$onFocusElementMouseDown))})}function b(){for(var e=P.trigger.split(" "),t=e.length;t--;){var n=e[t];"click"===n||"contextmenu"===n?o.off(n,E.toggle):"manual"!==n&&(o.off("hover"===n?"mouseenter":"focus",E.enter),o.off("hover"===n?"mouseleave":"blur",E.leave),"button"===N&&"hover"!==n&&o.off(g?"touchstart":"mousedown",E.$onFocusElementMouseDown))}}function w(){"focus"!==P.trigger?L.on("keyup",E.$onKeyUp):o.on("keyup",E.$onFocusKeyUp)}function x(){"focus"!==P.trigger?L.off("keyup",E.$onKeyUp):o.off("keyup",E.$onFocusKeyUp)}function $(){d(function(){L.on("click",T),v.on("click",E.hide),B=!0},0,!1)}function C(){B&&(L.off("click",T),v.off("click",E.hide),B=!1)}function T(e){e.stopPropagation()}function _(e){e=e||P.target||o;var i=e[0],r="BODY"===i.tagName,a=i.getBoundingClientRect(),s={};for(var l in a)s[l]=a[l];null===s.width&&(s=angular.extend({},s,{width:a.right-a.left,height:a.bottom-a.top}));var u=r?{top:0,left:0}:c.offset(i),h={scroll:r?t.documentElement.scrollTop||t.body.scrollTop:e.prop("scrollTop")||0},d=r?{width:t.documentElement.clientWidth,height:n.innerHeight}:null;return angular.extend({},s,h,d,u)}function k(e,t,n,i){var r,o=e.split("-");switch(o[0]){case"right":r={top:t.top+t.height/2-i/2,left:t.left+t.width};break;case"bottom":r={top:t.top+t.height,left:t.left+t.width/2-n/2};break;case"left":r={top:t.top+t.height/2-i/2,left:t.left-n};break;default:r={top:t.top-i,left:t.left+t.width/2-n/2}}if(!o[1])return r;if("top"===o[0]||"bottom"===o[0])switch(o[1]){case"left":r.left=t.left;break;case"right":r.left=t.left+t.width-n}else if("left"===o[0]||"right"===o[0])switch(o[1]){case"top":r.top=t.top-i+t.height;break;case"bottom":r.top=t.top}return r}function S(e,t){var n=L[0],i=n.offsetWidth,r=n.offsetHeight,o=parseInt(c.css(n,"margin-top"),10),a=parseInt(c.css(n,"margin-left"),10);isNaN(o)&&(o=0),isNaN(a)&&(a=0),e.top=e.top+o,e.left=e.left+a,c.setOffset(n,angular.extend({using:function(e){L.css({top:Math.round(e.top)+"px",left:Math.round(e.left)+"px",right:""})}},e),0);var s=n.offsetWidth,l=n.offsetHeight;if("top"===t&&l!==r&&(e.top=e.top+r-l),!/top-left|top-right|bottom-left|bottom-right/.test(t)){var u=M(t,e,s,l);if(u.left?e.left+=u.left:e.top+=u.top,c.setOffset(n,e),/top|right|bottom|left/.test(t)){var h=/top|bottom/.test(t),d=h?2*u.left-i+s:2*u.top-r+l,f=h?"offsetWidth":"offsetHeight";D(d,n[f],h)}}}function M(e,t,n,i){var r={top:0,left:0};if(!E.$viewport)return r;var o=P.viewport&&P.viewport.padding||0,a=_(E.$viewport);if(/right|left/.test(e)){var s=t.top-o-a.scroll,l=t.top+o-a.scroll+i;s<a.top?r.top=a.top-s:l>a.top+a.height&&(r.top=a.top+a.height-l)}else{var u=t.left-o,c=t.left+o+n;u<a.left?r.left=a.left-u:c>a.right&&(r.left=a.left+a.width-c)}return r}function D(e,t,n){var i=m(".tooltip-arrow, .arrow",L[0]);i.css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")}function I(){clearTimeout(H),E.$isShown&&null!==L&&(P.autoClose&&C(),P.keyboard&&x()),V&&(V.$destroy(),V=null),L&&(L.remove(),L=E.$element=null)}var E={},P=E.$options=angular.extend({},e,a),A=E.$promise=r.compile(P),O=E.$scope=P.scope&&P.scope.$new()||i.$new(),N=o[0].nodeName.toLowerCase();if(P.delay&&angular.isString(P.delay)){var R=P.delay.split(",").map(parseFloat);P.delay=R.length>1?{show:R[0],hide:R[1]}:R[0]}E.$id=P.id||o.attr("id")||"",P.title&&(O.title=u.trustAsHtml(P.title)),O.$setEnabled=function(e){O.$$postDigest(function(){E.setEnabled(e)})},O.$hide=function(){O.$$postDigest(function(){E.hide()})},O.$show=function(){O.$$postDigest(function(){E.show()})},O.$toggle=function(){O.$$postDigest(function(){E.toggle()})},E.$isShown=O.$isShown=!1;var H,z,F,L,j,V;A.then(function(e){F=e,E.init()}),E.init=function(){P.delay&&angular.isNumber(P.delay)&&(P.delay={show:P.delay,hide:P.delay}),"self"===P.container?j=o:angular.isElement(P.container)?j=P.container:P.container&&(j=m(P.container)),y(),P.target&&(P.target=angular.isElement(P.target)?P.target:m(P.target)),P.show&&O.$$postDigest(function(){"focus"===P.trigger?o[0].focus():E.show()})},E.destroy=function(){b(),I(),O.$destroy()},E.enter=function(){return clearTimeout(H),z="in",P.delay&&P.delay.show?void(H=setTimeout(function(){"in"===z&&E.show()},P.delay.show)):E.show()},E.show=function(){if(P.bsEnabled&&!E.$isShown){O.$emit(P.prefixEvent+".show.before",E);var e,t;P.container?(e=j,t=j[0].lastChild?angular.element(j[0].lastChild):null):(e=null,t=o),L&&I(),V=E.$scope.$new(),L=E.$element=F.link(V,function(e,t){}),L.css({top:"-9999px",left:"-9999px",right:"auto",display:"block",visibility:"hidden"}),P.animation&&L.addClass(P.animation),P.type&&L.addClass(P.prefixClass+"-"+P.type),P.customClass&&L.addClass(P.customClass),t?t.after(L):e.prepend(L),E.$isShown=O.$isShown=!0,p(O),E.$applyPlacement(),angular.version.minor<=2?l.enter(L,e,t,s):l.enter(L,e,t).then(s),p(O),h(function(){L&&L.css({visibility:"visible"}),P.keyboard&&("focus"!==P.trigger&&E.focus(),w())}),P.autoClose&&$()}},E.leave=function(){return clearTimeout(H),z="out",P.delay&&P.delay.hide?void(H=setTimeout(function(){"out"===z&&E.hide()},P.delay.hide)):E.hide()};var W,q;E.hide=function(e){E.$isShown&&(O.$emit(P.prefixEvent+".hide.before",E),W=e,q=L,angular.version.minor<=2?l.leave(L,f):l.leave(L).then(f),E.$isShown=O.$isShown=!1,p(O),P.keyboard&&null!==L&&x(),P.autoClose&&null!==L&&C())},E.toggle=function(e){e&&e.preventDefault(),E.$isShown?E.leave():E.enter()},E.focus=function(){L[0].focus()},E.setEnabled=function(e){P.bsEnabled=e},E.setViewport=function(e){P.viewport=e},E.$applyPlacement=function(){if(L){var t=P.placement,n=/\s?auto?\s?/i,i=n.test(t);i&&(t=t.replace(n,"")||e.placement),L.addClass(P.placement);var r=_(),o=L.prop("offsetWidth"),a=L.prop("offsetHeight");if(E.$viewport=P.viewport&&m(P.viewport.selector||P.viewport),i){var s=t,l=_(E.$viewport);/bottom/.test(s)&&r.bottom+a>l.bottom?t=s.replace("bottom","top"):/top/.test(s)&&r.top-a<l.top&&(t=s.replace("top","bottom")),/left/.test(s)&&r.left-o<l.left?t=t.replace("left","right"):/right/.test(s)&&r.right+o>l.width&&(t=t.replace("right","left")),L.removeClass(s).addClass(t)}var u=k(t,r,o,a);S(u,t)}},E.$onKeyUp=function(e){27===e.which&&E.$isShown&&(E.hide(),e.stopPropagation())},E.$onFocusKeyUp=function(e){27===e.which&&(o[0].blur(),e.stopPropagation())},E.$onFocusElementMouseDown=function(e){e.preventDefault(),e.stopPropagation(),E.$isShown?o[0].blur():o[0].focus()};var B=!1;return E}function p(e){e.$$phase||e.$root&&e.$root.$$phase||e.$digest()}function m(e,n){return angular.element((n||t).querySelectorAll(e))}var g="createTouch"in n.document,v=angular.element(n.document);return f}]}).directive("bsTooltip",["$window","$location","$sce","$tooltip","$$rAF",function(e,t,n,i,r){return{restrict:"EAC",scope:!0,link:function(e,t,o,a){var s,l={scope:e};angular.forEach(["template","templateUrl","controller","controllerAs","titleTemplate","placement","container","delay","trigger","html","animation","backdropAnimation","type","customClass","id"],function(e){angular.isDefined(o[e])&&(l[e]=o[e])});var u=/^(false|0|)$/i;angular.forEach(["html","container"],function(e){angular.isDefined(o[e])&&u.test(o[e])&&(l[e]=!1)});var c=t.attr("data-target");angular.isDefined(c)&&(u.test(c)?l.target=!1:l.target=c),e.hasOwnProperty("title")||(e.title=""),o.$observe("title",function(t){if(angular.isDefined(t)||!e.hasOwnProperty("title")){var i=e.title;e.title=n.trustAsHtml(t),angular.isDefined(i)&&r(function(){s&&s.$applyPlacement()})}}),o.$observe("disabled",function(e){e&&s.$isShown&&s.hide()}),o.bsTooltip&&e.$watch(o.bsTooltip,function(t,n){angular.isObject(t)?angular.extend(e,t):e.title=t,angular.isDefined(n)&&r(function(){s&&s.$applyPlacement()})},!0),o.bsShow&&e.$watch(o.bsShow,function(e,t){s&&angular.isDefined(e)&&(angular.isString(e)&&(e=!!e.match(/true|,?(tooltip),?/i)),e===!0?s.show():s.hide())}),o.bsEnabled&&e.$watch(o.bsEnabled,function(e,t){s&&angular.isDefined(e)&&(angular.isString(e)&&(e=!!e.match(/true|1|,?(tooltip),?/i)),e===!1?s.setEnabled(!1):s.setEnabled(!0))}),o.viewport&&e.$watch(o.viewport,function(e){s&&angular.isDefined(e)&&s.setViewport(e)}),s=i(t,l),e.$on("$destroy",function(){s&&s.destroy(),l=null,s=null})}}}]),angular.module("mgcrea.ngStrap.typeahead",["mgcrea.ngStrap.tooltip","mgcrea.ngStrap.helpers.parseOptions"]).provider("$typeahead",function(){var e=this.defaults={animation:"am-fade",prefixClass:"typeahead",prefixEvent:"$typeahead",placement:"bottom-left",templateUrl:"typeahead/typeahead.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,minLength:1,filter:"bsAsyncFilter",limit:6,autoSelect:!1,comparator:"",trimValue:!0};this.$get=["$window","$rootScope","$tooltip","$$rAF","$timeout",function(t,n,i,r,o){function a(t,n,a){var l={},u=angular.extend({},e,a);l=i(t,u);var c=a.scope,h=l.$scope;h.$resetMatches=function(){h.$matches=[],h.$activeIndex=u.autoSelect?0:-1},h.$resetMatches(),h.$activate=function(e){h.$$postDigest(function(){l.activate(e)})},h.$select=function(e,t){h.$$postDigest(function(){l.select(e)})},h.$isVisible=function(){return l.$isVisible()},l.update=function(e){h.$matches=e,h.$activeIndex>=e.length&&(h.$activeIndex=u.autoSelect?0:-1),s(h),r(l.$applyPlacement)},l.activate=function(e){h.$activeIndex=e},l.select=function(e){if(-1!==e){var t=h.$matches[e].value;n.$setViewValue(t),n.$render(),h.$resetMatches(),c&&c.$digest(),h.$emit(u.prefixEvent+".select",t,e,l)}},l.$isVisible=function(){return u.minLength&&n?h.$matches.length&&angular.isString(n.$viewValue)&&n.$viewValue.length>=u.minLength:!!h.$matches.length},l.$getIndex=function(e){var t;for(t=h.$matches.length;t--&&!angular.equals(h.$matches[t].value,e););return t},l.$onMouseDown=function(e){e.preventDefault(),e.stopPropagation()},l.$onKeyDown=function(e){/(38|40|13)/.test(e.keyCode)&&(!l.$isVisible()||13===e.keyCode&&-1===h.$activeIndex||(e.preventDefault(),e.stopPropagation()),13===e.keyCode&&h.$matches.length?l.select(h.$activeIndex):38===e.keyCode&&h.$activeIndex>0?h.$activeIndex--:40===e.keyCode&&h.$activeIndex<h.$matches.length-1?h.$activeIndex++:angular.isUndefined(h.$activeIndex)&&(h.$activeIndex=0),h.$digest())};var d=l.show;l.show=function(){d(),o(function(){l.$element&&(l.$element.on("mousedown",l.$onMouseDown),u.keyboard&&t&&t.on("keydown",l.$onKeyDown))},0,!1)};var f=l.hide;return l.hide=function(){l.$element&&l.$element.off("mousedown",l.$onMouseDown),u.keyboard&&t&&t.off("keydown",l.$onKeyDown),u.autoSelect||l.activate(-1),f()},l}function s(e){e.$$phase||e.$root&&e.$root.$$phase||e.$digest()}return a.defaults=e,a}]}).filter("bsAsyncFilter",["$filter",function(e){return function(t,n,i){return t&&angular.isFunction(t.then)?t.then(function(t){return e("filter")(t,n,i)}):e("filter")(t,n,i)}}]).directive("bsTypeahead",["$window","$parse","$q","$typeahead","$parseOptions",function(e,t,n,i,r){var o=i.defaults;return{restrict:"EAC",require:"ngModel",link:function(e,t,n,a){t.off("change");var s={scope:e};angular.forEach(["template","templateUrl","controller","controllerAs","placement","container","delay","trigger","keyboard","html","animation","filter","limit","minLength","watchOptions","selectMode","autoSelect","comparator","id","prefixEvent","prefixClass"],function(e){angular.isDefined(n[e])&&(s[e]=n[e])});var l=/^(false|0|)$/i;angular.forEach(["html","container","trimValue","filter"],function(e){angular.isDefined(n[e])&&l.test(n[e])&&(s[e]=!1)}),t.attr("autocomplete")||t.attr("autocomplete","off");var u=angular.isDefined(s.filter)?s.filter:o.filter,c=s.limit||o.limit,h=s.comparator||o.comparator,d=n.bsOptions;u&&(d+=" | "+u+":$viewValue",h&&(d+=":"+h)),c&&(d+=" | limitTo:"+c);var f=r(d),p=i(t,a,s);if(s.watchOptions){var m=f.$match[7].replace(/\|.+/,"").replace(/\(.*\)/g,"").trim();e.$watchCollection(m,function(t,n){f.valuesFn(e,a).then(function(e){p.update(e),a.$render()})})}e.$watch(n.ngModel,function(t,n){e.$modelValue=t,f.valuesFn(e,a).then(function(e){return s.selectMode&&!e.length&&t.length>0?void a.$setViewValue(a.$viewValue.substring(0,a.$viewValue.length-1)):(e.length>c&&(e=e.slice(0,c)),p.update(e),void a.$render())})}),a.$formatters.push(function(e){var t=f.displayValue(e);return t?t:angular.isDefined(e)&&"object"!=typeof e?e:""}),a.$render=function(){if(a.$isEmpty(a.$viewValue))return t.val("");var e=p.$getIndex(a.$modelValue),n=-1!==e?p.$scope.$matches[e].label:a.$viewValue;n=angular.isObject(n)?f.displayValue(n):n;var i=n?n.toString().replace(/<(?:.|\n)*?>/gm,""):"";t.val(s.trimValue===!1?i:i.trim())},e.$on("$destroy",function(){p&&p.destroy(),s=null,p=null})}}}]),angular.module("mgcrea.ngStrap.timepicker",["mgcrea.ngStrap.helpers.dateParser","mgcrea.ngStrap.helpers.dateFormatter","mgcrea.ngStrap.tooltip"]).provider("$timepicker",function(){var e=this.defaults={animation:"am-fade",prefixClass:"timepicker",placement:"bottom-left",templateUrl:"timepicker/timepicker.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,useNative:!0,timeType:"date",timeFormat:"shortTime",timezone:null,modelTimeFormat:null,autoclose:!1,minTime:-(1/0),maxTime:+(1/0),length:5,hourStep:1,minuteStep:5,secondStep:5,roundDisplay:!1,iconUp:"glyphicon glyphicon-chevron-up",iconDown:"glyphicon glyphicon-chevron-down",arrowBehavior:"pager"};this.$get=["$window","$document","$rootScope","$sce","$dateFormatter","$tooltip","$timeout",function(t,n,i,r,o,a,s){function l(t,n,i){function r(e){var t=6e4*p.minuteStep;return new Date(Math.floor(e.getTime()/t)*t)}function l(e,n){var i=e+n;if(t[0].createTextRange){var r=t[0].createTextRange();r.collapse(!0),r.moveStart("character",e),r.moveEnd("character",i),r.select()}else t[0].setSelectionRange?t[0].setSelectionRange(e,i):angular.isUndefined(t[0].selectionStart)&&(t[0].selectionStart=e,t[0].selectionEnd=i)}function h(){t[0].focus()}var d=a(t,angular.extend({},e,i)),f=i.scope,p=d.$options,m=d.$scope,g=p.lang,v=function(e,t,n){return o.formatDate(e,t,g,n)},y=0,b=p.roundDisplay?r(new Date):new Date,w=n.$dateValue||b,x={hour:w.getHours(),meridian:w.getHours()<12,minute:w.getMinutes(),second:w.getSeconds(),millisecond:w.getMilliseconds()},$=o.getDatetimeFormat(p.timeFormat,g),C=o.hoursFormat($),T=o.timeSeparator($),_=o.minutesFormat($),k=o.secondsFormat($),S=o.showSeconds($),M=o.showAM($);m.$iconUp=p.iconUp,m.$iconDown=p.iconDown,m.$select=function(e,t){d.select(e,t)},m.$moveIndex=function(e,t){d.$moveIndex(e,t)},m.$switchMeridian=function(e){d.switchMeridian(e)},d.update=function(e){angular.isDate(e)&&!isNaN(e.getTime())?(d.$date=e,angular.extend(x,{hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds(),millisecond:e.getMilliseconds()}),d.$build()):d.$isBuilt||d.$build()},d.select=function(e,t,i){n.$dateValue&&!isNaN(n.$dateValue.getTime())||(n.$dateValue=new Date(1970,0,1)),angular.isDate(e)||(e=new Date(e)),0===t?n.$dateValue.setHours(e.getHours()):1===t?n.$dateValue.setMinutes(e.getMinutes()):2===t&&n.$dateValue.setSeconds(e.getSeconds()),n.$setViewValue(angular.copy(n.$dateValue)),n.$render(),p.autoclose&&!i&&s(function(){d.hide(!0)})},d.switchMeridian=function(e){if(n.$dateValue&&!isNaN(n.$dateValue.getTime())){var t=(e||n.$dateValue).getHours();
n.$dateValue.setHours(12>t?t+12:t-12),n.$setViewValue(angular.copy(n.$dateValue)),n.$render()}},d.$build=function(){var e,t,n=m.midIndex=parseInt(p.length/2,10),i=[];for(e=0;e<p.length;e++)t=new Date(1970,0,1,x.hour-(n-e)*p.hourStep),i.push({date:t,label:v(t,C),selected:d.$date&&d.$isSelected(t,0),disabled:d.$isDisabled(t,0)});var r,o=[];for(e=0;e<p.length;e++)r=new Date(1970,0,1,0,x.minute-(n-e)*p.minuteStep),o.push({date:r,label:v(r,_),selected:d.$date&&d.$isSelected(r,1),disabled:d.$isDisabled(r,1)});var a,s=[];for(e=0;e<p.length;e++)a=new Date(1970,0,1,0,0,x.second-(n-e)*p.secondStep),s.push({date:a,label:v(a,k),selected:d.$date&&d.$isSelected(a,2),disabled:d.$isDisabled(a,2)});var l=[];for(e=0;e<p.length;e++)S?l.push([i[e],o[e],s[e]]):l.push([i[e],o[e]]);m.rows=l,m.showSeconds=S,m.showAM=M,m.isAM=(d.$date||i[n].date).getHours()<12,m.timeSeparator=T,d.$isBuilt=!0},d.$isSelected=function(e,t){return d.$date?0===t?e.getHours()===d.$date.getHours():1===t?e.getMinutes()===d.$date.getMinutes():2===t?e.getSeconds()===d.$date.getSeconds():void 0:!1},d.$isDisabled=function(e,t){var n;return 0===t?n=e.getTime()+6e4*x.minute+1e3*x.second:1===t?n=e.getTime()+36e5*x.hour+1e3*x.second:2===t&&(n=e.getTime()+36e5*x.hour+6e4*x.minute),n<1*p.minTime||n>1*p.maxTime},m.$arrowAction=function(e,t){"picker"===p.arrowBehavior?d.$setTimeByStep(e,t):d.$moveIndex(e,t)},d.$setTimeByStep=function(e,t){var n=new Date(d.$date||w),i=n.getHours(),r=n.getMinutes(),o=n.getSeconds();0===t?n.setHours(i-parseInt(p.hourStep,10)*e):1===t?n.setMinutes(r-parseInt(p.minuteStep,10)*e):2===t&&n.setSeconds(o-parseInt(p.secondStep,10)*e),d.select(n,t,!0)},d.$moveIndex=function(e,t){var n;0===t?(n=new Date(1970,0,1,x.hour+e*p.length,x.minute,x.second),angular.extend(x,{hour:n.getHours()})):1===t?(n=new Date(1970,0,1,x.hour,x.minute+e*p.length*p.minuteStep,x.second),angular.extend(x,{minute:n.getMinutes()})):2===t&&(n=new Date(1970,0,1,x.hour,x.minute,x.second+e*p.length*p.secondStep),angular.extend(x,{second:n.getSeconds()})),d.$build()},d.$onMouseDown=function(e){if("input"!==e.target.nodeName.toLowerCase()&&e.preventDefault(),e.stopPropagation(),c){var t=angular.element(e.target);"button"!==t[0].nodeName.toLowerCase()&&(t=t.parent()),t.triggerHandler("click")}},d.$onKeyDown=function(e){if(/(38|37|39|40|13)/.test(e.keyCode)&&!e.shiftKey&&!e.altKey){if(e.preventDefault(),e.stopPropagation(),13===e.keyCode)return void d.hide(!0);var t=new Date(d.$date),n=t.getHours(),i=v(t,C).length,r=t.getMinutes(),o=v(t,_).length,a=t.getSeconds(),s=v(t,k).length,u=1,c=/(37|39)/.test(e.keyCode),h=2+1*S+1*M;c&&(37===e.keyCode?y=1>y?h-1:y-1:39===e.keyCode&&(y=h-1>y?y+1:0));var m=[0,i],g=0;38===e.keyCode&&(g=-1),40===e.keyCode&&(g=1);var b=2===y&&S,w=2===y&&!S||3===y&&S;0===y?(t.setHours(n+g*parseInt(p.hourStep,10)),i=v(t,C).length,m=[0,i]):1===y?(t.setMinutes(r+g*parseInt(p.minuteStep,10)),o=v(t,_).length,m=[i+u,o]):b?(t.setSeconds(a+g*parseInt(p.secondStep,10)),s=v(t,k).length,m=[i+u+o+u,s]):w&&(c||d.switchMeridian(),m=[i+u+o+u+(s+u)*S,2]),d.select(t,y,!0),l(m[0],m[1]),f.$digest()}};var D=d.init;d.init=function(){return u&&p.useNative?(t.prop("type","time"),void t.css("-webkit-appearance","textfield")):(c&&(t.prop("type","text"),t.attr("readonly","true"),t.on("click",h)),void D())};var I=d.destroy;d.destroy=function(){u&&p.useNative&&t.off("click",h),I()};var E=d.show;d.show=function(){!c&&t.attr("readonly")||t.attr("disabled")||(E(),s(function(){d.$element&&d.$element.on(c?"touchstart":"mousedown",d.$onMouseDown),p.keyboard&&t&&t.on("keydown",d.$onKeyDown)},0,!1))};var P=d.hide;return d.hide=function(e){d.$isShown&&(d.$element&&d.$element.off(c?"touchstart":"mousedown",d.$onMouseDown),p.keyboard&&t&&t.off("keydown",d.$onKeyDown),P(e))},d}var u=/(ip[ao]d|iphone|android)/gi.test(t.navigator.userAgent),c="createTouch"in t.document&&u;return e.lang||(e.lang=o.getDefaultLocale()),l.defaults=e,l}]}).directive("bsTimepicker",["$window","$parse","$q","$dateFormatter","$dateParser","$timepicker",function(e,t,i,r,o,a){var s=a.defaults,l=/(ip[ao]d|iphone|android)/gi.test(e.navigator.userAgent);return{restrict:"EAC",require:"ngModel",link:function(e,t,i,u){function c(e){if(angular.isDate(e)){var t=isNaN(d.minTime)||new Date(e.getTime()).setFullYear(1970,0,1)>=d.minTime,n=isNaN(d.maxTime)||new Date(e.getTime()).setFullYear(1970,0,1)<=d.maxTime,i=t&&n;u.$setValidity("date",i),u.$setValidity("min",t),u.$setValidity("max",n),i&&(u.$dateValue=e)}}function h(){return!u.$dateValue||isNaN(u.$dateValue.getTime())?"":g(u.$dateValue,d.timeFormat)}var d={scope:e};angular.forEach(["template","templateUrl","controller","controllerAs","placement","container","delay","trigger","keyboard","html","animation","autoclose","timeType","timeFormat","timezone","modelTimeFormat","useNative","hourStep","minuteStep","secondStep","length","arrowBehavior","iconUp","iconDown","roundDisplay","id","prefixClass","prefixEvent"],function(e){angular.isDefined(i[e])&&(d[e]=i[e])});var f=/^(false|0|)$/i;angular.forEach(["html","container","autoclose","useNative","roundDisplay"],function(e){angular.isDefined(i[e])&&f.test(i[e])&&(d[e]=!1)}),l&&(d.useNative||s.useNative)&&(d.timeFormat="HH:mm");var p=a(t,u,d);d=p.$options;var m=d.lang,g=function(e,t,n){return r.formatDate(e,t,m,n)};i.bsShow&&e.$watch(i.bsShow,function(e,t){p&&angular.isDefined(e)&&(angular.isString(e)&&(e=!!e.match(/true|,?(timepicker),?/i)),e===!0?p.show():p.hide())});var v=o({format:d.timeFormat,lang:m});angular.forEach(["minTime","maxTime"],function(e){angular.isDefined(i[e])&&i.$observe(e,function(t){p.$options[e]=v.getTimeForAttribute(e,t),isNaN(p.$options[e])||p.$build(),c(u.$dateValue)})}),e.$watch(i.ngModel,function(e,t){p.update(u.$dateValue)},!0),u.$parsers.unshift(function(e){var t;if(!e)return u.$setValidity("date",!0),null;var i=angular.isDate(e)?e:v.parse(e,u.$dateValue);return!i||isNaN(i.getTime())?(u.$setValidity("date",!1),n):(c(i),"string"===d.timeType?(t=v.timezoneOffsetAdjust(i,d.timezone,!0),g(t,d.modelTimeFormat||d.timeFormat)):(t=v.timezoneOffsetAdjust(u.$dateValue,d.timezone,!0),"number"===d.timeType?t.getTime():"unix"===d.timeType?t.getTime()/1e3:"iso"===d.timeType?t.toISOString():new Date(t)))}),u.$formatters.push(function(e){var t;return t=angular.isUndefined(e)||null===e?NaN:angular.isDate(e)?e:"string"===d.timeType?v.parse(e,null,d.modelTimeFormat):"unix"===d.timeType?new Date(1e3*e):new Date(e),u.$dateValue=v.timezoneOffsetAdjust(t,d.timezone),h()}),u.$render=function(){t.val(h())},e.$on("$destroy",function(){p&&p.destroy(),d=null,p=null})}}}]),angular.module("mgcrea.ngStrap.tab",[]).provider("$tab",function(){var e=this.defaults={animation:"am-fade",template:"tab/tab.tpl.html",navClass:"nav-tabs",activeClass:"active"},t=this.controller=function(t,n,i){var r=this;r.$options=angular.copy(e),angular.forEach(["animation","navClass","activeClass"],function(e){angular.isDefined(i[e])&&(r.$options[e]=i[e])}),t.$navClass=r.$options.navClass,t.$activeClass=r.$options.activeClass,r.$panes=t.$panes=[],r.$activePaneChangeListeners=r.$viewChangeListeners=[],r.$push=function(e){angular.isUndefined(r.$panes.$active)&&t.$setActive(e.name||0),r.$panes.push(e)},r.$remove=function(e){var t,n=r.$panes.indexOf(e),i=r.$panes.$active;t=angular.isString(i)?r.$panes.map(function(e){return e.name}).indexOf(i):r.$panes.$active,r.$panes.splice(n,1),t>n?t--:n===t&&t===r.$panes.length&&t--,t>=0&&t<r.$panes.length?r.$setActive(r.$panes[t].name||t):r.$setActive()},r.$setActive=t.$setActive=function(e){r.$panes.$active=e,r.$activePaneChangeListeners.forEach(function(e){e()})},r.$isActive=t.$isActive=function(e,t){return r.$panes.$active===e.name||r.$panes.$active===t}};this.$get=function(){var n={};return n.defaults=e,n.controller=t,n}}).directive("bsTabs",["$window","$animate","$tab","$parse",function(e,t,n,i){var r=n.defaults;return{require:["?ngModel","bsTabs"],transclude:!0,scope:!0,controller:["$scope","$element","$attrs",n.controller],templateUrl:function(e,t){return t.template||r.template},link:function(e,t,n,r){var o=r[0],a=r[1];if(o&&(a.$activePaneChangeListeners.push(function(){o.$setViewValue(a.$panes.$active)}),o.$formatters.push(function(e){return a.$setActive(e),e})),n.bsActivePane){var s=i(n.bsActivePane);a.$activePaneChangeListeners.push(function(){s.assign(e,a.$panes.$active)}),e.$watch(n.bsActivePane,function(e,t){a.$setActive(e)},!0)}}}}]).directive("bsPane",["$window","$animate","$sce",function(e,t,n){return{require:["^?ngModel","^bsTabs"],scope:!0,link:function(e,i,r,o){function a(){var n=s.$panes.indexOf(e);t[s.$isActive(e,n)?"addClass":"removeClass"](i,s.$options.activeClass)}var s=o[1];i.addClass("tab-pane"),r.$observe("title",function(t,i){e.title=n.trustAsHtml(t)}),e.name=r.name,s.$options.animation&&i.addClass(s.$options.animation),r.$observe("disabled",function(t,n){e.disabled=e.$eval(t)}),s.$push(e),e.$on("$destroy",function(){s.$remove(e)}),s.$activePaneChangeListeners.push(function(){a()}),a()}}}]),angular.module("mgcrea.ngStrap.select",["mgcrea.ngStrap.tooltip","mgcrea.ngStrap.helpers.parseOptions"]).provider("$select",function(){var e=this.defaults={animation:"am-fade",prefixClass:"select",prefixEvent:"$select",placement:"bottom-left",templateUrl:"select/select.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,multiple:!1,allNoneButtons:!1,sort:!0,caretHtml:'&nbsp;<span class="caret"></span>',placeholder:"Choose among the following...",allText:"All",noneText:"None",maxLength:3,maxLengthHtml:"selected",iconCheckmark:"glyphicon glyphicon-ok"};this.$get=["$window","$document","$rootScope","$tooltip","$timeout",function(t,n,i,r,o){function a(i,a,s){var u={},c=angular.extend({},e,s);u=r(i,c);var h=u.$scope;h.$matches=[],c.multiple?h.$activeIndex=[]:h.$activeIndex=-1,h.$isMultiple=c.multiple,h.$showAllNoneButtons=c.allNoneButtons&&c.multiple,h.$iconCheckmark=c.iconCheckmark,h.$allText=c.allText,h.$noneText=c.noneText,h.$activate=function(e){h.$$postDigest(function(){u.activate(e)})},h.$select=function(e,t){h.$$postDigest(function(){u.select(e)})},h.$isVisible=function(){return u.$isVisible()},h.$isActive=function(e){return u.$isActive(e)},h.$selectAll=function(){for(var e=0;e<h.$matches.length;e++)h.$isActive(e)||h.$select(e)},h.$selectNone=function(){for(var e=0;e<h.$matches.length;e++)h.$isActive(e)&&h.$select(e)},u.update=function(e){h.$matches=e,u.$updateActiveIndex()},u.activate=function(e){return c.multiple?(u.$isActive(e)?h.$activeIndex.splice(h.$activeIndex.indexOf(e),1):h.$activeIndex.push(e),c.sort&&h.$activeIndex.sort(function(e,t){return e-t})):h.$activeIndex=e,h.$activeIndex},u.select=function(e){var t=h.$matches[e].value;h.$apply(function(){u.activate(e),c.multiple?a.$setViewValue(h.$activeIndex.map(function(e){return angular.isUndefined(h.$matches[e])?null:h.$matches[e].value})):(a.$setViewValue(t),u.hide())}),h.$emit(c.prefixEvent+".select",t,e,u)},u.$updateActiveIndex=function(){c.multiple?angular.isArray(a.$modelValue)?h.$activeIndex=a.$modelValue.map(function(e){return u.$getIndex(e)}):h.$activeIndex=[]:angular.isDefined(a.$modelValue)&&h.$matches.length?h.$activeIndex=u.$getIndex(a.$modelValue):h.$activeIndex=-1},u.$isVisible=function(){return c.minLength&&a?h.$matches.length&&a.$viewValue.length>=c.minLength:h.$matches.length},u.$isActive=function(e){return c.multiple?-1!==h.$activeIndex.indexOf(e):h.$activeIndex===e},u.$getIndex=function(e){var t;for(t=h.$matches.length;t--&&!angular.equals(h.$matches[t].value,e););return t},u.$onMouseDown=function(e){if(e.preventDefault(),e.stopPropagation(),l){var t=angular.element(e.target);t.triggerHandler("click")}},u.$onKeyDown=function(e){return/(9|13|38|40)/.test(e.keyCode)?(9!==e.keyCode&&(e.preventDefault(),e.stopPropagation()),c.multiple&&9===e.keyCode?u.hide():c.multiple||13!==e.keyCode&&9!==e.keyCode?void(c.multiple||(38===e.keyCode&&h.$activeIndex>0?h.$activeIndex--:38===e.keyCode&&h.$activeIndex<0?h.$activeIndex=h.$matches.length-1:40===e.keyCode&&h.$activeIndex<h.$matches.length-1?h.$activeIndex++:angular.isUndefined(h.$activeIndex)&&(h.$activeIndex=0),h.$digest())):u.select(h.$activeIndex)):void 0},u.$isIE=function(){var e=t.navigator.userAgent;return e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0},u.$selectScrollFix=function(e){"UL"===n[0].activeElement.tagName&&(e.preventDefault(),e.stopImmediatePropagation(),e.target.focus())};var d=u.show;u.show=function(){d(),c.multiple&&u.$element.addClass("select-multiple"),o(function(){u.$element.on(l?"touchstart":"mousedown",u.$onMouseDown),c.keyboard&&i.on("keydown",u.$onKeyDown)},0,!1)};var f=u.hide;return u.hide=function(){!c.multiple&&angular.isUndefined(a.$modelValue)&&(h.$activeIndex=-1),u.$element.off(l?"touchstart":"mousedown",u.$onMouseDown),c.keyboard&&i.off("keydown",u.$onKeyDown),f(!0)},u}var s=/(ip[ao]d|iphone|android)/gi.test(t.navigator.userAgent),l="createTouch"in t.document&&s;return a.defaults=e,a}]}).directive("bsSelect",["$window","$parse","$q","$select","$parseOptions",function(e,t,n,i,r){var o=i.defaults;return{restrict:"EAC",require:"ngModel",link:function(e,t,n,a){var s={scope:e,placeholder:o.placeholder};angular.forEach(["template","templateUrl","controller","controllerAs","placement","container","delay","trigger","keyboard","html","animation","placeholder","allNoneButtons","maxLength","maxLengthHtml","allText","noneText","iconCheckmark","autoClose","id","sort","caretHtml","prefixClass","prefixEvent"],function(e){angular.isDefined(n[e])&&(s[e]=n[e])});var l=/^(false|0|)$/i;angular.forEach(["html","container","allNoneButtons","sort"],function(e){angular.isDefined(n[e])&&l.test(n[e])&&(s[e]=!1)});var u=t.attr("data-multiple");if(angular.isDefined(u)&&(l.test(u)?s.multiple=!1:s.multiple=u),"select"===t[0].nodeName.toLowerCase()){var c=t;c.css("display","none"),t=angular.element('<button type="button" class="btn btn-default"></button>'),c.after(t)}var h=r(n.bsOptions),d=i(t,a,s);d.$isIE()&&t[0].addEventListener("blur",d.$selectScrollFix);var f=h.$match[7].replace(/\|.+/,"").trim();e.$watch(f,function(t,n){h.valuesFn(e,a).then(function(e){d.update(e),a.$render()})},!0),e.$watch(n.ngModel,function(e,t){d.$updateActiveIndex(),a.$render()},!0),a.$render=function(){var e,n;s.multiple&&angular.isArray(a.$modelValue)?(e=a.$modelValue.map(function(e){return n=d.$getIndex(e),-1!==n?d.$scope.$matches[n].label:!1}).filter(angular.isDefined),e=e.length>(s.maxLength||o.maxLength)?e.length+" "+(s.maxLengthHtml||o.maxLengthHtml):e.join(", ")):(n=d.$getIndex(a.$modelValue),e=-1!==n?d.$scope.$matches[n].label:!1),t.html((e||s.placeholder)+(s.caretHtml||o.caretHtml))},s.multiple&&(a.$isEmpty=function(e){return!e||0===e.length}),e.$on("$destroy",function(){d&&d.destroy(),s=null,d=null})}}}]),angular.module("mgcrea.ngStrap.scrollspy",["mgcrea.ngStrap.helpers.debounce","mgcrea.ngStrap.helpers.dimensions"]).provider("$scrollspy",function(){var e=this.$$spies={},n=this.defaults={debounce:150,throttle:100,offset:100};this.$get=["$window","$document","$rootScope","dimensions","debounce","throttle",function(i,r,o,a,s,l){function u(e,t){return e[0].nodeName&&e[0].nodeName.toLowerCase()===t.toLowerCase()}function c(r){var c=angular.extend({},n,r);c.element||(c.element=f);var p=u(c.element,"body"),m=p?h:c.element,g=p?"window":c.id;if(e[g])return e[g].$$count++,e[g];var v,y,b,w,x,$,C,T,_={},k=_.$trackedElements=[],S=[];return _.init=function(){this.$$count=1,w=s(this.checkPosition,c.debounce),x=l(this.checkPosition,c.throttle),m.on("click",this.checkPositionWithEventLoop),h.on("resize",w),m.on("scroll",x),$=s(this.checkOffsets,c.debounce),v=o.$on("$viewContentLoaded",$),y=o.$on("$includeContentLoaded",$),$(),g&&(e[g]=_)},_.destroy=function(){this.$$count--,this.$$count>0||(m.off("click",this.checkPositionWithEventLoop),h.off("resize",w),m.off("scroll",x),v(),y(),g&&delete e[g])},_.checkPosition=function(){if(S.length){if(T=(p?i.pageYOffset:m.prop("scrollTop"))||0,C=Math.max(i.innerHeight,d.prop("clientHeight")),T<S[0].offsetTop&&b!==S[0].target)return _.$activateElement(S[0]);for(var e=S.length;e--;)if(!angular.isUndefined(S[e].offsetTop)&&null!==S[e].offsetTop&&b!==S[e].target&&!(T<S[e].offsetTop||S[e+1]&&T>S[e+1].offsetTop))return _.$activateElement(S[e])}},_.checkPositionWithEventLoop=function(){setTimeout(_.checkPosition,1)},_.$activateElement=function(e){if(b){var t=_.$getTrackedElement(b);t&&(t.source.removeClass("active"),u(t.source,"li")&&u(t.source.parent().parent(),"li")&&t.source.parent().parent().removeClass("active"))}b=e.target,e.source.addClass("active"),u(e.source,"li")&&u(e.source.parent().parent(),"li")&&e.source.parent().parent().addClass("active")},_.$getTrackedElement=function(e){return k.filter(function(t){return t.target===e})[0]},_.checkOffsets=function(){angular.forEach(k,function(e){var n=t.querySelector(e.target);e.offsetTop=n?a.offset(n).top:null,c.offset&&null!==e.offsetTop&&(e.offsetTop-=1*c.offset)}),S=k.filter(function(e){return null!==e.offsetTop}).sort(function(e,t){return e.offsetTop-t.offsetTop}),w()},_.trackElement=function(e,t){k.push({target:e,source:t})},_.untrackElement=function(e,t){for(var n,i=k.length;i--;)if(k[i].target===e&&k[i].source===t){n=i;break}k.splice(n,1)},_.activate=function(e){k[e].addClass("active")},_.init(),_}var h=angular.element(i),d=angular.element(r.prop("documentElement")),f=angular.element(i.document.body);return c}]}).directive("bsScrollspy",["$rootScope","debounce","dimensions","$scrollspy",function(e,t,n,i){return{restrict:"EAC",link:function(e,t,n){var r={scope:e};angular.forEach(["offset","target"],function(e){angular.isDefined(n[e])&&(r[e]=n[e])});var o=i(r);o.trackElement(r.target,t),e.$on("$destroy",function(){o&&(o.untrackElement(r.target,t),o.destroy()),r=null,o=null})}}}]).directive("bsScrollspyList",["$rootScope","debounce","dimensions","$scrollspy",function(e,t,n,i){return{restrict:"A",compile:function(e,t){var n=e[0].querySelectorAll("li > a[href]");angular.forEach(n,function(e){var t=angular.element(e);t.parent().attr("bs-scrollspy","").attr("data-target",t.attr("href"))})}}}]),angular.module("mgcrea.ngStrap.popover",["mgcrea.ngStrap.tooltip"]).provider("$popover",function(){var e=this.defaults={animation:"am-fade",customClass:"",container:!1,target:!1,placement:"right",templateUrl:"popover/popover.tpl.html",contentTemplate:!1,trigger:"click",keyboard:!0,html:!1,title:"",content:"",delay:0,autoClose:!1};this.$get=["$tooltip",function(t){function n(n,i){var r=angular.extend({},e,i),o=t(n,r);return r.content&&(o.$scope.content=r.content),o}return n}]}).directive("bsPopover",["$window","$sce","$popover",function(e,t,n){var i=e.requestAnimationFrame||e.setTimeout;return{restrict:"EAC",scope:!0,link:function(e,r,o){var a,s={scope:e};angular.forEach(["template","templateUrl","controller","controllerAs","contentTemplate","placement","container","delay","trigger","html","animation","customClass","autoClose","id","prefixClass","prefixEvent"],function(e){angular.isDefined(o[e])&&(s[e]=o[e])});var l=/^(false|0|)$/i;angular.forEach(["html","container","autoClose"],function(e){angular.isDefined(o[e])&&l.test(o[e])&&(s[e]=!1)});var u=r.attr("data-target");angular.isDefined(u)&&(l.test(u)?s.target=!1:s.target=u),angular.forEach(["title","content"],function(n){o[n]&&o.$observe(n,function(r,o){e[n]=t.trustAsHtml(r),angular.isDefined(o)&&i(function(){a&&a.$applyPlacement()})})}),o.bsPopover&&e.$watch(o.bsPopover,function(t,n){angular.isObject(t)?angular.extend(e,t):e.content=t,angular.isDefined(n)&&i(function(){a&&a.$applyPlacement()})},!0),o.bsShow&&e.$watch(o.bsShow,function(e,t){a&&angular.isDefined(e)&&(angular.isString(e)&&(e=!!e.match(/true|,?(popover),?/i)),e===!0?a.show():a.hide())}),o.viewport&&e.$watch(o.viewport,function(e){a&&angular.isDefined(e)&&a.setViewport(e)}),a=n(r,s),e.$on("$destroy",function(){a&&a.destroy(),s=null,a=null})}}}]),angular.module("mgcrea.ngStrap.navbar",[]).provider("$navbar",function(){var e=this.defaults={activeClass:"active",routeAttr:"data-match-route",strict:!1};this.$get=function(){return{defaults:e}}}).directive("bsNavbar",["$window","$location","$navbar",function(e,t,n){var i=n.defaults;return{restrict:"A",link:function(e,n,r,o){var a=angular.copy(i);angular.forEach(Object.keys(i),function(e){angular.isDefined(r[e])&&(a[e]=r[e])}),e.$watch(function(){return t.path()},function(e,t){var i=n[0].querySelectorAll("li["+a.routeAttr+"]");angular.forEach(i,function(t){var n=angular.element(t),i=n.attr(a.routeAttr).replace("/","\\/");a.strict&&(i="^"+i+"$");var r=new RegExp(i,"i");r.test(e)?n.addClass(a.activeClass):n.removeClass(a.activeClass)})})}}}]),angular.module("mgcrea.ngStrap.dropdown",["mgcrea.ngStrap.tooltip"]).provider("$dropdown",function(){var e=this.defaults={animation:"am-fade",prefixClass:"dropdown",prefixEvent:"dropdown",placement:"bottom-left",templateUrl:"dropdown/dropdown.tpl.html",trigger:"click",container:!1,keyboard:!0,html:!1,delay:0};this.$get=["$window","$rootScope","$tooltip","$timeout",function(t,n,i,r){function o(t,o){function l(e){return e.target!==t[0]?e.target!==t[0]&&u.hide():void 0}var u={},c=angular.extend({},e,o);u.$scope=c.scope&&c.scope.$new()||n.$new(),u=i(t,c);var h=t.parent();u.$onKeyDown=function(e){if(/(38|40)/.test(e.keyCode)){e.preventDefault(),e.stopPropagation();var t=angular.element(u.$element[0].querySelectorAll("li:not(.divider) a"));if(t.length){var n;angular.forEach(t,function(e,t){s&&s.call(e,":focus")&&(n=t)}),38===e.keyCode&&n>0?n--:40===e.keyCode&&n<t.length-1?n++:angular.isUndefined(n)&&(n=0),t.eq(n)[0].focus()}}};var d=u.show;u.show=function(){d(),r(function(){c.keyboard&&u.$element&&u.$element.on("keydown",u.$onKeyDown),a.on("click",l)},0,!1),h.hasClass("dropdown")&&h.addClass("open")};var f=u.hide;u.hide=function(){u.$isShown&&(c.keyboard&&u.$element&&u.$element.off("keydown",u.$onKeyDown),a.off("click",l),h.hasClass("dropdown")&&h.removeClass("open"),f())};var p=u.destroy;return u.destroy=function(){a.off("click",l),p()},u}var a=angular.element(t.document.body),s=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector;return o}]}).directive("bsDropdown",["$window","$sce","$dropdown",function(e,t,i){return{restrict:"EAC",scope:!0,compile:function(e,t){if(!t.bsDropdown){for(var r=e[0].nextSibling;r&&1!==r.nodeType;)r=r.nextSibling;r&&r.className.split(" ").indexOf("dropdown-menu")>=0&&(t.template=r.outerHTML,t.templateUrl=n,r.parentNode.removeChild(r))}return function(e,n,r){var o={scope:e};angular.forEach(["template","templateUrl","controller","controllerAs","placement","container","delay","trigger","keyboard","html","animation","id","autoClose"],function(e){angular.isDefined(t[e])&&(o[e]=t[e])});var a=/^(false|0|)$/i;angular.forEach(["html","container"],function(e){angular.isDefined(r[e])&&a.test(r[e])&&(o[e]=!1)}),r.bsDropdown&&e.$watch(r.bsDropdown,function(t,n){e.content=t},!0);var s=i(n,o);r.bsShow&&e.$watch(r.bsShow,function(e,t){s&&angular.isDefined(e)&&(angular.isString(e)&&(e=!!e.match(/true|,?(dropdown),?/i)),e===!0?s.show():s.hide())}),e.$on("$destroy",function(){s&&s.destroy(),o=null,s=null})}}}}]),angular.module("mgcrea.ngStrap.modal",["mgcrea.ngStrap.core","mgcrea.ngStrap.helpers.dimensions"]).provider("$modal",function(){var e=this.defaults={animation:"am-fade",backdropAnimation:"am-fade",customClass:"",prefixClass:"modal",prefixEvent:"modal",placement:"top",templateUrl:"modal/modal.tpl.html",template:"",contentTemplate:!1,container:!1,element:null,backdrop:!0,keyboard:!0,html:!1,show:!0,size:null};this.$get=["$window","$rootScope","$bsCompiler","$animate","$timeout","$sce","dimensions",function(n,i,r,o,a,s,l){function u(t){function n(){S.$emit(_.prefixEvent+".show",T)}function a(){S.$emit(_.prefixEvent+".hide",T),p.removeClass(_.prefixClass+"-open"),_.animation&&p.removeClass(_.prefixClass+"-with-"+_.animation)}function l(){_.backdrop&&(D.on("click",x),E.on("click",x),E.on("wheel",$))}function u(){_.backdrop&&(D.off("click",x),E.off("click",x),E.off("wheel",$))}function b(){_.keyboard&&D.on("keyup",T.$onKeyUp)}function w(){_.keyboard&&D.off("keyup",T.$onKeyUp)}function x(e){e.target===e.currentTarget&&("static"===_.backdrop?T.focus():T.hide())}function $(e){e.preventDefault()}function C(){T.$isShown&&null!==D&&(u(),w()),I&&(I.$destroy(),I=null),D&&(D.remove(),D=T.$element=null)}var T={},_=T.$options=angular.extend({},e,t),k=T.$promise=r.compile(_),S=T.$scope=_.scope&&_.scope.$new()||i.$new();_.element||_.container||(_.container="body"),T.$id=_.id||_.element&&_.element.attr("id")||"",d(["title","content"],function(e){_[e]&&(S[e]=s.trustAsHtml(_[e]))}),S.$hide=function(){S.$$postDigest(function(){T.hide()})},S.$show=function(){S.$$postDigest(function(){T.show()})},S.$toggle=function(){S.$$postDigest(function(){T.toggle()})},T.$isShown=S.$isShown=!1;var M,D,I,E=angular.element('<div class="'+_.prefixClass+'-backdrop"/>');return E.css({position:"fixed",top:"0px",left:"0px",bottom:"0px",right:"0px"}),k.then(function(e){M=e,T.init()}),T.init=function(){_.show&&S.$$postDigest(function(){T.show()})},T.destroy=function(){C(),E&&(E.remove(),E=null),S.$destroy()},T.show=function(){if(!T.$isShown){var e,t;if(angular.isElement(_.container)?(e=_.container,t=_.container[0].lastChild?angular.element(_.container[0].lastChild):null):_.container?(e=h(_.container),t=e[0]&&e[0].lastChild?angular.element(e[0].lastChild):null):(e=null,t=_.element),D&&C(),I=T.$scope.$new(),D=T.$element=M.link(I,function(e,t){}),_.backdrop&&(D.css({"z-index":g+20*m}),E.css({"z-index":v+20*m}),m++),!S.$emit(_.prefixEvent+".show.before",T).defaultPrevented){D.css({display:"block"}).addClass(_.placement),_.customClass&&D.addClass(_.customClass),_.size&&y[_.size]&&angular.element(h(".modal-dialog",D[0])).addClass(y[_.size]),_.animation&&(_.backdrop&&E.addClass(_.backdropAnimation),D.addClass(_.animation)),_.backdrop&&o.enter(E,p,null),angular.version.minor<=2?o.enter(D,e,t,n):o.enter(D,e,t).then(n),T.$isShown=S.$isShown=!0,c(S);var i=D[0];f(function(){i.focus()}),p.addClass(_.prefixClass+"-open"),_.animation&&p.addClass(_.prefixClass+"-with-"+_.animation),l(),b()}}},T.hide=function(){T.$isShown&&(_.backdrop&&m--,S.$emit(_.prefixEvent+".hide.before",T).defaultPrevented||(angular.version.minor<=2?o.leave(D,a):o.leave(D).then(a),_.backdrop&&o.leave(E),T.$isShown=S.$isShown=!1,c(S),u(),w()))},T.toggle=function(){T.$isShown?T.hide():T.show()},T.focus=function(){D[0].focus()},T.$onKeyUp=function(e){27===e.which&&T.$isShown&&(T.hide(),e.stopPropagation())},T}function c(e){e.$$phase||e.$root&&e.$root.$$phase||e.$digest()}function h(e,n){return angular.element((n||t).querySelectorAll(e))}var d=angular.forEach,f=n.requestAnimationFrame||n.setTimeout,p=angular.element(n.document.body),m=0,g=1050,v=1040,y={lg:"modal-lg",sm:"modal-sm"};return u}]}).directive("bsModal",["$window","$sce","$modal",function(e,t,n){return{restrict:"EAC",scope:!0,link:function(e,i,r,o){var a={scope:e,element:i,show:!1};angular.forEach(["template","templateUrl","controller","controllerAs","contentTemplate","placement","backdrop","keyboard","html","container","animation","backdropAnimation","id","prefixEvent","prefixClass","customClass","modalClass","size"],function(e){angular.isDefined(r[e])&&(a[e]=r[e])}),a.modalClass&&(a.customClass=a.modalClass);var s=/^(false|0|)$/i;angular.forEach(["backdrop","keyboard","html","container"],function(e){angular.isDefined(r[e])&&s.test(r[e])&&(a[e]=!1)}),angular.forEach(["title","content"],function(n){r[n]&&r.$observe(n,function(i,r){e[n]=t.trustAsHtml(i)})}),r.bsModal&&e.$watch(r.bsModal,function(t,n){angular.isObject(t)?angular.extend(e,t):e.content=t},!0);var l=n(a);i.on(r.trigger||"click",l.toggle),e.$on("$destroy",function(){l&&l.destroy(),a=null,l=null})}}}]),angular.version.minor<3&&angular.version.dot<14&&angular.module("ng").factory("$$rAF",["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame,i=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,r=!!n,o=r?function(e){var t=n(e);return function(){i(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return o.supported=r,o}]),angular.module("mgcrea.ngStrap.helpers.parseOptions",[]).provider("$parseOptions",function(){var e=this.defaults={regexp:/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/};this.$get=["$parse","$q",function(t,n){function i(i,r){function o(e,t){return e.map(function(e,n){var i,r,o={};return o[c]=e,i=u(t,o),r=f(t,o),{label:i,value:r,index:n}})}var a={},s=angular.extend({},e,r);a.$values=[];var l,u,c,h,d,f,p;return a.init=function(){a.$match=l=i.match(s.regexp),u=t(l[2]||l[1]),c=l[4]||l[6],h=l[5],d=t(l[3]||""),f=t(l[2]?l[1]:c),p=t(l[7])},a.valuesFn=function(e,t){return n.when(p(e,t)).then(function(t){return angular.isArray(t)||(t=[]),a.$values=t.length?o(t,e):[],a.$values})},a.displayValue=function(e){var t={};return t[c]=e,u(t)},a.init(),a}return i}]}),angular.module("mgcrea.ngStrap.helpers.dimensions",[]).factory("dimensions",function(){function t(e){var t=e.ownerDocument,r=e.offsetParent||t;if(i(r,"#document"))return t.documentElement;for(;r&&!i(r,"html")&&"static"===n.css(r,"position");)r=r.offsetParent;return r||t.documentElement}var n={},i=n.nodeName=function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()};return n.css=function(t,n,i){var r;return r=t.currentStyle?t.currentStyle[n]:e.getComputedStyle?e.getComputedStyle(t)[n]:t.style[n],i===!0?parseFloat(r)||0:r},n.offset=function(t){var n=t.getBoundingClientRect(),i=t.ownerDocument;return{width:n.width||t.offsetWidth,height:n.height||t.offsetHeight,top:n.top+(e.pageYOffset||i.documentElement.scrollTop)-(i.documentElement.clientTop||0),left:n.left+(e.pageXOffset||i.documentElement.scrollLeft)-(i.documentElement.clientLeft||0)}},n.setOffset=function(e,t,i){var r,o,a,s,l,u,c,h=n.css(e,"position"),d=angular.element(e),f={};"static"===h&&(e.style.position="relative"),l=n.offset(e),a=n.css(e,"top"),u=n.css(e,"left"),c=("absolute"===h||"fixed"===h)&&(a+u).indexOf("auto")>-1,c?(r=n.position(e),s=r.top,o=r.left):(s=parseFloat(a)||0,o=parseFloat(u)||0),angular.isFunction(t)&&(t=t.call(e,i,l)),null!==t.top&&(f.top=t.top-l.top+s),null!==t.left&&(f.left=t.left-l.left+o),"using"in t?t.using.call(d,f):d.css({top:f.top+"px",left:f.left+"px"})},n.position=function(e){var r,o,a={top:0,left:0};return"fixed"===n.css(e,"position")?o=e.getBoundingClientRect():(r=t(e),o=n.offset(e),i(r,"html")||(a=n.offset(r)),a.top+=n.css(r,"borderTopWidth",!0),a.left+=n.css(r,"borderLeftWidth",!0)),{width:e.offsetWidth,height:e.offsetHeight,top:o.top-a.top-n.css(e,"marginTop",!0),left:o.left-a.left-n.css(e,"marginLeft",!0)}},n.height=function(e,t){var i=e.offsetHeight;return t?i+=n.css(e,"marginTop",!0)+n.css(e,"marginBottom",!0):i-=n.css(e,"paddingTop",!0)+n.css(e,"paddingBottom",!0)+n.css(e,"borderTopWidth",!0)+n.css(e,"borderBottomWidth",!0),i},n.width=function(e,t){var i=e.offsetWidth;return t?i+=n.css(e,"marginLeft",!0)+n.css(e,"marginRight",!0):i-=n.css(e,"paddingLeft",!0)+n.css(e,"paddingRight",!0)+n.css(e,"borderLeftWidth",!0)+n.css(e,"borderRightWidth",!0),i},n}),angular.module("mgcrea.ngStrap.helpers.debounce",[]).factory("debounce",["$timeout",function(e){return function(t,n,i){var r=null;return function(){var o=this,a=arguments,s=i&&!r;return r&&e.cancel(r),r=e(function(){r=null,i||t.apply(o,a)},n,!1),s&&t.apply(o,a),r}}}]).factory("throttle",["$timeout",function(e){return function(t,n,i){var r=null;return i||(i={}),function(){var o=this,a=arguments;r||(i.leading!==!1&&t.apply(o,a),r=e(function(){r=null,i.trailing!==!1&&t.apply(o,a)},n,!1))}}}]),angular.module("mgcrea.ngStrap.helpers.dateParser",[]).provider("$dateParser",["$localeProvider",function(e){function t(){this.year=1970,this.month=0,this.day=1,this.hours=0,
this.minutes=0,this.seconds=0,this.milliseconds=0}function n(){}function i(e){return!isNaN(parseFloat(e))&&isFinite(e)}function r(e,t){for(var n=e.length,i=t.toString().toLowerCase(),r=0;n>r;r++)if(e[r].toLowerCase()===i)return r;return-1}t.prototype.setMilliseconds=function(e){this.milliseconds=e},t.prototype.setSeconds=function(e){this.seconds=e},t.prototype.setMinutes=function(e){this.minutes=e},t.prototype.setHours=function(e){this.hours=e},t.prototype.getHours=function(){return this.hours},t.prototype.setDate=function(e){this.day=e},t.prototype.setMonth=function(e){this.month=e},t.prototype.setFullYear=function(e){this.year=e},t.prototype.fromDate=function(e){return this.year=e.getFullYear(),this.month=e.getMonth(),this.day=e.getDate(),this.hours=e.getHours(),this.minutes=e.getMinutes(),this.seconds=e.getSeconds(),this.milliseconds=e.getMilliseconds(),this},t.prototype.toDate=function(){return new Date(this.year,this.month,this.day,this.hours,this.minutes,this.seconds,this.milliseconds)};var o=t.prototype,a=this.defaults={format:"shortDate",strict:!1};this.$get=["$locale","dateFilter",function(e,s){var l=function(l){function u(e){var t=c(e);return p(t)}function c(e){var t=h(e),n=t.replace(/''/g,"\\'"),i=/('(?:\\'|.)*?')/,r=n.split(i),o=Object.keys(x),a=[];return angular.forEach(r,function(e){if(d(e))e=f(e);else for(var t=0;t<o.length;t++)e=e.split(o[t]).join("${"+t+"}");a.push(e)}),a.join("")}function h(e){return e.replace(/\\/g,"[\\\\]").replace(/-/g,"[-]").replace(/\./g,"[.]").replace(/\*/g,"[*]").replace(/\+/g,"[+]").replace(/\?/g,"[?]").replace(/\$/g,"[$]").replace(/\^/g,"[^]").replace(/\//g,"[/]").replace(/\\s/g,"[\\s]")}function d(e){return/^'.*'$/.test(e)}function f(e){return e.replace(/^'(.*)'$/,"$1")}function p(e){for(var t=Object.keys(x),n=e,i=0;i<t.length;i++)n=n.split("${"+i+"}").join("("+x[t[i]]+")");return new RegExp("^"+n+"$",["i"])}function m(e){var t=c(e);return g(t)}function g(e){for(var t,n,i,r,o=Object.keys(x),a=new RegExp("\\${(\\d+)}","g"),s=[];null!==(t=a.exec(e));)n=t[1],i=o[n],r=$[i],s.push(r);return s}var v,y,b=angular.extend({},a,l),w={},x={sss:"[0-9]{3}",ss:"[0-5][0-9]",s:b.strict?"[1-5]?[0-9]":"[0-9]|[0-5][0-9]",mm:"[0-5][0-9]",m:b.strict?"[1-5]?[0-9]":"[0-9]|[0-5][0-9]",HH:"[01][0-9]|2[0-3]",H:b.strict?"1?[0-9]|2[0-3]":"[01]?[0-9]|2[0-3]",hh:"[0][1-9]|[1][012]",h:b.strict?"[1-9]|1[012]":"0?[1-9]|1[012]",a:"AM|PM",EEEE:e.DATETIME_FORMATS.DAY.join("|"),EEE:e.DATETIME_FORMATS.SHORTDAY.join("|"),dd:"0[1-9]|[12][0-9]|3[01]",d:b.strict?"[1-9]|[1-2][0-9]|3[01]":"0?[1-9]|[1-2][0-9]|3[01]",MMMM:e.DATETIME_FORMATS.MONTH.join("|"),MMM:e.DATETIME_FORMATS.SHORTMONTH.join("|"),MM:"0[1-9]|1[012]",M:b.strict?"[1-9]|1[012]":"0?[1-9]|1[012]",yyyy:"[1]{1}[0-9]{3}|[2]{1}[0-9]{3}",yy:"[0-9]{2}",y:b.strict?"-?(0|[1-9][0-9]{0,3})":"-?0*[0-9]{1,4}"},$={sss:o.setMilliseconds,ss:o.setSeconds,s:o.setSeconds,mm:o.setMinutes,m:o.setMinutes,HH:o.setHours,H:o.setHours,hh:o.setHours,h:o.setHours,EEEE:n,EEE:n,dd:o.setDate,d:o.setDate,a:function(e){var t=this.getHours()%12;return this.setHours(e.match(/pm/i)?t+12:t)},MMMM:function(t){return this.setMonth(r(e.DATETIME_FORMATS.MONTH,t))},MMM:function(t){return this.setMonth(r(e.DATETIME_FORMATS.SHORTMONTH,t))},MM:function(e){return this.setMonth(1*e-1)},M:function(e){return this.setMonth(1*e-1)},yyyy:o.setFullYear,yy:function(e){return this.setFullYear(2e3+1*e)},y:function(e){return 50>=1*e&&2===e.length?this.setFullYear(2e3+1*e):this.setFullYear(1*e)}};return w.init=function(){w.$format=e.DATETIME_FORMATS[b.format]||b.format,v=u(w.$format),y=m(w.$format)},w.isValid=function(e){return angular.isDate(e)?!isNaN(e.getTime()):v.test(e)},w.parse=function(n,i,r,o){r&&(r=e.DATETIME_FORMATS[r]||r),angular.isDate(n)&&(n=s(n,r||w.$format,o));var a=r?u(r):v,l=r?m(r):y,c=a.exec(n);if(!c)return!1;for(var h=i&&!isNaN(i.getTime())?(new t).fromDate(i):(new t).fromDate(new Date(1970,0,1,0)),d=0;d<c.length-1;d++)l[d]&&l[d].call(h,c[d+1]);var f=h.toDate();return parseInt(h.day,10)!==f.getDate()?!1:f},w.getDateForAttribute=function(e,t){var n;if("today"===t){var r=new Date;n=new Date(r.getFullYear(),r.getMonth(),r.getDate()+("maxDate"===e?1:0),0,0,0,"minDate"===e?0:-1)}else n=angular.isString(t)&&t.match(/^".+"$/)?new Date(t.substr(1,t.length-2)):i(t)?new Date(parseInt(t,10)):angular.isString(t)&&0===t.length?"minDate"===e?-(1/0):+(1/0):new Date(t);return n},w.getTimeForAttribute=function(e,t){var n;return n="now"===t?(new Date).setFullYear(1970,0,1):angular.isString(t)&&t.match(/^".+"$/)?new Date(t.substr(1,t.length-2)).setFullYear(1970,0,1):i(t)?new Date(parseInt(t,10)).setFullYear(1970,0,1):angular.isString(t)&&0===t.length?"minTime"===e?-(1/0):+(1/0):w.parse(t,new Date(1970,0,1,0))},w.daylightSavingAdjust=function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},w.timezoneOffsetAdjust=function(e,t,n){return e?(t&&"UTC"===t&&(e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+(n?-1:1)*e.getTimezoneOffset())),e):null},w.init(),w};return l}]}]),angular.module("mgcrea.ngStrap.helpers.dateFormatter",[]).service("$dateFormatter",["$locale","dateFilter",function(e,t){function n(e){return/(h+)([:\.])?(m+)([:\.])?(s*)[ ]?(a?)/i.exec(e).slice(1)}this.getDefaultLocale=function(){return e.id},this.getDatetimeFormat=function(t,n){return e.DATETIME_FORMATS[t]||t},this.weekdaysShort=function(t){return e.DATETIME_FORMATS.SHORTDAY},this.hoursFormat=function(e){return n(e)[0]},this.minutesFormat=function(e){return n(e)[2]},this.secondsFormat=function(e){return n(e)[4]},this.timeSeparator=function(e){return n(e)[1]},this.showSeconds=function(e){return!!n(e)[4]},this.showAM=function(e){return!!n(e)[5]},this.formatDate=function(e,n,i,r){return t(e,n,r)}}]),angular.module("mgcrea.ngStrap.core",[]).service("$bsCompiler",i),angular.module("mgcrea.ngStrap.datepicker",["mgcrea.ngStrap.helpers.dateParser","mgcrea.ngStrap.helpers.dateFormatter","mgcrea.ngStrap.tooltip"]).provider("$datepicker",function(){var e=this.defaults={animation:"am-fade",prefixClass:"datepicker",placement:"bottom-left",templateUrl:"datepicker/datepicker.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,useNative:!1,dateType:"date",dateFormat:"shortDate",timezone:null,modelDateFormat:null,dayFormat:"dd",monthFormat:"MMM",yearFormat:"yyyy",monthTitleFormat:"MMMM yyyy",yearTitleFormat:"yyyy",strictFormat:!1,autoclose:!1,minDate:-(1/0),maxDate:+(1/0),startView:0,minView:0,startWeek:0,daysOfWeekDisabled:"",iconLeft:"glyphicon glyphicon-chevron-left",iconRight:"glyphicon glyphicon-chevron-right"};this.$get=["$window","$document","$rootScope","$sce","$dateFormatter","datepickerViews","$tooltip","$timeout",function(t,n,i,r,o,a,s,l){function u(t,n,i){function r(e){e.selected=u.$isSelected(e.date)}function o(){t[0].focus()}var u=s(t,angular.extend({},e,i)),d=i.scope,f=u.$options,p=u.$scope;f.startView&&(f.startView-=f.minView);var m=a(u);u.$views=m.views;var g=m.viewDate;p.$mode=f.startView,p.$iconLeft=f.iconLeft,p.$iconRight=f.iconRight;var v=u.$views[p.$mode];p.$select=function(e){u.select(e)},p.$selectPane=function(e){u.$selectPane(e)},p.$toggleMode=function(){u.setMode((p.$mode+1)%u.$views.length)},u.update=function(e){angular.isDate(e)&&!isNaN(e.getTime())&&(u.$date=e,v.update.call(v,e)),u.$build(!0)},u.updateDisabledDates=function(e){f.disabledDateRanges=e;for(var t=0,n=p.rows.length;n>t;t++)angular.forEach(p.rows[t],u.$setDisabledEl)},u.select=function(e,t){angular.isDate(n.$dateValue)||(n.$dateValue=new Date(e)),!p.$mode||t?(n.$setViewValue(angular.copy(e)),n.$render(),f.autoclose&&!t&&l(function(){u.hide(!0)})):(angular.extend(g,{year:e.getFullYear(),month:e.getMonth(),date:e.getDate()}),u.setMode(p.$mode-1),u.$build())},u.setMode=function(e){p.$mode=e,v=u.$views[p.$mode],u.$build()},u.$build=function(e){e===!0&&v.built||(e!==!1||v.built)&&v.build.call(v)},u.$updateSelected=function(){for(var e=0,t=p.rows.length;t>e;e++)angular.forEach(p.rows[e],r)},u.$isSelected=function(e){return v.isSelected(e)},u.$setDisabledEl=function(e){e.disabled=v.isDisabled(e.date)},u.$selectPane=function(e){var t=v.steps,n=new Date(Date.UTC(g.year+(t.year||0)*e,g.month+(t.month||0)*e,1));angular.extend(g,{year:n.getUTCFullYear(),month:n.getUTCMonth(),date:n.getUTCDate()}),u.$build()},u.$onMouseDown=function(e){if(e.preventDefault(),e.stopPropagation(),h){var t=angular.element(e.target);"button"!==t[0].nodeName.toLowerCase()&&(t=t.parent()),t.triggerHandler("click")}},u.$onKeyDown=function(e){if(/(38|37|39|40|13)/.test(e.keyCode)&&!e.shiftKey&&!e.altKey){if(e.preventDefault(),e.stopPropagation(),13===e.keyCode)return void(p.$mode?p.$apply(function(){u.setMode(p.$mode-1)}):u.hide(!0));v.onKeyDown(e),d.$digest()}};var y=u.init;u.init=function(){return c&&f.useNative?(t.prop("type","date"),void t.css("-webkit-appearance","textfield")):(h&&(t.prop("type","text"),t.attr("readonly","true"),t.on("click",o)),void y())};var b=u.destroy;u.destroy=function(){c&&f.useNative&&t.off("click",o),b()};var w=u.show;u.show=function(){!h&&t.attr("readonly")||t.attr("disabled")||(w(),l(function(){u.$isShown&&(u.$element.on(h?"touchstart":"mousedown",u.$onMouseDown),f.keyboard&&t.on("keydown",u.$onKeyDown))},0,!1))};var x=u.hide;return u.hide=function(e){u.$isShown&&(u.$element.off(h?"touchstart":"mousedown",u.$onMouseDown),f.keyboard&&t.off("keydown",u.$onKeyDown),x(e))},u}var c=/(ip[ao]d|iphone|android)/gi.test(t.navigator.userAgent),h="createTouch"in t.document&&c;return e.lang||(e.lang=o.getDefaultLocale()),u.defaults=e,u}]}).directive("bsDatepicker",["$window","$parse","$q","$dateFormatter","$dateParser","$datepicker",function(e,t,n,i,r,o){var a=/(ip[ao]d|iphone|android)/gi.test(e.navigator.userAgent);return{restrict:"EAC",require:"ngModel",link:function(e,t,n,s){function l(e){return e&&e.length?e:null}function u(e){if(angular.isDate(e)){var t=isNaN(f.$options.minDate)||e.getTime()>=f.$options.minDate,n=isNaN(f.$options.maxDate)||e.getTime()<=f.$options.maxDate,i=t&&n;s.$setValidity("date",i),s.$setValidity("min",t),s.$setValidity("max",n),i&&(s.$dateValue=e)}}function c(){return!s.$dateValue||isNaN(s.$dateValue.getTime())?"":m(s.$dateValue,h.dateFormat)}var h={scope:e};angular.forEach(["template","templateUrl","controller","controllerAs","placement","container","delay","trigger","html","animation","autoclose","dateType","dateFormat","timezone","modelDateFormat","dayFormat","strictFormat","startWeek","startDate","useNative","lang","startView","minView","iconLeft","iconRight","daysOfWeekDisabled","id","prefixClass","prefixEvent"],function(e){angular.isDefined(n[e])&&(h[e]=n[e])});var d=/^(false|0|)$/i;angular.forEach(["html","container","autoclose","useNative"],function(e){angular.isDefined(n[e])&&d.test(n[e])&&(h[e]=!1)});var f=o(t,s,h);h=f.$options,a&&h.useNative&&(h.dateFormat="yyyy-MM-dd");var p=h.lang,m=function(e,t){return i.formatDate(e,t,p)},g=r({format:h.dateFormat,lang:p,strict:h.strictFormat});n.bsShow&&e.$watch(n.bsShow,function(e,t){f&&angular.isDefined(e)&&(angular.isString(e)&&(e=!!e.match(/true|,?(datepicker),?/i)),e===!0?f.show():f.hide())}),angular.forEach(["minDate","maxDate"],function(e){angular.isDefined(n[e])&&n.$observe(e,function(t){f.$options[e]=g.getDateForAttribute(e,t),isNaN(f.$options[e])||f.$build(!1),u(s.$dateValue)})}),angular.isDefined(n.dateFormat)&&n.$observe("dateFormat",function(e){f.$options.dateFormat=e}),e.$watch(n.ngModel,function(e,t){f.update(s.$dateValue)},!0),angular.isDefined(n.disabledDates)&&e.$watch(n.disabledDates,function(e,t){e=l(e),t=l(t),e&&f.updateDisabledDates(e)}),s.$parsers.unshift(function(e){var t;if(!e)return s.$setValidity("date",!0),null;var n=g.parse(e,s.$dateValue);return!n||isNaN(n.getTime())?void s.$setValidity("date",!1):(u(n),"string"===h.dateType?(t=g.timezoneOffsetAdjust(n,h.timezone,!0),m(t,h.modelDateFormat||h.dateFormat)):(t=g.timezoneOffsetAdjust(s.$dateValue,h.timezone,!0),"number"===h.dateType?t.getTime():"unix"===h.dateType?t.getTime()/1e3:"iso"===h.dateType?t.toISOString():new Date(t)))}),s.$formatters.push(function(e){var t;return t=angular.isUndefined(e)||null===e?NaN:angular.isDate(e)?e:"string"===h.dateType?g.parse(e,null,h.modelDateFormat):"unix"===h.dateType?new Date(1e3*e):new Date(e),s.$dateValue=g.timezoneOffsetAdjust(t,h.timezone),c()}),s.$render=function(){t.val(c())},e.$on("$destroy",function(){f&&f.destroy(),h=null,f=null})}}}]).provider("datepickerViews",function(){function e(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n}function t(e,t){return(e%t+t)%t}this.$get=["$dateFormatter","$dateParser","$sce",function(n,i,r){return function(o){var a=o.$scope,s=o.$options,l=s.lang,u=function(e,t){return n.formatDate(e,t,l)},c=i({format:s.dateFormat,lang:l,strict:s.strictFormat}),h=n.weekdaysShort(l),d=h.slice(s.startWeek).concat(h.slice(0,s.startWeek)),f=r.trustAsHtml('<th class="dow text-center">'+d.join('</th><th class="dow text-center">')+"</th>"),p=o.$date||(s.startDate?c.getDateForAttribute("startDate",s.startDate):new Date),m={year:p.getFullYear(),month:p.getMonth(),date:p.getDate()},g=[{format:s.dayFormat,split:7,steps:{month:1},update:function(e,t){!this.built||t||e.getFullYear()!==m.year||e.getMonth()!==m.month?(angular.extend(m,{year:o.$date.getFullYear(),month:o.$date.getMonth(),date:o.$date.getDate()}),o.$build()):e.getDate()===m.date&&1!==e.getDate()||(m.date=o.$date.getDate(),o.$updateSelected())},build:function(){var n=new Date(m.year,m.month,1),i=n.getTimezoneOffset(),r=new Date(+n-864e5*t(n.getDay()-s.startWeek,7)),l=r.getTimezoneOffset(),h=c.timezoneOffsetAdjust(new Date,s.timezone).toDateString();l!==i&&(r=new Date(+r+6e4*(l-i)));for(var d,p=[],g=0;42>g;g++)d=c.daylightSavingAdjust(new Date(r.getFullYear(),r.getMonth(),r.getDate()+g)),p.push({date:d,isToday:d.toDateString()===h,label:u(d,this.format),selected:o.$date&&this.isSelected(d),muted:d.getMonth()!==m.month,disabled:this.isDisabled(d)});a.title=u(n,s.monthTitleFormat),a.showLabels=!0,a.labels=f,a.rows=e(p,this.split),this.built=!0},isSelected:function(e){return o.$date&&e.getFullYear()===o.$date.getFullYear()&&e.getMonth()===o.$date.getMonth()&&e.getDate()===o.$date.getDate()},isDisabled:function(e){var t=e.getTime();if(t<s.minDate||t>s.maxDate)return!0;if(-1!==s.daysOfWeekDisabled.indexOf(e.getDay()))return!0;if(s.disabledDateRanges)for(var n=0;n<s.disabledDateRanges.length;n++)if(t>=s.disabledDateRanges[n].start&&t<=s.disabledDateRanges[n].end)return!0;return!1},onKeyDown:function(e){if(o.$date){var t,n=o.$date.getTime();37===e.keyCode?t=new Date(n-864e5):38===e.keyCode?t=new Date(n-6048e5):39===e.keyCode?t=new Date(n+864e5):40===e.keyCode&&(t=new Date(n+6048e5)),this.isDisabled(t)||o.select(t,!0)}}},{name:"month",format:s.monthFormat,split:4,steps:{year:1},update:function(e,t){this.built&&e.getFullYear()===m.year?e.getMonth()!==m.month&&(angular.extend(m,{month:o.$date.getMonth(),date:o.$date.getDate()}),o.$updateSelected()):(angular.extend(m,{year:o.$date.getFullYear(),month:o.$date.getMonth(),date:o.$date.getDate()}),o.$build())},build:function(){for(var t,n=[],i=0;12>i;i++)t=new Date(m.year,i,1),n.push({date:t,label:u(t,this.format),selected:o.$isSelected(t),disabled:this.isDisabled(t)});a.title=u(t,s.yearTitleFormat),a.showLabels=!1,a.rows=e(n,this.split),this.built=!0},isSelected:function(e){return o.$date&&e.getFullYear()===o.$date.getFullYear()&&e.getMonth()===o.$date.getMonth()},isDisabled:function(e){var t=+new Date(e.getFullYear(),e.getMonth()+1,0);return t<s.minDate||e.getTime()>s.maxDate},onKeyDown:function(e){if(o.$date){var t=o.$date.getMonth(),n=new Date(o.$date);37===e.keyCode?n.setMonth(t-1):38===e.keyCode?n.setMonth(t-4):39===e.keyCode?n.setMonth(t+1):40===e.keyCode&&n.setMonth(t+4),this.isDisabled(n)||o.select(n,!0)}}},{name:"year",format:s.yearFormat,split:4,steps:{year:12},update:function(e,t){!this.built||t||parseInt(e.getFullYear()/20,10)!==parseInt(m.year/20,10)?(angular.extend(m,{year:o.$date.getFullYear(),month:o.$date.getMonth(),date:o.$date.getDate()}),o.$build()):e.getFullYear()!==m.year&&(angular.extend(m,{year:o.$date.getFullYear(),month:o.$date.getMonth(),date:o.$date.getDate()}),o.$updateSelected())},build:function(){for(var t,n=m.year-m.year%(3*this.split),i=[],r=0;12>r;r++)t=new Date(n+r,0,1),i.push({date:t,label:u(t,this.format),selected:o.$isSelected(t),disabled:this.isDisabled(t)});a.title=i[0].label+"-"+i[i.length-1].label,a.showLabels=!1,a.rows=e(i,this.split),this.built=!0},isSelected:function(e){return o.$date&&e.getFullYear()===o.$date.getFullYear()},isDisabled:function(e){var t=+new Date(e.getFullYear()+1,0,0);return t<s.minDate||e.getTime()>s.maxDate},onKeyDown:function(e){if(o.$date){var t=o.$date.getFullYear(),n=new Date(o.$date);37===e.keyCode?n.setYear(t-1):38===e.keyCode?n.setYear(t-4):39===e.keyCode?n.setYear(t+1):40===e.keyCode&&n.setYear(t+4),this.isDisabled(n)||o.select(n,!0)}}}];return{views:s.minView?Array.prototype.slice.call(g,s.minView):g,viewDate:m}}}]}),angular.module("mgcrea.ngStrap.collapse",[]).provider("$collapse",function(){var e=this.defaults={animation:"am-collapse",disallowToggle:!1,activeClass:"in",startCollapsed:!1,allowMultiple:!1},t=this.controller=function(t,n,i){function r(e){for(var t=l.$targets.$active,n=0;n<t.length;n++)e<t[n]&&(t[n]=t[n]-1),t[n]===l.$targets.length&&(t[n]=l.$targets.length-1)}function o(e){var t=l.$targets.$active;return-1!==t.indexOf(e)}function a(e){var t=l.$targets.$active.indexOf(e);-1!==t&&l.$targets.$active.splice(t,1)}function s(e){l.$options.allowMultiple||l.$targets.$active.splice(0,1),-1===l.$targets.$active.indexOf(e)&&l.$targets.$active.push(e)}var l=this;l.$options=angular.copy(e),angular.forEach(["animation","disallowToggle","activeClass","startCollapsed","allowMultiple"],function(e){angular.isDefined(i[e])&&(l.$options[e]=i[e])});var u=/^(false|0|)$/i;angular.forEach(["disallowToggle","startCollapsed","allowMultiple"],function(e){angular.isDefined(i[e])&&u.test(i[e])&&(l.$options[e]=!1)}),l.$toggles=[],l.$targets=[],l.$viewChangeListeners=[],l.$registerToggle=function(e){l.$toggles.push(e)},l.$registerTarget=function(e){l.$targets.push(e)},l.$unregisterToggle=function(e){var t=l.$toggles.indexOf(e);l.$toggles.splice(t,1)},l.$unregisterTarget=function(e){var t=l.$targets.indexOf(e);l.$targets.splice(t,1),l.$options.allowMultiple&&a(e),r(t),l.$viewChangeListeners.forEach(function(e){e()})},l.$targets.$active=l.$options.startCollapsed?[]:[0],l.$setActive=t.$setActive=function(e){angular.isArray(e)?l.$targets.$active=e:!l.$options.disallowToggle&&o(e)?a(e):s(e),l.$viewChangeListeners.forEach(function(e){e()})},l.$activeIndexes=function(){return l.$options.allowMultiple?l.$targets.$active:1===l.$targets.$active.length?l.$targets.$active[0]:-1}};this.$get=function(){var n={};return n.defaults=e,n.controller=t,n}}).directive("bsCollapse",["$window","$animate","$collapse",function(e,t,n){return{require:["?ngModel","bsCollapse"],controller:["$scope","$element","$attrs",n.controller],link:function(e,t,n,i){var r=i[0],o=i[1];r&&(o.$viewChangeListeners.push(function(){r.$setViewValue(o.$activeIndexes())}),r.$formatters.push(function(e){if(angular.isArray(e))o.$setActive(e);else{var t=o.$activeIndexes();angular.isArray(t)?-1===t.indexOf(1*e)&&o.$setActive(1*e):t!==1*e&&o.$setActive(1*e)}return e}))}}}]).directive("bsCollapseToggle",function(){return{require:["^?ngModel","^bsCollapse"],link:function(e,t,n,i){var r=i[1];t.attr("data-toggle","collapse"),r.$registerToggle(t),e.$on("$destroy",function(){r.$unregisterToggle(t)}),t.on("click",function(){if(!n.disabled){var i=n.bsCollapseToggle&&"bs-collapse-toggle"!==n.bsCollapseToggle?n.bsCollapseToggle:r.$toggles.indexOf(t);r.$setActive(1*i),e.$apply()}})}}}).directive("bsCollapseTarget",["$animate",function(e){return{require:["^?ngModel","^bsCollapse"],link:function(t,n,i,r){function o(){var t=a.$targets.indexOf(n),i=a.$activeIndexes(),r="removeClass";angular.isArray(i)?-1!==i.indexOf(t)&&(r="addClass"):t===i&&(r="addClass"),e[r](n,a.$options.activeClass)}var a=r[1];n.addClass("collapse"),a.$options.animation&&n.addClass(a.$options.animation),a.$registerTarget(n),t.$on("$destroy",function(){a.$unregisterTarget(n)}),a.$viewChangeListeners.push(function(){o()}),o()}}}]),angular.module("mgcrea.ngStrap.button",[]).provider("$button",function(){var e=this.defaults={activeClass:"active",toggleEvent:"click"};this.$get=function(){return{defaults:e}}}).directive("bsCheckboxGroup",function(){return{restrict:"A",require:"ngModel",compile:function(e,t){e.attr("data-toggle","buttons"),e.removeAttr("ng-model");var n=e[0].querySelectorAll('input[type="checkbox"]');angular.forEach(n,function(e){var n=angular.element(e);n.attr("bs-checkbox",""),n.attr("ng-model",t.ngModel+"."+n.attr("value"))})}}}).directive("bsCheckbox",["$button","$$rAF",function(e,t){var n=e.defaults,i=/^(true|false|\d+)$/;return{restrict:"A",require:"ngModel",link:function(e,r,o,a){var s=n,l="INPUT"===r[0].nodeName,u=l?r.parent():r,c=angular.isDefined(o.trueValue)?o.trueValue:!0;i.test(o.trueValue)&&(c=e.$eval(o.trueValue));var h=angular.isDefined(o.falseValue)?o.falseValue:!1;i.test(o.falseValue)&&(h=e.$eval(o.falseValue));var d="boolean"!=typeof c||"boolean"!=typeof h;d&&(a.$parsers.push(function(e){return e?c:h}),a.$formatters.push(function(e){return angular.equals(e,c)}),e.$watch(o.ngModel,function(e,t){a.$render()})),a.$render=function(){var e=angular.equals(a.$modelValue,c);t(function(){l&&(r[0].checked=e),u.toggleClass(s.activeClass,e)})},r.bind(s.toggleEvent,function(){e.$apply(function(){l||a.$setViewValue(!u.hasClass("active")),d||a.$render()})})}}}]).directive("bsRadioGroup",function(){return{restrict:"A",require:"ngModel",compile:function(e,t){e.attr("data-toggle","buttons"),e.removeAttr("ng-model");var n=e[0].querySelectorAll('input[type="radio"]');angular.forEach(n,function(e){angular.element(e).attr("bs-radio",""),angular.element(e).attr("ng-model",t.ngModel)})}}}).directive("bsRadio",["$button","$$rAF",function(e,t){var n=e.defaults,i=/^(true|false|\d+)$/;return{restrict:"A",require:"ngModel",link:function(e,r,o,a){var s,l=n,u="INPUT"===r[0].nodeName,c=u?r.parent():r;o.$observe("value",function(t){s="boolean"!=typeof t&&i.test(t)?e.$eval(t):t,a.$render()}),a.$render=function(){var e=angular.equals(a.$modelValue,s);t(function(){u&&(r[0].checked=e),c.toggleClass(l.activeClass,e)})},r.bind(l.toggleEvent,function(){e.$apply(function(){a.$setViewValue(s),a.$render()})})}}}]),angular.module("mgcrea.ngStrap.alert",["mgcrea.ngStrap.modal"]).provider("$alert",function(){var e=this.defaults={animation:"am-fade",prefixClass:"alert",prefixEvent:"alert",placement:null,templateUrl:"alert/alert.tpl.html",container:!1,element:null,backdrop:!1,keyboard:!0,show:!0,duration:!1,type:!1,dismissable:!0};this.$get=["$modal","$timeout",function(t,n){function i(i){var r={},o=angular.extend({},e,i);r=t(o),r.$scope.dismissable=!!o.dismissable,o.type&&(r.$scope.type=o.type);var a=r.show;return o.duration&&(r.show=function(){a(),n(function(){r.hide()},1e3*o.duration)}),r}return i}]}).directive("bsAlert",["$window","$sce","$alert",function(e,t,n){return{restrict:"EAC",scope:!0,link:function(e,i,r,o){var a={scope:e,element:i,show:!1};angular.forEach(["template","templateUrl","controller","controllerAs","placement","keyboard","html","container","animation","duration","dismissable"],function(e){angular.isDefined(r[e])&&(a[e]=r[e])});var s=/^(false|0|)$/i;angular.forEach(["keyboard","html","container","dismissable"],function(e){angular.isDefined(r[e])&&s.test(r[e])&&(a[e]=!1)}),e.hasOwnProperty("title")||(e.title=""),angular.forEach(["title","content","type"],function(n){r[n]&&r.$observe(n,function(i,r){e[n]=t.trustAsHtml(i)})}),r.bsAlert&&e.$watch(r.bsAlert,function(t,n){angular.isObject(t)?angular.extend(e,t):e.content=t},!0);var l=n(a);i.on(r.trigger||"click",l.toggle),e.$on("$destroy",function(){l&&l.destroy(),a=null,l=null})}}}]),angular.module("mgcrea.ngStrap.aside",["mgcrea.ngStrap.modal"]).provider("$aside",function(){var e=this.defaults={animation:"am-fade-and-slide-right",prefixClass:"aside",prefixEvent:"aside",placement:"right",templateUrl:"aside/aside.tpl.html",contentTemplate:!1,container:!1,element:null,backdrop:!0,keyboard:!0,html:!1,show:!0};this.$get=["$modal",function(t){function n(n){var i={},r=angular.extend({},e,n);return i=t(r)}return n}]}).directive("bsAside",["$window","$sce","$aside",function(e,t,n){return{restrict:"EAC",scope:!0,link:function(e,i,r,o){var a={scope:e,element:i,show:!1};angular.forEach(["template","templateUrl","controller","controllerAs","contentTemplate","placement","backdrop","keyboard","html","container","animation"],function(e){angular.isDefined(r[e])&&(a[e]=r[e])});var s=/^(false|0|)$/i;angular.forEach(["backdrop","keyboard","html","container"],function(e){angular.isDefined(r[e])&&s.test(r[e])&&(a[e]=!1)}),angular.forEach(["title","content"],function(n){r[n]&&r.$observe(n,function(i,r){e[n]=t.trustAsHtml(i)})}),r.bsAside&&e.$watch(r.bsAside,function(t,n){angular.isObject(t)?angular.extend(e,t):e.content=t},!0);var l=n(a);i.on(r.trigger||"click",l.toggle),e.$on("$destroy",function(){l&&l.destroy(),a=null,l=null})}}}]),angular.module("mgcrea.ngStrap.affix",["mgcrea.ngStrap.helpers.dimensions","mgcrea.ngStrap.helpers.debounce"]).provider("$affix",function(){var e=this.defaults={offsetTop:"auto",inlineStyles:!0};this.$get=["$window","debounce","dimensions",function(t,n,i){function r(r,s){function l(e,t,n){var i=u(),r=c();return y>=i?"top":null!==e&&i+e<=t.top?"middle":null!==b&&t.top+n+g>=r-b?"bottom":"middle"}function u(){return f[0]===t?t.pageYOffset:f[0].scrollTop}function c(){return f[0]===t?t.document.body.scrollHeight:f[0].scrollHeight}var h={},d=angular.extend({},e,s),f=d.target,p="affix affix-top affix-bottom",m=!1,g=0,v=0,y=0,b=0,w=null,x=null,$=r.parent();if(d.offsetParent)if(d.offsetParent.match(/^\d+$/))for(var C=0;C<1*d.offsetParent-1;C++)$=$.parent();else $=angular.element(d.offsetParent);return h.init=function(){this.$parseOffsets(),v=i.offset(r[0]).top+g,m=!r[0].style.width,f.on("scroll",this.checkPosition),f.on("click",this.checkPositionWithEventLoop),a.on("resize",this.$debouncedOnResize),this.checkPosition(),this.checkPositionWithEventLoop()},h.destroy=function(){f.off("scroll",this.checkPosition),f.off("click",this.checkPositionWithEventLoop),a.off("resize",this.$debouncedOnResize)},h.checkPositionWithEventLoop=function(){setTimeout(h.checkPosition,1)},h.checkPosition=function(){var e=u(),t=i.offset(r[0]),n=i.height(r[0]),a=l(x,t,n);w!==a&&(w=a,"top"===a?(x=null,m&&r.css("width",""),d.inlineStyles&&(r.css("position",d.offsetParent?"":"relative"),r.css("top",""))):"bottom"===a?(x=d.offsetUnpin?-(1*d.offsetUnpin):t.top-e,m&&r.css("width",""),d.inlineStyles&&(r.css("position",d.offsetParent?"":"relative"),r.css("top",d.offsetParent?"":o[0].offsetHeight-b-n-v+"px"))):(x=null,m&&r.css("width",r[0].offsetWidth+"px"),d.inlineStyles&&(r.css("position","fixed"),r.css("top",g+"px"))),r.removeClass(p).addClass("affix"+("middle"!==a?"-"+a:"")))},h.$onResize=function(){h.$parseOffsets(),h.checkPosition()},h.$debouncedOnResize=n(h.$onResize,50),h.$parseOffsets=function(){var e=r.css("position");d.inlineStyles&&r.css("position",d.offsetParent?"":"relative"),d.offsetTop&&("auto"===d.offsetTop&&(d.offsetTop="+0"),d.offsetTop.match(/^[-+]\d+$/)?(g=1*-d.offsetTop,y=d.offsetParent?i.offset($[0]).top+1*d.offsetTop:i.offset(r[0]).top-i.css(r[0],"marginTop",!0)+1*d.offsetTop):y=1*d.offsetTop),d.offsetBottom&&(b=d.offsetParent&&d.offsetBottom.match(/^[-+]\d+$/)?c()-(i.offset($[0]).top+i.height($[0]))+1*d.offsetBottom+1:1*d.offsetBottom),d.inlineStyles&&r.css("position",e)},h.init(),h}var o=angular.element(t.document.body),a=angular.element(t);return r}]}).directive("bsAffix",["$affix","$window",function(e,t){return{restrict:"EAC",require:"^?bsAffixTarget",link:function(n,i,r,o){var a={scope:n,target:o?o.$element:angular.element(t)};angular.forEach(["offsetTop","offsetBottom","offsetParent","offsetUnpin","inlineStyles"],function(e){if(angular.isDefined(r[e])){var t=r[e];/true/i.test(t)&&(t=!0),/false/i.test(t)&&(t=!1),a[e]=t}});var s=e(i,a);n.$on("$destroy",function(){s&&s.destroy(),a=null,s=null})}}}]).directive("bsAffixTarget",function(){return{controller:["$element",function(e){this.$element=e}]}}),angular.module("mgcrea.ngStrap",["mgcrea.ngStrap.modal","mgcrea.ngStrap.aside","mgcrea.ngStrap.alert","mgcrea.ngStrap.button","mgcrea.ngStrap.select","mgcrea.ngStrap.datepicker","mgcrea.ngStrap.timepicker","mgcrea.ngStrap.navbar","mgcrea.ngStrap.tooltip","mgcrea.ngStrap.popover","mgcrea.ngStrap.dropdown","mgcrea.ngStrap.typeahead","mgcrea.ngStrap.scrollspy","mgcrea.ngStrap.affix","mgcrea.ngStrap.tab","mgcrea.ngStrap.collapse"])}(window,document),function(e,t,n){"use strict";angular.module("mgcrea.ngStrap.aside").run(["$templateCache",function(e){e.put("aside/aside.tpl.html",'<div class="aside" tabindex="-1" role="dialog"><div class="aside-dialog"><div class="aside-content"><div class="aside-header" ng-show="title"><button type="button" class="close" ng-click="$hide()">&times;</button><h4 class="aside-title" ng-bind="title"></h4></div><div class="aside-body" ng-bind="content"></div><div class="aside-footer"><button type="button" class="btn btn-default" ng-click="$hide()">Close</button></div></div></div></div>')}]),angular.module("mgcrea.ngStrap.alert").run(["$templateCache",function(e){e.put("alert/alert.tpl.html",'<div class="alert" ng-class="[type ? \'alert-\' + type : null]"><button type="button" class="close" ng-if="dismissable" ng-click="$hide()">&times;</button> <strong ng-bind="title"></strong>&nbsp;<span ng-bind-html="content"></span></div>')}]),angular.module("mgcrea.ngStrap.datepicker").run(["$templateCache",function(e){e.put("datepicker/datepicker.tpl.html",'<div class="dropdown-menu datepicker" ng-class="\'datepicker-mode-\' + $mode" style="max-width: 320px"><table style="table-layout: fixed; height: 100%; width: 100%"><thead><tr class="text-center"><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$selectPane(-1)"><i class="{{$iconLeft}}"></i></button></th><th colspan="{{ rows[0].length - 2 }}"><button tabindex="-1" type="button" class="btn btn-default btn-block text-strong" ng-click="$toggleMode()"><strong style="text-transform: capitalize" ng-bind="title"></strong></button></th><th><button tabindex="-1" type="button" class="btn btn-default pull-right" ng-click="$selectPane(+1)"><i class="{{$iconRight}}"></i></button></th></tr><tr ng-if="showLabels" ng-bind-html="labels"></tr></thead><tbody><tr ng-repeat="(i, row) in rows" height="{{ 100 / rows.length }}%"><td class="text-center" ng-repeat="(j, el) in row"><button tabindex="-1" type="button" class="btn btn-default" style="width: 100%" ng-class="{\'btn-primary\': el.selected, \'btn-info btn-today\': el.isToday && !el.selected}" ng-click="$select(el.date)" ng-disabled="el.disabled"><span ng-class="{\'text-muted\': el.muted}" ng-bind="el.label"></span></button></td></tr></tbody></table></div>')}]),angular.module("mgcrea.ngStrap.modal").run(["$templateCache",function(e){e.put("modal/modal.tpl.html",'<div class="modal" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"><div class="modal-header" ng-show="title"><button type="button" class="close" aria-label="Close" ng-click="$hide()"><span aria-hidden="true">&times;</span></button><h4 class="modal-title" ng-bind="title"></h4></div><div class="modal-body" ng-bind="content"></div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="$hide()">Close</button></div></div></div></div>')}]),angular.module("mgcrea.ngStrap.dropdown").run(["$templateCache",function(e){e.put("dropdown/dropdown.tpl.html",'<ul tabindex="-1" class="dropdown-menu" role="menu" ng-show="content && content.length"><li role="presentation" ng-class="{divider: item.divider, active: item.active}" ng-repeat="item in content"><a role="menuitem" tabindex="-1" ng-href="{{item.href}}" ng-if="!item.divider && item.href" target="{{item.target || \'\'}}" ng-bind="item.text"></a> <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-if="!item.divider && item.click" ng-click="$eval(item.click);$hide()" ng-bind="item.text"></a></li></ul>');
}]),angular.module("mgcrea.ngStrap.popover").run(["$templateCache",function(e){e.put("popover/popover.tpl.html",'<div class="popover" tabindex="-1"><div class="arrow"></div><h3 class="popover-title" ng-bind="title" ng-show="title"></h3><div class="popover-content" ng-bind="content"></div></div>')}]),angular.module("mgcrea.ngStrap.select").run(["$templateCache",function(e){e.put("select/select.tpl.html",'<ul tabindex="-1" class="select dropdown-menu" ng-show="$isVisible()" role="select"><li ng-if="$showAllNoneButtons"><div class="btn-group" style="margin-bottom: 5px; margin-left: 5px"><button type="button" class="btn btn-default btn-xs" ng-click="$selectAll()">{{$allText}}</button> <button type="button" class="btn btn-default btn-xs" ng-click="$selectNone()">{{$noneText}}</button></div></li><li role="presentation" ng-repeat="match in $matches" ng-class="{active: $isActive($index)}"><a style="cursor: default" role="menuitem" tabindex="-1" ng-click="$select($index, $event)"><i class="{{$iconCheckmark}} pull-right" ng-if="$isMultiple && $isActive($index)"></i> <span ng-bind="match.label"></span></a></li></ul>')}]),angular.module("mgcrea.ngStrap.tab").run(["$templateCache",function(e){e.put("tab/tab.tpl.html",'<ul class="nav" ng-class="$navClass" role="tablist"><li role="presentation" ng-repeat="$pane in $panes track by $index" ng-class="[ $isActive($pane, $index) ? $activeClass : \'\', $pane.disabled ? \'disabled\' : \'\' ]"><a role="tab" data-toggle="tab" ng-click="!$pane.disabled && $setActive($pane.name || $index)" data-index="{{ $index }}" ng-bind-html="$pane.title" aria-controls="$pane.title"></a></li></ul><div ng-transclude class="tab-content"></div>')}]),angular.module("mgcrea.ngStrap.timepicker").run(["$templateCache",function(e){e.put("timepicker/timepicker.tpl.html",'<div class="dropdown-menu timepicker" style="min-width: 0px;width: auto"><table height="100%"><thead><tr class="text-center"><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 0)"><i class="{{ $iconUp }}"></i></button></th><th>&nbsp;</th><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 1)"><i class="{{ $iconUp }}"></i></button></th><th ng-if="showSeconds">&nbsp;</th><th ng-if="showSeconds"><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 2)"><i class="{{ $iconUp }}"></i></button></th></tr></thead><tbody><tr ng-repeat="(i, row) in rows"><td class="text-center"><button tabindex="-1" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[0].selected}" ng-click="$select(row[0].date, 0)" ng-disabled="row[0].disabled"><span ng-class="{\'text-muted\': row[0].muted}" ng-bind="row[0].label"></span></button></td><td><span ng-bind="i == midIndex ? timeSeparator : \' \'"></span></td><td class="text-center"><button tabindex="-1" ng-if="row[1].date" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[1].selected}" ng-click="$select(row[1].date, 1)" ng-disabled="row[1].disabled"><span ng-class="{\'text-muted\': row[1].muted}" ng-bind="row[1].label"></span></button></td><td ng-if="showSeconds"><span ng-bind="i == midIndex ? timeSeparator : \' \'"></span></td><td ng-if="showSeconds" class="text-center"><button tabindex="-1" ng-if="row[2].date" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[2].selected}" ng-click="$select(row[2].date, 2)" ng-disabled="row[2].disabled"><span ng-class="{\'text-muted\': row[2].muted}" ng-bind="row[2].label"></span></button></td><td ng-if="showAM">&nbsp;</td><td ng-if="showAM"><button tabindex="-1" ng-show="i == midIndex - !isAM * 1" style="width: 100%" type="button" ng-class="{\'btn-primary\': !!isAM}" class="btn btn-default" ng-click="$switchMeridian()" ng-disabled="el.disabled">AM</button> <button tabindex="-1" ng-show="i == midIndex + 1 - !isAM * 1" style="width: 100%" type="button" ng-class="{\'btn-primary\': !isAM}" class="btn btn-default" ng-click="$switchMeridian()" ng-disabled="el.disabled">PM</button></td></tr></tbody><tfoot><tr class="text-center"><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 0)"><i class="{{ $iconDown }}"></i></button></th><th>&nbsp;</th><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 1)"><i class="{{ $iconDown }}"></i></button></th><th ng-if="showSeconds">&nbsp;</th><th ng-if="showSeconds"><button ng-if="showSeconds" tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 2)"><i class="{{ $iconDown }}"></i></button></th></tr></tfoot></table></div>')}]),angular.module("mgcrea.ngStrap.typeahead").run(["$templateCache",function(e){e.put("typeahead/typeahead.tpl.html",'<ul tabindex="-1" class="typeahead dropdown-menu" ng-show="$isVisible()" role="select"><li role="presentation" ng-repeat="match in $matches" ng-class="{active: $index == $activeIndex}"><a role="menuitem" tabindex="-1" ng-click="$select($index, $event)" ng-bind="match.label"></a></li></ul>')}]),angular.module("mgcrea.ngStrap.tooltip").run(["$templateCache",function(e){e.put("tooltip/tooltip.tpl.html",'<div class="tooltip in" ng-show="title"><div class="tooltip-arrow"></div><div class="tooltip-inner" ng-bind="title"></div></div>')}])}(window,document),!function(e){function t(e,t){if(!(e.originalEvent.touches.length>1)){e.preventDefault();var n=e.originalEvent.changedTouches[0],i=document.createEvent("MouseEvents");i.initMouseEvent(t,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(i)}}if(e.support.touch="ontouchend"in document,e.support.touch){var n,i=e.ui.mouse.prototype,r=i._mouseInit,o=i._mouseDestroy;i._touchStart=function(e){var i=this;!n&&i._mouseCapture(e.originalEvent.changedTouches[0])&&(n=!0,i._touchMoved=!1,t(e,"mouseover"),t(e,"mousemove"),t(e,"mousedown"))},i._touchMove=function(e){n&&(this._touchMoved=!0,t(e,"mousemove"))},i._touchEnd=function(e){n&&(t(e,"mouseup"),t(e,"mouseout"),this._touchMoved||t(e,"click"),n=!1)},i._mouseInit=function(){var t=this;t.element.bind({touchstart:e.proxy(t,"_touchStart"),touchmove:e.proxy(t,"_touchMove"),touchend:e.proxy(t,"_touchEnd")}),r.call(t)},i._mouseDestroy=function(){var t=this;t.element.unbind({touchstart:e.proxy(t,"_touchStart"),touchmove:e.proxy(t,"_touchMove"),touchend:e.proxy(t,"_touchEnd")}),o.call(t)}}}(jQuery),angular.module("debounce",[]).service("debounce",["$timeout",function(e){return function(t,n,i,r){function o(){l=this,s=arguments;var o=function(){a=null,i||(u=t.apply(l,s))},c=i&&!a;return a&&e.cancel(a),a=e(o,n,r),c&&(u=t.apply(l,s)),u}var a,s,l,u;return o.cancel=function(){e.cancel(a),a=null},o}}]).directive("debounce",["debounce","$parse",function(e,t){return{require:"ngModel",priority:999,link:function(n,i,r,o){var a,s,l=t(r.debounce)(n),u=!!t(r.immediate)(n),c=o.$render.bind(o),h=e(function(e){s=!0,o.$$lastCommittedViewValue=a,o.$setViewValue(e),s=!1},parseInt(l,10),u);o.$render=function(){c(),h.cancel(),a=this.$viewValue},o.$parsers.unshift(function(e){return s?(a=e,e):(h(o.$viewValue),a)})}}}]),function(){var e=window.MutationObserver||window.WebKitMutationObserver,t="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,n=void 0!==document.documentElement.style["touch-action"]||document.documentElement.style["-ms-touch-action"];if(!n&&t&&e){window.Hammer=window.Hammer||{};var i=/touch-action[:][\s]*(none)[^;'"]*/,r=/touch-action[:][\s]*(manipulation)[^;'"]*/,o=/touch-action/,a=/(iP(ad|hone|od))/.test(navigator.userAgent)&&("indexedDB"in window||!!window.performance);window.Hammer.time={getTouchAction:function(e){return this.checkStyleString(e.getAttribute("style"))},checkStyleString:function(e){return o.test(e)?i.test(e)?"none":r.test(e)?"manipulation":!0:void 0},shouldHammer:function(e){var t=e.target.hasParent;return t&&(!a||Date.now()-e.target.lastStart<125)?t:!1},touchHandler:function(e){var t=this.shouldHammer(e);if("none"===t)this.dropHammer(e);else if("manipulation"===t){var n=e.target.getBoundingClientRect(),i=n.top!==this.pos.top||n.left!==this.pos.left;!i&&this.dropHammer(e)}this.scrolled=!1,delete e.target.lastStart,delete e.target.hasParent},dropHammer:function(e){"touchend"===e.type&&(e.target.focus(),setTimeout(function(){e.target.click()},0)),e.preventDefault()},touchStart:function(e){this.pos=e.target.getBoundingClientRect(),e.target.hasParent=this.hasParent(e.target),a&&e.target.hasParent&&(e.target.lastStart=Date.now())},styleWatcher:function(e){e.forEach(this.styleUpdater,this)},styleUpdater:function(e){if(e.target.updateNext)return void(e.target.updateNext=!1);var t=this.getTouchAction(e.target);return t?void("none"!==t&&(e.target.hadTouchNone=!1)):void(!t&&(e.oldValue&&this.checkStyleString(e.oldValue)||e.target.hadTouchNone)&&(e.target.hadTouchNone=!0,e.target.updateNext=!1,e.target.setAttribute("style",e.target.getAttribute("style")+" touch-action: none;")))},hasParent:function(e){for(var t,n=e;n&&n.parentNode;n=n.parentNode)if(t=this.getTouchAction(n))return t;return!1},installStartEvents:function(){document.addEventListener("touchstart",this.touchStart.bind(this)),document.addEventListener("mousedown",this.touchStart.bind(this))},installEndEvents:function(){document.addEventListener("touchend",this.touchHandler.bind(this),!0),document.addEventListener("mouseup",this.touchHandler.bind(this),!0)},installObserver:function(){this.observer=new e(this.styleWatcher.bind(this)).observe(document,{subtree:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["style"]})},install:function(){this.installEndEvents(),this.installStartEvents(),this.installObserver()}},window.Hammer.time.install()}}();var DecodeStream=function(){function e(){this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=null}return e.prototype={ensureBuffer:function(e){var t=this.buffer,n=t?t.byteLength:0;if(n>e)return t;for(var i=512;e>i;)i<<=1;for(var r=new Uint8Array(i),o=0;n>o;++o)r[o]=t[o];return this.buffer=r},getByte:function(){for(var e=this.pos;this.bufferLength<=e;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(e){var t=this.pos;if(e){this.ensureBuffer(t+e);for(var n=t+e;!this.eof&&this.bufferLength<n;)this.readBlock();var i=this.bufferLength;n>i&&(n=i)}else{for(;!this.eof;)this.readBlock();var n=this.bufferLength}return this.pos=n,this.buffer.subarray(t,n)},lookChar:function(){for(var e=this.pos;this.bufferLength<=e;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var e=this.pos;this.bufferLength<=e;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(e,t,n){for(var i=e+t;this.bufferLength<=i&&!this.eof;)this.readBlock();return new Stream(this.buffer,e,t,n)},skip:function(e){e||(e=1),this.pos+=e},reset:function(){this.pos=0}},e}(),FlateStream=function(){function e(e){throw new Error(e)}function t(t){var n=0,i=t[n++],r=t[n++];-1!=i&&-1!=r||e("Invalid header in flate stream"),8!=(15&i)&&e("Unknown compression method in flate stream"),((i<<8)+r)%31!=0&&e("Bad FCHECK in flate stream"),32&r&&e("FDICT bit set in flate stream"),this.bytes=t,this.bytesPos=n,this.codeSize=0,this.codeBuf=0,DecodeStream.call(this)}var n=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),i=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),r=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),o=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],a=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];return t.prototype=Object.create(DecodeStream.prototype),t.prototype.getBits=function(t){for(var n,i=this.codeSize,r=this.codeBuf,o=this.bytes,a=this.bytesPos;t>i;)"undefined"==typeof(n=o[a++])&&e("Bad encoding in flate stream"),r|=n<<i,i+=8;return n=r&(1<<t)-1,this.codeBuf=r>>t,this.codeSize=i-=t,this.bytesPos=a,n},t.prototype.getCode=function(t){for(var n=t[0],i=t[1],r=this.codeSize,o=this.codeBuf,a=this.bytes,s=this.bytesPos;i>r;){var l;"undefined"==typeof(l=a[s++])&&e("Bad encoding in flate stream"),o|=l<<r,r+=8}var u=n[o&(1<<i)-1],c=u>>16,h=65535&u;return(0==r||c>r||0==c)&&e("Bad encoding in flate stream"),this.codeBuf=o>>c,this.codeSize=r-c,this.bytesPos=s,h},t.prototype.generateHuffmanTable=function(e){for(var t=e.length,n=0,i=0;t>i;++i)e[i]>n&&(n=e[i]);for(var r=1<<n,o=new Uint32Array(r),a=1,s=0,l=2;n>=a;++a,s<<=1,l<<=1)for(var u=0;t>u;++u)if(e[u]==a){for(var c=0,h=s,i=0;a>i;++i)c=c<<1|1&h,h>>=1;for(var i=c;r>i;i+=l)o[i]=a<<16|u;++s}return[o,n]},t.prototype.readBlock=function(){function t(e,t,n,i,r){for(var o=e.getBits(n)+i;o-- >0;)t[C++]=r}var s=this.getBits(3);if(1&s&&(this.eof=!0),s>>=1,0==s){var l,u=this.bytes,c=this.bytesPos;"undefined"==typeof(l=u[c++])&&e("Bad block header in flate stream");var h=l;"undefined"==typeof(l=u[c++])&&e("Bad block header in flate stream"),h|=l<<8,"undefined"==typeof(l=u[c++])&&e("Bad block header in flate stream");var d=l;"undefined"==typeof(l=u[c++])&&e("Bad block header in flate stream"),d|=l<<8,d!=(65535&~h)&&e("Bad uncompressed block length in flate stream"),this.codeBuf=0,this.codeSize=0;var f=this.bufferLength,p=this.ensureBuffer(f+h),m=f+h;this.bufferLength=m;for(var g=f;m>g;++g){if("undefined"==typeof(l=u[c++])){this.eof=!0;break}p[g]=l}return void(this.bytesPos=c)}var v,y;if(1==s)v=o,y=a;else if(2==s){for(var b=this.getBits(5)+257,w=this.getBits(5)+1,x=this.getBits(4)+4,$=Array(n.length),C=0;x>C;)$[n[C++]]=this.getBits(3);for(var T=this.generateHuffmanTable($),_=0,C=0,k=b+w,S=new Array(k);k>C;){var M=this.getCode(T);16==M?t(this,S,2,3,_):17==M?t(this,S,3,3,_=0):18==M?t(this,S,7,11,_=0):S[C++]=_=M}v=this.generateHuffmanTable(S.slice(0,b)),y=this.generateHuffmanTable(S.slice(b,k))}else e("Unknown block type in flate stream");for(var p=this.buffer,D=p?p.length:0,I=this.bufferLength;;){var E=this.getCode(v);if(256>E)I+1>=D&&(p=this.ensureBuffer(I+1),D=p.length),p[I++]=E;else{if(256==E)return void(this.bufferLength=I);E-=257,E=i[E];var P=E>>16;P>0&&(P=this.getBits(P));var _=(65535&E)+P;E=this.getCode(y),E=r[E],P=E>>16,P>0&&(P=this.getBits(P));var A=(65535&E)+P;I+_>=D&&(p=this.ensureBuffer(I+_),D=p.length);for(var O=0;_>O;++O,++I)p[I]=p[I-A]}}},t}();(function(){var e;e=function(){function e(e){var t,n,i,r,o,a,s,l,u,c,h,d,f,p;for(this.data=e,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},o=null;;){switch(t=this.readUInt32(),u=function(){var e,t;for(t=[],a=e=0;4>e;a=++e)t.push(String.fromCharCode(this.data[this.pos++]));return t}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(t);break;case"fcTL":o&&this.animation.frames.push(o),this.pos+=4,o={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},r=this.readUInt16(),i=this.readUInt16()||100,o.delay=1e3*r/i,o.disposeOp=this.data[this.pos++],o.blendOp=this.data[this.pos++],o.data=[];break;case"IDAT":case"fdAT":for("fdAT"===u&&(this.pos+=4,t-=4),e=(null!=o?o.data:void 0)||this.imgData,a=d=0;t>=0?t>d:d>t;a=t>=0?++d:--d)e.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(this.transparency.indexed=this.read(t),c=255-this.transparency.indexed.length,c>0)for(a=f=0;c>=0?c>f:f>c;a=c>=0?++f:--f)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(t)[0];break;case 2:this.transparency.rgb=this.read(t)}break;case"tEXt":h=this.read(t),s=h.indexOf(0),l=String.fromCharCode.apply(String,h.slice(0,s)),this.text[l]=String.fromCharCode.apply(String,h.slice(s+1));break;case"IEND":return o&&this.animation.frames.push(o),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(p=this.colorType)||6===p,n=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*n,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=t}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}var t,n,i,r,o,a,s,l;return e.load=function(t,n,i){var r;return"function"==typeof n&&(i=n),r=new XMLHttpRequest,r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=function(){var t,o;return t=new Uint8Array(r.response||r.mozResponseArrayBuffer),o=new e(t),"function"==typeof(null!=n?n.getContext:void 0)&&o.render(n),"function"==typeof i?i(o):void 0},r.send(null)},r=0,i=1,o=2,n=0,t=1,e.prototype.read=function(e){var t,n,i;for(i=[],t=n=0;e>=0?e>n:n>e;t=e>=0?++n:--n)i.push(this.data[this.pos++]);return i},e.prototype.readUInt32=function(){var e,t,n,i;return e=this.data[this.pos++]<<24,t=this.data[this.pos++]<<16,n=this.data[this.pos++]<<8,i=this.data[this.pos++],e|t|n|i},e.prototype.readUInt16=function(){var e,t;return e=this.data[this.pos++]<<8,t=this.data[this.pos++],e|t},e.prototype.decodePixels=function(e){var t,n,i,r,o,a,s,l,u,c,h,d,f,p,m,g,v,y,b,w,x,$,C;if(null==e&&(e=this.imgData),0===e.length)return new Uint8Array(0);for(e=new FlateStream(e),e=e.getBytes(),d=this.pixelBitlength/8,g=d*this.width,f=new Uint8Array(g*this.height),a=e.length,m=0,p=0,n=0;a>p;){switch(e[p++]){case 0:for(r=b=0;g>b;r=b+=1)f[n++]=e[p++];break;case 1:for(r=w=0;g>w;r=w+=1)t=e[p++],o=d>r?0:f[n-d],f[n++]=(t+o)%256;break;case 2:for(r=x=0;g>x;r=x+=1)t=e[p++],i=(r-r%d)/d,v=m&&f[(m-1)*g+i*d+r%d],f[n++]=(v+t)%256;break;case 3:for(r=$=0;g>$;r=$+=1)t=e[p++],i=(r-r%d)/d,o=d>r?0:f[n-d],v=m&&f[(m-1)*g+i*d+r%d],f[n++]=(t+Math.floor((o+v)/2))%256;break;case 4:for(r=C=0;g>C;r=C+=1)t=e[p++],i=(r-r%d)/d,o=d>r?0:f[n-d],0===m?v=y=0:(v=f[(m-1)*g+i*d+r%d],y=i&&f[(m-1)*g+(i-1)*d+r%d]),s=o+v-y,l=Math.abs(s-o),c=Math.abs(s-v),h=Math.abs(s-y),u=c>=l&&h>=l?o:h>=c?v:y,f[n++]=(t+u)%256;break;default:throw new Error("Invalid filter algorithm: "+e[p-1])}m++}return f},e.prototype.decodePalette=function(){var e,t,n,i,r,o,a,s,l,u;for(i=this.palette,a=this.transparency.indexed||[],o=new Uint8Array((a.length||0)+i.length),r=0,n=i.length,e=0,t=s=0,l=i.length;l>s;t=s+=3)o[r++]=i[t],o[r++]=i[t+1],o[r++]=i[t+2],o[r++]=null!=(u=a[e++])?u:255;return o},e.prototype.copyToImageData=function(e,t){var n,i,r,o,a,s,l,u,c,h,d;if(i=this.colors,c=null,n=this.hasAlphaChannel,this.palette.length&&(c=null!=(d=this._decodedPalette)?d:this._decodedPalette=this.decodePalette(),i=4,n=!0),r=e.data||e,u=r.length,a=c||t,o=s=0,1===i)for(;u>o;)l=c?4*t[o/4]:s,h=a[l++],r[o++]=h,r[o++]=h,r[o++]=h,r[o++]=n?a[l++]:255,s=l;else for(;u>o;)l=c?4*t[o/4]:s,r[o++]=a[l++],r[o++]=a[l++],r[o++]=a[l++],r[o++]=n?a[l++]:255,s=l},e.prototype.decode=function(){var e;return e=new Uint8Array(this.width*this.height*4),this.copyToImageData(e,this.decodePixels()),e},s=document.createElement("canvas"),l=s.getContext("2d"),a=function(e){var t;return l.width=e.width,l.height=e.height,l.clearRect(0,0,e.width,e.height),l.putImageData(e,0,0),t=new Image,t.src=s.toDataURL(),t},e.prototype.decodeFrames=function(e){var t,n,i,r,o,s,l,u;if(this.animation){for(l=this.animation.frames,u=[],n=o=0,s=l.length;s>o;n=++o)t=l[n],i=e.createImageData(t.width,t.height),r=this.decodePixels(new Uint8Array(t.data)),this.copyToImageData(i,r),t.imageData=i,u.push(t.image=a(i));return u}},e.prototype.renderFrame=function(e,t){var r,a,s;return a=this.animation.frames,r=a[t],s=a[t-1],0===t&&e.clearRect(0,0,this.width,this.height),(null!=s?s.disposeOp:void 0)===i?e.clearRect(s.xOffset,s.yOffset,s.width,s.height):(null!=s?s.disposeOp:void 0)===o&&e.putImageData(s.imageData,s.xOffset,s.yOffset),r.blendOp===n&&e.clearRect(r.xOffset,r.yOffset,r.width,r.height),e.drawImage(r.image,r.xOffset,r.yOffset)},e.prototype.animate=function(e){var t,n,i,r,o,a,s=this;return n=0,a=this.animation,r=a.numFrames,i=a.frames,o=a.numPlays,(t=function(){var a,l;return a=n++%r,l=i[a],s.renderFrame(e,a),r>1&&o>n/r?s.animation._timeout=setTimeout(t,l.delay):void 0})()},e.prototype.stopAnimation=function(){var e;return clearTimeout(null!=(e=this.animation)?e._timeout:void 0)},e.prototype.render=function(e){var t,n;return e._png&&e._png.stopAnimation(),e._png=this,e.width=this.width,e.height=this.height,t=e.getContext("2d"),this.animation?(this.decodeFrames(t),this.animate(t)):(n=t.createImageData(this.width,this.height),this.copyToImageData(n,this.decodePixels()),t.putImageData(n,0,0))},e}(),window.PNG=e}).call(this);